---
ms.openlocfilehash: 6c35174be50ffc5031d0c4183bd936b4ef27757e
ms.sourcegitcommit: d9c7ac5d06735a01c1fafe34efe9486734841a72
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/06/2020
ms.locfileid: "82859796"
---
### <a name="sse-and-sse2-comparegreaterthan-methods-properly-handle-nan-inputs"></a><span data-ttu-id="b6ba0-101">I metodi CompareGreaterThan SSE e SSE2 gestiscono correttamente gli input NaN</span><span class="sxs-lookup"><span data-stu-id="b6ba0-101">SSE and SSE2 CompareGreaterThan methods properly handle NaN inputs</span></span>

<span data-ttu-id="b6ba0-102">I metodi <xref:System.Runtime.Intrinsics.X86.Sse?displayProperty=nameWithType> e <xref:System.Runtime.Intrinsics.X86.Sse2?displayProperty=nameWithType> seguenti sono stati corretti per gestire `NaN` correttamente gli input e corrispondono al comportamento hardware dei metodi equivalenti nella <xref:System.Runtime.Intrinsics.X86.Avx?displayProperty=nameWithType> classe:</span><span class="sxs-lookup"><span data-stu-id="b6ba0-102">The following <xref:System.Runtime.Intrinsics.X86.Sse?displayProperty=nameWithType> and <xref:System.Runtime.Intrinsics.X86.Sse2?displayProperty=nameWithType> methods have been fixed to properly handle `NaN` inputs and match the hardware behavior of the equivalent methods in the <xref:System.Runtime.Intrinsics.X86.Avx?displayProperty=nameWithType> class:</span></span>

* `CompareGreaterThan`
* `CompareGreaterThanOrEqual`
* `CompareNotGreaterThan`
* `CompareNotGreaterThanOrEqual`
* `CompareScalarGreaterThan`
* `CompareScalarGreaterThanOrEqual`
* `CompareScalarNotGreaterThan`
* `CompareScalarNotGreaterThanOrEqual`

#### <a name="change-description"></a><span data-ttu-id="b6ba0-103">Descrizione modifica:</span><span class="sxs-lookup"><span data-stu-id="b6ba0-103">Change description</span></span>

<span data-ttu-id="b6ba0-104">In precedenza `NaN` , gli input per <xref:System.Runtime.Intrinsics.X86.Sse> i <xref:System.Runtime.Intrinsics.X86.Sse2> metodi e elencati restituivano un risultato errato.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-104">Previously, `NaN` inputs to the listed <xref:System.Runtime.Intrinsics.X86.Sse> and <xref:System.Runtime.Intrinsics.X86.Sse2> methods returned an incorrect result.</span></span> <span data-ttu-id="b6ba0-105">Anche il risultato è diverso dal risultato generato dal metodo corrispondente nella <xref:System.Runtime.Intrinsics.X86.Avx> classe.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-105">The result also differed from the result generated by the corresponding method in the <xref:System.Runtime.Intrinsics.X86.Avx> class.</span></span>

<span data-ttu-id="b6ba0-106">A partire da .NET 5,0, questi metodi gestiscono `NaN` correttamente gli input e restituiscono gli stessi risultati dei metodi <xref:System.Runtime.Intrinsics.X86.Avx> corrispondenti nella classe.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-106">Starting in .NET 5.0, these methods correctly handle `NaN` inputs and return the same results as the corresponding methods in the <xref:System.Runtime.Intrinsics.X86.Avx> class.</span></span>

<span data-ttu-id="b6ba0-107">Le architetture standard di settore Streaming SIMD Extensions (SSE) e Streaming SIMD Extensions 2 (SSE2) (ISA) non forniscono supporto hardware diretto per questi metodi di confronto, quindi sono implementate nel software.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-107">The Streaming SIMD Extensions (SSE) and Streaming SIMD Extensions 2 (SSE2) industry standard architectures (ISAs) don't provide direct hardware support for these comparison methods, so they're implemented in software.</span></span> <span data-ttu-id="b6ba0-108">In precedenza, i metodi venivano implementati in modo non corretto e gli `NaN` input venivano gestiti in modo errato.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-108">Previously, the methods were improperly implemented, and they incorrectly handled `NaN` inputs.</span></span> <span data-ttu-id="b6ba0-109">Per il codice trasferito da nativo, il comportamento errato può presentare bug.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-109">For code ported from native, the incorrect behavior may introduce bugs.</span></span> <span data-ttu-id="b6ba0-110">Per un percorso di codice a 256 bit, i metodi possono anche produrre risultati diversi nei metodi equivalenti della <xref:System.Runtime.Intrinsics.X86.Avx> classe.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-110">For a 256-bit code path, the methods can also produce different results to the equivalent methods in the <xref:System.Runtime.Intrinsics.X86.Avx> class.</span></span>

<span data-ttu-id="b6ba0-111">Come esempio del modo in cui i metodi non erano corretti in precedenza, `CompareNotGreaterThan(x,y)` è `CompareLessThanOrEqual(x,y)` possibile implementare come per i valori integer regolari.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-111">As an example of how the methods were previously incorrect, you can implement `CompareNotGreaterThan(x,y)` as `CompareLessThanOrEqual(x,y)` for regular integers.</span></span> <span data-ttu-id="b6ba0-112">Tuttavia, per `NaN` gli input, la logica calcola il risultato errato.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-112">However, for `NaN` inputs, that logic computes the wrong result.</span></span> <span data-ttu-id="b6ba0-113">Al contrario, `CompareNotLessThan(y,x)` l'utilizzo di confronta correttamente i numeri `NaN` *e* prende in considerazione gli input.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-113">Instead, using `CompareNotLessThan(y,x)` compares the numbers correctly *and* takes `NaN` inputs into consideration.</span></span>

#### <a name="version-introduced"></a><span data-ttu-id="b6ba0-114">Versione introdotta</span><span class="sxs-lookup"><span data-stu-id="b6ba0-114">Version introduced</span></span>

<span data-ttu-id="b6ba0-115">5,0 Anteprima 4</span><span class="sxs-lookup"><span data-stu-id="b6ba0-115">5.0 Preview 4</span></span>

#### <a name="recommended-action"></a><span data-ttu-id="b6ba0-116">Azione consigliata</span><span class="sxs-lookup"><span data-stu-id="b6ba0-116">Recommended action</span></span>

- <span data-ttu-id="b6ba0-117">Se il comportamento precedente era un bug, non è necessaria alcuna modifica.</span><span class="sxs-lookup"><span data-stu-id="b6ba0-117">If the previous behavior was a bug, no change is required.</span></span>

- <span data-ttu-id="b6ba0-118">Se era necessario il comportamento precedente, è possibile mantenere tale comportamento cambiando la chiamata pertinente come segue:</span><span class="sxs-lookup"><span data-stu-id="b6ba0-118">If the previous behavior was desired, you can maintain that behavior by changing the relevant invocation as follows:</span></span>

  * `CompareGreaterThan(x,y)` -> `CompareNotLessThanOrEqual(x,y)`
  * `CompareGreaterThanOrEqual(x,y)` -> `CompareNotLessThan(x,y)`
  * `CompareNotGreaterThan(x,y)` -> `CompareLessThanOrEqual(x,y)`
  * `CompareNotGreaterThanOrEqual(x,y)` -> `CompareLessThan(x,y)`
  * `CompareScalarGreaterThan(x,y)` -> `CompareScalarNotLessThanOrEqual(x,y)`
  * `CompareScalarGreaterThanOrEqual(x,y)` -> `CompareScalarNotLessThan(x,y)`
  * `CompareScalarNotGreaterThan(x,y)` -> `CompareScalarLessThanOrEqual(x,y)`
  * `CompareScalarNotGreaterThanOrEqual(x,y)` -> `CompareScalarLessThan(x,y)`

#### <a name="category"></a><span data-ttu-id="b6ba0-119">Categoria</span><span class="sxs-lookup"><span data-stu-id="b6ba0-119">Category</span></span>

<span data-ttu-id="b6ba0-120">Principali librerie .NET</span><span class="sxs-lookup"><span data-stu-id="b6ba0-120">Core .NET libraries</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="b6ba0-121">API interessate</span><span class="sxs-lookup"><span data-stu-id="b6ba0-121">Affected APIs</span></span>

- <xref:System.Runtime.Intrinsics.X86.Sse.CompareGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareScalarGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareScalarGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareScalarNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse.CompareScalarNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})?displayProperty=fullName>

- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareScalarGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareScalarGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareScalarNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>
- <xref:System.Runtime.Intrinsics.X86.Sse2.CompareScalarNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})?displayProperty=fullName>

<!--

### Affected APIs

- `M:System.Runtime.Intrinsics.X86.Sse.CompareGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareScalarGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareScalarGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareScalarNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`
- `M:System.Runtime.Intrinsics.X86.Sse.CompareScalarNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Single},System.Runtime.Intrinsics.Vector128{System.Single})`

- `M:System.Runtime.Intrinsics.X86.Sse2.CompareGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareScalarGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareScalarGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareScalarNotGreaterThan(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`
- `M:System.Runtime.Intrinsics.X86.Sse2.CompareScalarNotGreaterThanOrEqual(System.Runtime.Intrinsics.Vector128{System.Double},System.Runtime.Intrinsics.Vector128{System.Double})`

-->
