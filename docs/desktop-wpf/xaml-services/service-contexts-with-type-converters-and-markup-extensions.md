---
title: Contesti di servizio disponibili per convertitori di tipi ed estensioni di markup
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services how-to
ms.assetid: b4dad00f-03da-4579-a4e9-d8d72d2ccbce
ms.openlocfilehash: 59c4385eb4df8c622be6164cdb0a1a911c445ca8
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071661"
---
# <a name="service-contexts-available-to-type-converters-and-markup-extensions"></a><span data-ttu-id="81e53-102">Contesti di servizio disponibili per convertitori di tipi ed estensioni di markup</span><span class="sxs-lookup"><span data-stu-id="81e53-102">Service Contexts Available to Type Converters and Markup Extensions</span></span>
<span data-ttu-id="81e53-103">Gli autori dei tipi che supportano gli utilizzi di convertitori di tipi e estensioni di markup devono spesso disporre di informazioni contestuali sulla posizione di utilizzo nel markup o nella struttura dell'oggetto grafico circostante.</span><span class="sxs-lookup"><span data-stu-id="81e53-103">Authors of the types that support type converter and markup extension usages must often have contextual information about where a usage is located in the markup, or in surrounding object graph structure.</span></span> <span data-ttu-id="81e53-104">Le informazioni potrebbero essere necessarie per garantire che venga creata correttamente un'istanza dell'oggetto fornito o che vengano definiti i riferimenti dell'oggetto agli oggetti esistenti nell'oggetto grafico.</span><span class="sxs-lookup"><span data-stu-id="81e53-104">Information might be needed so that the provided object is instantiated correctly or so that object references to existing objects in the object graph can be made.</span></span> <span data-ttu-id="81e53-105">Quando si usano i servizi XAML .NET, il contesto che potrebbe essere necessario viene esposto come una serie di interfacce di servizio.</span><span class="sxs-lookup"><span data-stu-id="81e53-105">When using .NET XAML Services, the context that might be required is exposed as a series of service interfaces.</span></span> <span data-ttu-id="81e53-106">Nel codice di supporto del convertitore di tipi o dell'estensione di markup può essere eseguita una query per un servizio usando il contesto di un provider di servizi disponibile e passato da <xref:System.Xaml.XamlObjectWriter> o da tipi correlati.</span><span class="sxs-lookup"><span data-stu-id="81e53-106">Type converter or markup extension support code can query for a service by using a service provider context that is available and passed through from <xref:System.Xaml.XamlObjectWriter> or related types.</span></span> <span data-ttu-id="81e53-107">Il contesto dello schema XAML è disponibile direttamente attraverso uno di questi servizi.</span><span class="sxs-lookup"><span data-stu-id="81e53-107">The XAML schema context is directly available through one such service.</span></span> <span data-ttu-id="81e53-108">In questo argomento viene illustrato come accedere ai contesti di servizio da un'implementazione del convertitore di valori e vengono elencati i servizi generalmente disponibili e i relativi ruoli.</span><span class="sxs-lookup"><span data-stu-id="81e53-108">This topic describes how to access service contexts from a value converter implementation, and lists typically available services and their roles.</span></span>

## <a name="obtaining-services"></a><span data-ttu-id="81e53-109">Acquisizione di servizi</span><span class="sxs-lookup"><span data-stu-id="81e53-109">Obtaining Services</span></span>

<span data-ttu-id="81e53-110">In qualità di implementatore di un convertitore di valori, è spesso necessario accedere a un determinato tipo di contesto in cui viene applicato il convertitore di valori.</span><span class="sxs-lookup"><span data-stu-id="81e53-110">As an implementer of a value converter, you often need access to some type of context in which the value converter is applied.</span></span> <span data-ttu-id="81e53-111">Questo contesto può includere informazioni quali il contesto dello schema XAML attivo, l'accesso al sistema di mapping dei tipi fornito dal contesto dello schema XAML e dal writer di oggetti XAML e così via.</span><span class="sxs-lookup"><span data-stu-id="81e53-111">This context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="81e53-112">I servizi disponibili per un'implementazione di un'estensione di markup o un convertitore tipo vengono comunicati tramite i parametri di contesto che fanno parte della firma di ogni metodo virtuale.</span><span class="sxs-lookup"><span data-stu-id="81e53-112">The services available for a markup extension or type converter implementation are communicated through the context parameters that are part of the signature of each virtual method.</span></span> <span data-ttu-id="81e53-113">In ogni caso, si dispone di <xref:System.IServiceProvider> implementato nel contesto e si può chiamare <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType> per richiedere un servizio.</span><span class="sxs-lookup"><span data-stu-id="81e53-113">In every case, you have <xref:System.IServiceProvider> implemented in the context, and can call <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType> to request a service.</span></span>

## <a name="services-for-a-markup-extension"></a><span data-ttu-id="81e53-114">Servizi per un'estensione di markup</span><span class="sxs-lookup"><span data-stu-id="81e53-114">Services for a Markup Extension</span></span>

<span data-ttu-id="81e53-115"><xref:System.Windows.Markup.MarkupExtension> dispone un solo di metodo virtuale, <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="81e53-115"><xref:System.Windows.Markup.MarkupExtension> has only one virtual method, <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="81e53-116">Il parametro `serviceProvider` di input rappresenta il modo in cui i servizi vengono comunicati alle implementazioni quando l'estensione di markup viene chiamata da un processore XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-116">The input `serviceProvider` parameter is how the services are communicated to implementations when the markup extension is called by a XAML processor.</span></span> <span data-ttu-id="81e53-117">Nello pseudocodice seguente viene illustrato il modo in cui un'implementazione dell'estensione di markup potrebbe eseguire query per i servizi nel relativo metodo <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>:</span><span class="sxs-lookup"><span data-stu-id="81e53-117">The following pseudocode illustrates how a markup extension implementation might query for services in its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>:</span></span>

```csharp
public override object ProvideValue(IServiceProvider serviceProvider)
{
...
    // Get the IXamlTypeResolver from the service provider
    if (serviceProvider == null)
    {
        throw new ArgumentNullException("serviceProvider");
    }
    IXamlTypeResolver xamlTypeResolver = serviceProvider.GetService(typeof(IXamlTypeResolver)) as IXamlTypeResolver;
    if (xamlTypeResolver == null)
   {
        throw new ArgumentException("IXamlTypeResolver"));
    }
...
}
```

## <a name="services-for-a-type-converter"></a><span data-ttu-id="81e53-118">Servizi per un convertitore di tipi</span><span class="sxs-lookup"><span data-stu-id="81e53-118">Services for a Type Converter</span></span>

<span data-ttu-id="81e53-119"><xref:System.ComponentModel.TypeConverter> dispone di quattro metodi virtuali che usano un contesto del servizio e che supportano utilizzi di XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-119"><xref:System.ComponentModel.TypeConverter> has four virtual methods that use a service context and that support XAML usages.</span></span> <span data-ttu-id="81e53-120">Ognuno di questi metodi passa un parametro `context` di input.</span><span class="sxs-lookup"><span data-stu-id="81e53-120">Each of these methods passes an input `context` parameter.</span></span> <span data-ttu-id="81e53-121">Questo parametro è di tipo <xref:System.ComponentModel.ITypeDescriptorContext>, ma tale interfaccia eredita <xref:System.IServiceProvider>ed è quindi disponibile un metodo <xref:System.IServiceProvider.GetService%2A> per le implementazioni di convertitori di tipi.</span><span class="sxs-lookup"><span data-stu-id="81e53-121">This parameter is of type <xref:System.ComponentModel.ITypeDescriptorContext>, but that interface inherits <xref:System.IServiceProvider>, and therefore, there is a <xref:System.IServiceProvider.GetService%2A> method available to type converter implementations.</span></span>

<span data-ttu-id="81e53-122">Nello pseudocodice seguente viene illustrato il modo in cui un'implementazione del convertitore di tipi per utilizzi di XAML potrebbe eseguire query per i servizi in uno dei relativi override, in questo caso <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>:</span><span class="sxs-lookup"><span data-stu-id="81e53-122">The following pseudocode illustrates how a type converter implementation for XAML usages might query for services in one of its overrides, in this case <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>:</span></span>

```csharp
public override object ConvertFrom(ITypeDescriptorContext typeDescriptorContext,
  CultureInfo cultureInfo,
  object source)
{
    IRootObjectProvider rootProvider = typeDescriptorContext.GetService(typeof(IRootObjectProvider)) as IRootObjectProvider;
    if (rootProvider != null && source is String)
    {
        //return something, else ...
    }
    throw GetConvertFromException(source);
}
```

## <a name="services-for-a-value-serializer"></a><span data-ttu-id="81e53-123">Servizi per un serializzatore di valori</span><span class="sxs-lookup"><span data-stu-id="81e53-123">Services for a Value Serializer</span></span>

<span data-ttu-id="81e53-124">Per il contesto del serializzatore di valori, si usa un tipo di provider di servizi specifico per la classe <xref:System.Windows.Markup.ValueSerializer> , <xref:System.Windows.Markup.IValueSerializerContext>.</span><span class="sxs-lookup"><span data-stu-id="81e53-124">For value serializer context, you use a service provider type that is specific to the <xref:System.Windows.Markup.ValueSerializer> class, <xref:System.Windows.Markup.IValueSerializerContext>.</span></span> <span data-ttu-id="81e53-125">Tale contesto viene passato agli override dei quattro metodi virtuali di <xref:System.Windows.Markup.ValueSerializer> .</span><span class="sxs-lookup"><span data-stu-id="81e53-125">That context is passed to overrides of the four <xref:System.Windows.Markup.ValueSerializer> virtual methods.</span></span> <span data-ttu-id="81e53-126">Per ottenere servizi, chiamare <xref:System.IServiceProvider.GetService%2A> dal contesto.</span><span class="sxs-lookup"><span data-stu-id="81e53-126">Call <xref:System.IServiceProvider.GetService%2A> from the context to obtain services.</span></span>

## <a name="using-the-xaml-service-provider-contexts"></a><span data-ttu-id="81e53-127">Utilizzo dei contesti di provider di servizi XAML</span><span class="sxs-lookup"><span data-stu-id="81e53-127">Using the XAML Service Provider Contexts</span></span>

<span data-ttu-id="81e53-128">Il provider <xref:System.IServiceProvider.GetService%2A> di servizi per l'accesso ai servizi XAML disponibili per le estensioni di markup o i convertitori di tipi viene implementato come classe interna, con esposizione solo tramite l'interfaccia e come viene passata nel contesto pertinente.</span><span class="sxs-lookup"><span data-stu-id="81e53-128">The service provider for <xref:System.IServiceProvider.GetService%2A> access to XAML services available to markup extensions or type converters is implemented as an internal class, with exposure only through the interface and how it is passed into the relevant context.</span></span> <span data-ttu-id="81e53-129">Ogni volta che un'operazione di elaborazione XAML nelle implementazioni predefinite dei servizi XAML .NET del percorso di caricamento o del percorso di salvataggio richiama l'estensione di markup pertinente o i metodi del convertitore di tipi che richiedono un contesto del servizio, questo oggetto interno viene passato.</span><span class="sxs-lookup"><span data-stu-id="81e53-129">Whenever a XAML processing operation in the default .NET XAML Services implementations of load path or save path invokes the relevant markup extension or type converter methods that require a service context, this internal object is passed.</span></span> <span data-ttu-id="81e53-130">A seconda delle circostanze, il contesto del servizio del sistema fornisce `MarkupExtensionContext` o `TextSyntaxContext`, sebbene le specifiche di entrambe queste classi siano interne.</span><span class="sxs-lookup"><span data-stu-id="81e53-130">Depending on the circumstance, the system service context provides either `MarkupExtensionContext` or `TextSyntaxContext`, but the specifics of both of these classes are internal.</span></span> <span data-ttu-id="81e53-131">L'interazione con queste classi è limitato alla richiesta dei servizi da tali classi tramite <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="81e53-131">Your interaction with these classes is limited to requesting services from them, through <xref:System.IServiceProvider.GetService%2A>.</span></span>

## <a name="available-services-from-the-net-xaml-service-context"></a><span data-ttu-id="81e53-132">Servizi disponibili dal contesto del servizio XAML .NET</span><span class="sxs-lookup"><span data-stu-id="81e53-132">Available Services from the .NET XAML Service Context</span></span>

<span data-ttu-id="81e53-133">I servizi XAML .NET definiscono i servizi per le estensioni di markup, i convertitori di tipi, i serializzatori di valori e potenzialmente altri utilizzi.</span><span class="sxs-lookup"><span data-stu-id="81e53-133">.NET XAML Services defines services for markup extensions, type converters, value serializers, and potentially other usages.</span></span> <span data-ttu-id="81e53-134">Nelle sezioni seguenti viene descritto ognuno di questi servizi e forniscono materiale sussidiario sulla modalità di utilizzo del servizio in un'implementazione.</span><span class="sxs-lookup"><span data-stu-id="81e53-134">The following sections describe each of these services and provide guidance about how the service might be used in an implementation.</span></span>

### <a name="iserviceprovider"></a><span data-ttu-id="81e53-135">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="81e53-135">IServiceProvider</span></span>

<span data-ttu-id="81e53-136">**Documentazione di riferimento**:<xref:System.IServiceProvider></span><span class="sxs-lookup"><span data-stu-id="81e53-136">**Reference documentation**: <xref:System.IServiceProvider></span></span>

<span data-ttu-id="81e53-137">**Relativo a:** Funzionamento di base di un'infrastruttura basata su <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType>servizi in .NET in modo che sia possibile chiamare .</span><span class="sxs-lookup"><span data-stu-id="81e53-137">**Relevant to:** Basic operation of a service-based infrastructure in .NET so that you can call <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType>.</span></span>

### <a name="itypedescriptorcontext"></a><span data-ttu-id="81e53-138">ITypeDescriptorContext</span><span class="sxs-lookup"><span data-stu-id="81e53-138">ITypeDescriptorContext</span></span>

<span data-ttu-id="81e53-139">**Documentazione di riferimento**:<xref:System.ComponentModel.ITypeDescriptorContext></span><span class="sxs-lookup"><span data-stu-id="81e53-139">**Reference documentation**: <xref:System.ComponentModel.ITypeDescriptorContext></span></span>

<span data-ttu-id="81e53-140">Classe derivata da <xref:System.IServiceProvider>.</span><span class="sxs-lookup"><span data-stu-id="81e53-140">Derives from <xref:System.IServiceProvider>.</span></span> <span data-ttu-id="81e53-141">Questa classe rappresenta il contesto nelle firme <xref:System.ComponentModel.TypeConverter> standard; <xref:System.ComponentModel.TypeConverter> è una classe già esistente da .NET Framework 1.0.</span><span class="sxs-lookup"><span data-stu-id="81e53-141">This class represents context in the standard <xref:System.ComponentModel.TypeConverter> signatures; <xref:System.ComponentModel.TypeConverter> is a class that has existed since .NET Framework 1.0.</span></span> <span data-ttu-id="81e53-142">Anticipa XAML e lo scenario XAML <xref:System.ComponentModel.TypeConverter> per la conversione del tipo valore stringa.</span><span class="sxs-lookup"><span data-stu-id="81e53-142">It predates XAML and the XAML <xref:System.ComponentModel.TypeConverter> scenario for string-value type conversion.</span></span> <span data-ttu-id="81e53-143">Nel contesto dei servizi <xref:System.ComponentModel.TypeConverter> XAML .NET, i metodi di vengono implementati in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="81e53-143">In .NET XAML Services context, methods of <xref:System.ComponentModel.TypeConverter> are implemented explicitly.</span></span> <span data-ttu-id="81e53-144">Il comportamento dell'implementazione esplicita indica ai chiamanti che l'API <xref:System.ComponentModel.ITypeDescriptorContext> non è relativa a sistemi di tipi XAML o alla lettura o scrittura di oggetti da XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-144">The explicit implementation's behavior indicates to callers that the <xref:System.ComponentModel.ITypeDescriptorContext> API is not relevant for XAML type systems, or for reading or writing objects from XAML.</span></span> <span data-ttu-id="81e53-145"><xref:System.ComponentModel.ITypeDescriptorContext.Container%2A>, <xref:System.ComponentModel.ITypeDescriptorContext.Instance%2A>e <xref:System.ComponentModel.ITypeDescriptorContext.PropertyDescriptor%2A> in `null` genere restituiscono da contesti dei servizi XAML .NET.</span><span class="sxs-lookup"><span data-stu-id="81e53-145"><xref:System.ComponentModel.ITypeDescriptorContext.Container%2A>, <xref:System.ComponentModel.ITypeDescriptorContext.Instance%2A>, and <xref:System.ComponentModel.ITypeDescriptorContext.PropertyDescriptor%2A> generally return `null` from .NET XAML Services contexts.</span></span>

### <a name="ivalueserializercontext"></a><span data-ttu-id="81e53-146">IValueSerializerContext</span><span class="sxs-lookup"><span data-stu-id="81e53-146">IValueSerializerContext</span></span>

<span data-ttu-id="81e53-147">**Documentazione di riferimento**:<xref:System.Windows.Markup.IValueSerializerContext></span><span class="sxs-lookup"><span data-stu-id="81e53-147">**Reference documentation**: <xref:System.Windows.Markup.IValueSerializerContext></span></span>

<span data-ttu-id="81e53-148">Deriva da <xref:System.ComponentModel.ITypeDescriptorContext> e si basa anche su implementazioni esplicite per eliminare le implicazioni erronee relative al sistema di tipi XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-148">Derives from <xref:System.ComponentModel.ITypeDescriptorContext> and also relies on explicit implementations to suppress false implications about the XAML type system.</span></span> <span data-ttu-id="81e53-149">Supporta i metodi di supporto statici della ricerca in <xref:System.Windows.Markup.ValueSerializer>.</span><span class="sxs-lookup"><span data-stu-id="81e53-149">Supports the static lookup helper methods on <xref:System.Windows.Markup.ValueSerializer>.</span></span>

### <a name="ixamltyperesolver"></a><span data-ttu-id="81e53-150">IXamlTypeResolver</span><span class="sxs-lookup"><span data-stu-id="81e53-150">IXamlTypeResolver</span></span>

<span data-ttu-id="81e53-151">**Documentazione di riferimento**:<xref:System.Windows.Markup.IXamlTypeResolver></span><span class="sxs-lookup"><span data-stu-id="81e53-151">**Reference documentation**: <xref:System.Windows.Markup.IXamlTypeResolver></span></span>

<span data-ttu-id="81e53-152">**Definito da:** <xref:System.Windows.Markup> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-152">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-153">**Relativo a:** scenari del percorso di caricamento e interazione con il contesto dello schema XAML</span><span class="sxs-lookup"><span data-stu-id="81e53-153">**Relevant to:** Load path scenarios, and interaction with XAML schema context</span></span>

<span data-ttu-id="81e53-154">**API del servizio:**  <xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A></span><span class="sxs-lookup"><span data-stu-id="81e53-154">**Service API:**  <xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A></span></span>

<span data-ttu-id="81e53-155">Può influire sul mapping dei tipi da XAML a CLR che si rende necessario quando il writer XAML costruisce un oggetto CLR in un oggetto grafico.</span><span class="sxs-lookup"><span data-stu-id="81e53-155">Can influence the XAML-to-CLR type mapping that is necessary when the XAML writer constructs a CLR object in an object graph.</span></span> <span data-ttu-id="81e53-156"><xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A> elabora una stringa di prefisso potenzialmente qualificata che corrisponde al nome di un tipo XAML (<xref:System.Xaml.XamlType.Name%2A?displayProperty=nameWithType>) e restituisce un oggetto <xref:System.Type>CLR.</span><span class="sxs-lookup"><span data-stu-id="81e53-156"><xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A> processes a potentially prefix-qualified string that corresponds to a XAML type name (<xref:System.Xaml.XamlType.Name%2A?displayProperty=nameWithType>), and returns a CLR <xref:System.Type>.</span></span> <span data-ttu-id="81e53-157">La risoluzione dei tipi in genere dipende in misura rilevante dal contesto dello schema XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-157">Resolving types is typically heavily dependent on XAML schema context.</span></span> <span data-ttu-id="81e53-158">Determinati aspetti, ad esempio quali assembly vengono caricati e a quali di questi è possibile o necessario accedere per la risoluzione di tipi, vengono considerati esclusivamente dal contesto dello schema XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-158">Only the XAML schema context is aware of considerations such as which assemblies are loaded, and which of these assemblies can or should be accessed for type resolution.</span></span>

### <a name="iuricontext"></a><span data-ttu-id="81e53-159">IUriContext</span><span class="sxs-lookup"><span data-stu-id="81e53-159">IUriContext</span></span>

<span data-ttu-id="81e53-160">**Documentazione di riferimento**:<xref:System.Windows.Markup.IUriContext></span><span class="sxs-lookup"><span data-stu-id="81e53-160">**Reference documentation**: <xref:System.Windows.Markup.IUriContext></span></span>

<span data-ttu-id="81e53-161">**Definito da:** <xref:System.Windows.Markup> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-161">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-162">**Relativo a:** gestione del percorso di caricamento e del percorso di salvataggio di valori di membro che sono valori di URI o `x:Uri` .</span><span class="sxs-lookup"><span data-stu-id="81e53-162">**Relevant to:** Load path and save path handling of member values that are URIs or `x:Uri` values.</span></span>

<span data-ttu-id="81e53-163">**API del servizio:**  <xref:System.Windows.Markup.IUriContext.BaseUri%2A></span><span class="sxs-lookup"><span data-stu-id="81e53-163">**Service API:**  <xref:System.Windows.Markup.IUriContext.BaseUri%2A></span></span>

<span data-ttu-id="81e53-164">Questo servizio segnala una radice dell'URI disponibile a livello globale, se presente.</span><span class="sxs-lookup"><span data-stu-id="81e53-164">This service reports a globally available URI root, if any.</span></span> <span data-ttu-id="81e53-165">La radice dell'URI può essere usata per risolvere gli URI relativi in URI assoluti o viceversa.</span><span class="sxs-lookup"><span data-stu-id="81e53-165">The URI root can be used to resolve relative URIs to absolute URIs or vice versa.</span></span> <span data-ttu-id="81e53-166">Questo scenario riguarda principalmente i servizi dell'applicazione esposti da un particolare framework o le funzionalità di una classe di elementi radice di uso frequente in un framework.</span><span class="sxs-lookup"><span data-stu-id="81e53-166">This scenario is mainly relevant to application services that are exposed by a particular framework, or capabilities of a frequently used root element class in a framework.</span></span> <span data-ttu-id="81e53-167">L'URI di base può essere stabilito come impostazione del reader XAML, che viene quindi passata al writer di oggetti XAML e segnalata da questo servizio.</span><span class="sxs-lookup"><span data-stu-id="81e53-167">The base URI can be established as a XAML reader setting, which is then passed through to the XAML object writer and reported by this service.</span></span>

### <a name="iambientprovider"></a><span data-ttu-id="81e53-168">IAmbientProvider</span><span class="sxs-lookup"><span data-stu-id="81e53-168">IAmbientProvider</span></span>

<span data-ttu-id="81e53-169">**Documentazione di riferimento**:<xref:System.Xaml.IAmbientProvider></span><span class="sxs-lookup"><span data-stu-id="81e53-169">**Reference documentation**: <xref:System.Xaml.IAmbientProvider></span></span>

<span data-ttu-id="81e53-170">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-170">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-171">**Relativo a:** gestione del percorso di caricamento e rinvii o ottimizzazioni della ricerca di tipi.</span><span class="sxs-lookup"><span data-stu-id="81e53-171">**Relevant to:** Load path handling and type lookup deferrals or optimizations.</span></span>

<span data-ttu-id="81e53-172">**API**  <xref:System.Xaml.IAmbientProvider.GetAllAmbientValues%2A>di servizio: , altre tre.</span><span class="sxs-lookup"><span data-stu-id="81e53-172">**Service APIs:**  <xref:System.Xaml.IAmbientProvider.GetAllAmbientValues%2A>, three others.</span></span>

<span data-ttu-id="81e53-173">Il concetto di ambiente in XAML è relativo a una tecnica per contrassegnare un particolare membro di un tipo come ambiente.</span><span class="sxs-lookup"><span data-stu-id="81e53-173">The ambience concept in XAML is a technique for marking a particular member of a type as ambient.</span></span> <span data-ttu-id="81e53-174">In alternativa, un tipo può costituire un ambiente in modo che tutti i valori di proprietà contenenti un'istanza del tipo debbano essere considerati proprietà di ambiente.</span><span class="sxs-lookup"><span data-stu-id="81e53-174">Alternatively, a type can be ambient so that all property values that hold an instance of the type should be considered ambient properties.</span></span> <span data-ttu-id="81e53-175">Le estensioni di markup o convertitori di tipi che si trovano più all'interno nel flusso del nodo XAML e sono discendenti nell'oggetto grafico possono accedere alla proprietà di ambiente o l'istanza del tipo al momento del caricamento oppure usare la conoscenza della struttura di ambiente al momento del salvataggio.</span><span class="sxs-lookup"><span data-stu-id="81e53-175">Markup extensions or type converters that are further along the XAML node stream and that are descendants in the object graph can access the ambient property or type instance at load time; or they can use knowledge of the ambient structure at save time.</span></span> <span data-ttu-id="81e53-176">Ciò può influire sul grado di qualificazione necessario per la risoluzione dei tipi per altri servizi, ad esempio per <xref:System.Windows.Markup.IXamlTypeResolver> o per `x:Type`.</span><span class="sxs-lookup"><span data-stu-id="81e53-176">This can affect the degree of qualification that is needed to resolve types for other services, such as for <xref:System.Windows.Markup.IXamlTypeResolver> or for `x:Type`.</span></span> <span data-ttu-id="81e53-177">Vedere anche <xref:System.Xaml.AmbientPropertyValue>.</span><span class="sxs-lookup"><span data-stu-id="81e53-177">See also <xref:System.Xaml.AmbientPropertyValue>.</span></span>

### <a name="ixamlschemacontextprovider"></a><span data-ttu-id="81e53-178">IXamlSchemaContextProvider</span><span class="sxs-lookup"><span data-stu-id="81e53-178">IXamlSchemaContextProvider</span></span>

<span data-ttu-id="81e53-179">**Documentazione di riferimento**:<xref:System.Xaml.IXamlSchemaContextProvider></span><span class="sxs-lookup"><span data-stu-id="81e53-179">**Reference documentation**: <xref:System.Xaml.IXamlSchemaContextProvider></span></span>

<span data-ttu-id="81e53-180">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-180">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-181">**Relativo a:** percorso di caricamento e qualsiasi operazione che deve risolvere un tipo XAML in un tipo di supporto.</span><span class="sxs-lookup"><span data-stu-id="81e53-181">**Relevant to:** Load path, and any operation that must resolve a XAML type to a backing type.</span></span>

<span data-ttu-id="81e53-182">**API del servizio:**  <xref:System.Xaml.IXamlSchemaContextProvider.SchemaContext%2A></span><span class="sxs-lookup"><span data-stu-id="81e53-182">**Service API:**  <xref:System.Xaml.IXamlSchemaContextProvider.SchemaContext%2A></span></span>

<span data-ttu-id="81e53-183">Il contesto dello schema XAML è necessario per qualsiasi operazione di caricamento posticipato, poiché lo stesso contesto dello schema deve agire sull'area posticipata per integrare il contenuto posticipato.</span><span class="sxs-lookup"><span data-stu-id="81e53-183">XAML schema context is necessary for any defer load operations, because the same schema context must act on the deferred area in order to integrate the deferred content.</span></span> <span data-ttu-id="81e53-184">Per altre informazioni sul ruolo del contesto dello schema XAML, vedere [XAML Services](../../../api/index.md).</span><span class="sxs-lookup"><span data-stu-id="81e53-184">For more information about the role of the XAML schema context, see [XAML Services](../../../api/index.md).</span></span>

### <a name="irootobjectprovider"></a><span data-ttu-id="81e53-185">IRootObjectProvider</span><span class="sxs-lookup"><span data-stu-id="81e53-185">IRootObjectProvider</span></span>

<span data-ttu-id="81e53-186">**Documentazione di riferimento**:<xref:System.Xaml.IRootObjectProvider></span><span class="sxs-lookup"><span data-stu-id="81e53-186">**Reference documentation**: <xref:System.Xaml.IRootObjectProvider></span></span>

<span data-ttu-id="81e53-187">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-187">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-188">**Relativo a:** percorso di caricamento.</span><span class="sxs-lookup"><span data-stu-id="81e53-188">**Relevant to:** Load path.</span></span>

<span data-ttu-id="81e53-189">**API del servizio:**  <xref:System.Xaml.IRootObjectProvider.RootObject%2A></span><span class="sxs-lookup"><span data-stu-id="81e53-189">**Service API:**  <xref:System.Xaml.IRootObjectProvider.RootObject%2A></span></span>

<span data-ttu-id="81e53-190">Il servizio riguarda i servizi dell'applicazione esposti da un particolare framework o dalle funzionalità di una classe di elementi radice di uso frequente in un framework.</span><span class="sxs-lookup"><span data-stu-id="81e53-190">The service is relevant to application services that are exposed by a particular framework or by capabilities of a frequently used root element class in a framework.</span></span> <span data-ttu-id="81e53-191">Uno scenario per l'acquisizione dell'oggetto radice è la connessione tra code-behind e collegamento di eventi.</span><span class="sxs-lookup"><span data-stu-id="81e53-191">One scenario for obtaining the root object is connecting code-behind and event wiring.</span></span> <span data-ttu-id="81e53-192">Ad esempio, l'implementazione di WPF di `x:Class` viene usata per la compilazione del markup e il collegamento di qualsiasi attributo del gestore eventi che si trova in corrispondenza di qualsiasi altra posizione nel markup XAML.</span><span class="sxs-lookup"><span data-stu-id="81e53-192">For example, the WPF implementation of `x:Class` is used for markup compile and wiring of any event handler attribute that is found at any other position in the XAML markup.</span></span> <span data-ttu-id="81e53-193">Il punto di connessione delle classi parziali definite da markup e code-behind per- la compilazione di markup si trova in corrispondenza dell'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="81e53-193">The connection point of markup and code-behind defined partial classes for markup compile is at the root element.</span></span>

### <a name="ixamlnamespaceresolver"></a><span data-ttu-id="81e53-194">IXamlNamespaceResolver</span><span class="sxs-lookup"><span data-stu-id="81e53-194">IXamlNamespaceResolver</span></span>

<span data-ttu-id="81e53-195">**Documentazione di riferimento**:<xref:System.Xaml.IXamlNamespaceResolver></span><span class="sxs-lookup"><span data-stu-id="81e53-195">**Reference documentation**: <xref:System.Xaml.IXamlNamespaceResolver></span></span>

<span data-ttu-id="81e53-196">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-196">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-197">**Relativo a:** percorso di caricamento, percorso di salvataggio.</span><span class="sxs-lookup"><span data-stu-id="81e53-197">**Relevant to:** Load path, save path.</span></span>

<span data-ttu-id="81e53-198">**API del servizio:** <xref:System.Xaml.IXamlNamespaceResolver.GetNamespace%2A> per il percorso di caricamento, <xref:System.Xaml.IXamlNamespaceResolver.GetNamespacePrefixes%2A> per il percorso di salvataggio.</span><span class="sxs-lookup"><span data-stu-id="81e53-198">**Service API:** <xref:System.Xaml.IXamlNamespaceResolver.GetNamespace%2A> for load path, <xref:System.Xaml.IXamlNamespaceResolver.GetNamespacePrefixes%2A> for save path.</span></span>

<span data-ttu-id="81e53-199"><xref:System.Xaml.IXamlNamespaceResolver> è un servizio che può restituire un identificatore dello spazio dei nomi XAML/URI in base al prefisso corrispondente mappato nel markup XAML di origine.</span><span class="sxs-lookup"><span data-stu-id="81e53-199"><xref:System.Xaml.IXamlNamespaceResolver> is a service that can return a XAML namespace identifier / URI based on its prefix as mapped in the originating XAML markup.</span></span>

### <a name="iprovidevaluetarget"></a><span data-ttu-id="81e53-200">IProvideValueTarget</span><span class="sxs-lookup"><span data-stu-id="81e53-200">IProvideValueTarget</span></span>

<span data-ttu-id="81e53-201">**Documentazione di riferimento**:<xref:System.Windows.Markup.IProvideValueTarget></span><span class="sxs-lookup"><span data-stu-id="81e53-201">**Reference documentation**: <xref:System.Windows.Markup.IProvideValueTarget></span></span>

<span data-ttu-id="81e53-202">**Definito da:** <xref:System.Windows.Markup> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-202">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-203">**Relativo a:** percorso di caricamento e percorso di salvataggio.</span><span class="sxs-lookup"><span data-stu-id="81e53-203">**Relevant to:** Load path and save path.</span></span>

<span data-ttu-id="81e53-204">**API**<xref:System.Windows.Markup.IProvideValueTarget.TargetObject%2A>di servizio: <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A>, .  </span><span class="sxs-lookup"><span data-stu-id="81e53-204">**Service APIs:**  <xref:System.Windows.Markup.IProvideValueTarget.TargetObject%2A>, <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A>.</span></span>

<span data-ttu-id="81e53-205"><xref:System.Windows.Markup.IProvideValueTarget> consente a convertitore di tipi o a un'estensione di markup di ottenere il contesto su cui agisce al momento del caricamento.</span><span class="sxs-lookup"><span data-stu-id="81e53-205"><xref:System.Windows.Markup.IProvideValueTarget> enables a type converter or markup extension to obtain context about where it is acting at load time.</span></span> <span data-ttu-id="81e53-206">Le implementazioni possono usare questo contesto per invalidare un utilizzo.</span><span class="sxs-lookup"><span data-stu-id="81e53-206">Implementations might use this context to invalidate a usage.</span></span> <span data-ttu-id="81e53-207">In alcune estensioni di markup come <xref:System.Windows.DynamicResourceExtension>, ad esempio,</span><span class="sxs-lookup"><span data-stu-id="81e53-207">For example, WPF has logic inside some of its markup extensions such as <xref:System.Windows.DynamicResourceExtension>.</span></span> <span data-ttu-id="81e53-208">è presente la logica WPF che controlla <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A> per garantire che l'estensione venga usata solo per impostare proprietà di dipendenza (o un breve elenco di altre proprietà di non dipendenza).</span><span class="sxs-lookup"><span data-stu-id="81e53-208">The logic checks the <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A> to make sure that the extension is only used to set dependency properties (or a short list of other non-dependency properties).</span></span>

### <a name="ixamlnameresolver"></a><span data-ttu-id="81e53-209">IXamlNameResolver</span><span class="sxs-lookup"><span data-stu-id="81e53-209">IXamlNameResolver</span></span>

<span data-ttu-id="81e53-210">**Documentazione di riferimento**:<xref:System.Xaml.IXamlNameResolver></span><span class="sxs-lookup"><span data-stu-id="81e53-210">**Reference documentation**: <xref:System.Xaml.IXamlNameResolver></span></span>

<span data-ttu-id="81e53-211">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-211">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-212">**Relativo a:** Caricare la definizione dell'oggetto `x:Name`grafico `x:Reference`del percorso, risolvendo gli oggetti identificati da tecniche specifiche di , , o del framework.</span><span class="sxs-lookup"><span data-stu-id="81e53-212">**Relevant to:** Load path object graph definition, resolving objects identified by `x:Name`, `x:Reference`, or framework-specific techniques.</span></span>

<span data-ttu-id="81e53-213">**API dei servizi:**  <xref:System.Xaml.IXamlNameResolver.Resolve%2A>. Altre API per scenari più avanzati, ad esempio, la gestione dei riferimenti in avanti.</span><span class="sxs-lookup"><span data-stu-id="81e53-213">**Service APIs:**  <xref:System.Xaml.IXamlNameResolver.Resolve%2A>; other APIs for more advanced scenarios such as dealing with forward references.</span></span>

<span data-ttu-id="81e53-214">L'implementazione dei `x:Reference` servizi XAML .NET della gestione si basa su questo servizio.</span><span class="sxs-lookup"><span data-stu-id="81e53-214">.NET XAML Services implementation of `x:Reference` handling relies on this service.</span></span> <span data-ttu-id="81e53-215">Framework o strumenti specifici che supportano il framework usano questo servizio per la gestione di `x:Name` o per la gestione di proprietà (con attributo<xref:System.Windows.Markup.RuntimeNamePropertyAttribute> ) equivalenti.</span><span class="sxs-lookup"><span data-stu-id="81e53-215">Specific frameworks or tools that support the framework use this service for `x:Name` handling or equivalent (<xref:System.Windows.Markup.RuntimeNamePropertyAttribute> attributed) property handling.</span></span>

### <a name="idestinationtypeprovider"></a><span data-ttu-id="81e53-216">IDestinationTypeProvider</span><span class="sxs-lookup"><span data-stu-id="81e53-216">IDestinationTypeProvider</span></span>

<span data-ttu-id="81e53-217">**Documentazione di riferimento**:<xref:System.Xaml.IDestinationTypeProvider></span><span class="sxs-lookup"><span data-stu-id="81e53-217">**Reference documentation**: <xref:System.Xaml.IDestinationTypeProvider></span></span>

<span data-ttu-id="81e53-218">**Definito da:** <xref:System.Xaml> spazio dei nomi, assembly System.XamlDefined by: namespace, System.Xaml assembly  </span><span class="sxs-lookup"><span data-stu-id="81e53-218">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="81e53-219">**Relativo a:** risoluzione del percorso di caricamento di informazioni sul tipo CLR indiretto.</span><span class="sxs-lookup"><span data-stu-id="81e53-219">**Relevant to:** Load path resolution of indirect CLR type information.</span></span>

<span data-ttu-id="81e53-220">**API del servizio:** <xref:System.Xaml.IDestinationTypeProvider.GetDestinationType%2A></span><span class="sxs-lookup"><span data-stu-id="81e53-220">**Service API:** <xref:System.Xaml.IDestinationTypeProvider.GetDestinationType%2A></span></span>

<span data-ttu-id="81e53-221">Per altre informazioni, vedere <xref:System.Xaml.IDestinationTypeProvider>.</span><span class="sxs-lookup"><span data-stu-id="81e53-221">For more information, see <xref:System.Xaml.IDestinationTypeProvider>.</span></span>

## <a name="see-also"></a><span data-ttu-id="81e53-222">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="81e53-222">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="81e53-223">Panoramica delle estensioni di markup per XAML</span><span class="sxs-lookup"><span data-stu-id="81e53-223">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="81e53-224">Panoramica dei convertitori di tipi per XAML</span><span class="sxs-lookup"><span data-stu-id="81e53-224">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
