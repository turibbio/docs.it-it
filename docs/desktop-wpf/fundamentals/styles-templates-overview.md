---
title: Stili e modelli
description: Informazioni sulle risorse XAML in Windows Presentation Foundation (WPF) per .NET Core.Learn about XAML resources in Windows Presentation Foundation (WPF) for .NET Core. Comprendere i tipi di risorse XAML correlati a stili e temi.
author: thraka
ms.author: adegeo
ms.date: 09/09/2019
dev_langs:
- csharp
- vb
ms.openlocfilehash: f845e739ec3cae502d1e4fd6631f987c5364a42e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/12/2020
ms.locfileid: "82071885"
---
# <a name="styles-and-templates-in-wpf"></a><span data-ttu-id="140cb-104">Stili e modelli in WPF</span><span class="sxs-lookup"><span data-stu-id="140cb-104">Styles and templates in WPF</span></span>

<span data-ttu-id="140cb-105">L'applicazione di stili e i modelli di Windows Presentation Foundation (WPF) si riferiscono a una suite di funzionalità che consentono a sviluppatori e progettisti di creare effetti visivamente accattivanti e un aspetto coerente per il prodotto.</span><span class="sxs-lookup"><span data-stu-id="140cb-105">Windows Presentation Foundation (WPF) styling and templating refer to a suite of features that let developers and designers create visually compelling effects and a consistent appearance for their product.</span></span> <span data-ttu-id="140cb-106">Quando si personalizza l'aspetto di un'app, si vuole un modello di stile e modelli forte che consenta la manutenzione e la condivisione dell'aspetto all'interno e tra le app.</span><span class="sxs-lookup"><span data-stu-id="140cb-106">When customizing the appearance of an app, you want a strong styling and templating model that enables maintenance and sharing of appearance within and among apps.</span></span> <span data-ttu-id="140cb-107">WPFWPF fornisce tale modello.</span><span class="sxs-lookup"><span data-stu-id="140cb-107">WPF provides that model.</span></span>

<span data-ttu-id="140cb-108">Un'altra funzionalità del modello di stile WPFWPF è la separazione tra presentazione e logica.</span><span class="sxs-lookup"><span data-stu-id="140cb-108">Another feature of the WPF styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="140cb-109">Le finestre di progettazione possono lavorare sull'aspetto di un'app usando solo XAML nello stesso momento in cui gli sviluppatori lavorano sulla logica di programmazione usando C'è o Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="140cb-109">Designers can work on the appearance of an app by using only XAML at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>

<span data-ttu-id="140cb-110">Questa panoramica è incentrata sugli aspetti di applicazione di stili e modelli dell'app e non illustra alcun concetto di associazione dati.</span><span class="sxs-lookup"><span data-stu-id="140cb-110">This overview focuses on the styling and templating aspects of the app and doesn't discuss any data-binding concepts.</span></span> <span data-ttu-id="140cb-111">Per informazioni sul data binding, vedere [Cenni preliminari sull'associazione dati](../data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-111">For information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>

<span data-ttu-id="140cb-112">È importante comprendere le risorse, che consentono di riutilizzare stili e modelli.</span><span class="sxs-lookup"><span data-stu-id="140cb-112">It's important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="140cb-113">Per altre informazioni sulle risorse, vedere [Risorse XAML](xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-113">For more information about resources, see [XAML Resources](xaml-resources-define.md).</span></span>

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="sample"></a><span data-ttu-id="140cb-114">Esempio</span><span class="sxs-lookup"><span data-stu-id="140cb-114">Sample</span></span>

<span data-ttu-id="140cb-115">Il codice di esempio fornito in questa panoramica si basa su una semplice applicazione di [esplorazione](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) delle foto illustrata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="140cb-115">The sample code provided in this overview is based on a [simple photo browsing application](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating) shown in the following illustration.</span></span>

<span data-ttu-id="140cb-116">![ListView con stile](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="140cb-116">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

<span data-ttu-id="140cb-117">Questo esempio usa stili e modelli per creare un'esperienza utente visivamente accattivante.</span><span class="sxs-lookup"><span data-stu-id="140cb-117">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="140cb-118">L'esempio <xref:System.Windows.Controls.TextBlock> include due <xref:System.Windows.Controls.ListBox> elementi e un controllo associato a un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="140cb-118">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span>

<span data-ttu-id="140cb-119">Per l'esempio completo, vedere [Introduzione a un esempio di applicazione di stili e di modelli](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="140cb-119">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>

## <a name="styles"></a><span data-ttu-id="140cb-120">Stili</span><span class="sxs-lookup"><span data-stu-id="140cb-120">Styles</span></span>

<span data-ttu-id="140cb-121">È possibile considerare <xref:System.Windows.Style> un modo pratico per applicare un set di valori di proprietà a più elementi.</span><span class="sxs-lookup"><span data-stu-id="140cb-121">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to multiple elements.</span></span> <span data-ttu-id="140cb-122">È possibile utilizzare uno stile su <xref:System.Windows.FrameworkElement> qualsiasi <xref:System.Windows.FrameworkContentElement> elemento <xref:System.Windows.Window> che <xref:System.Windows.Controls.Button>deriva da o, ad esempio a o a .</span><span class="sxs-lookup"><span data-stu-id="140cb-122">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> such as a <xref:System.Windows.Window> or a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="140cb-123">Il modo più comune per dichiarare uno `Resources` stile è come risorsa nella sezione in un file XAML.</span><span class="sxs-lookup"><span data-stu-id="140cb-123">The most common way to declare a style is as a resource in the `Resources` section in a XAML file.</span></span> <span data-ttu-id="140cb-124">Poiché gli stili sono risorse, rispettano le stesse regole di ambito che si applicano a tutte le risorse.</span><span class="sxs-lookup"><span data-stu-id="140cb-124">Because styles are resources, they obey the same scoping rules that apply to all resources.</span></span> <span data-ttu-id="140cb-125">In parole povere, dove si dichiara uno stile influisce sul punto in cui lo stile può essere applicato.</span><span class="sxs-lookup"><span data-stu-id="140cb-125">Put simply, where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="140cb-126">Ad esempio, se dichiari lo stile nell'elemento radice del file XAML di definizione dell'app, lo stile può essere usato in qualsiasi punto dell'app.</span><span class="sxs-lookup"><span data-stu-id="140cb-126">For example, if you declare the style in the root element of your app definition XAML file, the style can be used anywhere in your app.</span></span>

<span data-ttu-id="140cb-127">Ad esempio, il codice XAML seguente `TextBlock`dichiara due stili `TextBlock` per un oggetto , uno applicato automaticamente a tutti gli elementi e un altro a cui è necessario fare riferimento in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="140cb-127">For example, the following XAML code declares two styles for a `TextBlock`, one automatically applied to all `TextBlock` elements, and another that must be explicitly referenced.</span></span>

[!code-xaml[SnippetDefaultTextBlockStyleBasedOn](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetDefaultTextBlockStyleBasedOn)]

<span data-ttu-id="140cb-128">Di seguito è riportato un esempio degli stili dichiarati sopra utilizzati.</span><span class="sxs-lookup"><span data-stu-id="140cb-128">Here is an example of the styles declared above being used.</span></span>

[!code-xaml[SnippetTextBlocksExplicit](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window2.xaml#SnippetTextBlocksExplicit)]

![Blocchi di testo con stili](./media/styles-and-templates-overview/stylingintro-textblocks.png)

<span data-ttu-id="140cb-130">Per ulteriori informazioni, consultate [Creare uno stile per un controllo.](styles-templates-create-apply-style.md)</span><span class="sxs-lookup"><span data-stu-id="140cb-130">For more information, see [Create a style for a control](styles-templates-create-apply-style.md).</span></span>

## <a name="controltemplates"></a><span data-ttu-id="140cb-131">ControlTemplates</span><span class="sxs-lookup"><span data-stu-id="140cb-131">ControlTemplates</span></span>

<span data-ttu-id="140cb-132">In WPFWPF, il <xref:System.Windows.Controls.ControlTemplate> di un controllo definisce l'aspetto del controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-132">In WPF, the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="140cb-133">È possibile modificare la struttura e l'aspetto di un controllo definendone uno nuovo <xref:System.Windows.Controls.ControlTemplate> e assegnandolo a un controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-133">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> and assigning it to a control.</span></span> <span data-ttu-id="140cb-134">In molti casi, i modelli offrono sufficiente flessibilità in modo che non sia necessario scrivere controlli personalizzati.</span><span class="sxs-lookup"><span data-stu-id="140cb-134">In many cases, templates give you enough flexibility so that you do not have to write your own custom controls.</span></span>

<span data-ttu-id="140cb-135">Ogni controllo dispone di un modello predefinito assegnato al [Control.Template](xref:System.Windows.Controls.Control.Template) proprietà.</span><span class="sxs-lookup"><span data-stu-id="140cb-135">Each control has a default template assigned to the [Control.Template](xref:System.Windows.Controls.Control.Template) property.</span></span> <span data-ttu-id="140cb-136">Il modello connette la presentazione visiva del controllo con le funzionalità del controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-136">The template connects the visual presentation of the control with the control's capabilities.</span></span> <span data-ttu-id="140cb-137">Poiché definisci un modello in XAML, puoi modificare l'aspetto del controllo senza scrivere codice.</span><span class="sxs-lookup"><span data-stu-id="140cb-137">Because you define a template in XAML, you can change the control's appearance without writing any code.</span></span> <span data-ttu-id="140cb-138">Ogni modello è progettato per un <xref:System.Windows.Controls.Button>controllo specifico, ad esempio un oggetto .</span><span class="sxs-lookup"><span data-stu-id="140cb-138">Each template is designed for a specific control, such as a <xref:System.Windows.Controls.Button>.</span></span>

<span data-ttu-id="140cb-139">In genere si dichiara un `Resources` modello come risorsa nella sezione di un file XAML.</span><span class="sxs-lookup"><span data-stu-id="140cb-139">Commonly you declare a template as a resource on the `Resources` section of a XAML file.</span></span> <span data-ttu-id="140cb-140">Come per tutte le risorse, vengono applicate le regole di ambito.</span><span class="sxs-lookup"><span data-stu-id="140cb-140">As with all resources, scoping rules apply.</span></span>

<span data-ttu-id="140cb-141">I modelli di controllo sono molto più coinvolti di uno stile.</span><span class="sxs-lookup"><span data-stu-id="140cb-141">Control templates are a lot more involved than a style.</span></span> <span data-ttu-id="140cb-142">Ciò è dovuto al fatto che il modello di controllo riscrive l'aspetto visivo dell'intero controllo, mentre uno stile applica semplicemente le modifiche delle proprietà al controllo esistente.</span><span class="sxs-lookup"><span data-stu-id="140cb-142">This is because the control template rewrites the visual appearance of the entire control, while a style simply applies property changes to the existing control.</span></span> <span data-ttu-id="140cb-143">Tuttavia, poiché il modello di un controllo viene applicato impostando il [Control.Template](xref:System.Windows.Controls.Control.Template) proprietà, è possibile utilizzare uno stile per definire o impostare un modello.</span><span class="sxs-lookup"><span data-stu-id="140cb-143">However, since the template of a control is applied by setting the [Control.Template](xref:System.Windows.Controls.Control.Template) property, you can use a style to define or set a template.</span></span>

<span data-ttu-id="140cb-144">I progettisti in genere consentono di creare una copia di un modello esistente e modificarlo.</span><span class="sxs-lookup"><span data-stu-id="140cb-144">Designers generally allow you to create a copy of an existing template and modify it.</span></span> <span data-ttu-id="140cb-145">Ad esempio, nella finestra di progettazione WPF di Visual Studio `CheckBox` selezionare un controllo, quindi fare clic con il pulsante destro del mouse e scegliere Modifica **modello** > Crea una**copia**.</span><span class="sxs-lookup"><span data-stu-id="140cb-145">For example, in the Visual Studio WPF designer, select a `CheckBox` control, and then right-click and select **Edit template** > **Create a copy**.</span></span> <span data-ttu-id="140cb-146">Questo comando genera uno *stile che definisce un modello*.</span><span class="sxs-lookup"><span data-stu-id="140cb-146">This command generates a *style that defines a template*.</span></span>

```xaml
<Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">
    <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual1}"/>
    <Setter Property="Background" Value="{StaticResource OptionMark.Static.Background1}"/>
    <Setter Property="BorderBrush" Value="{StaticResource OptionMark.Static.Border1}"/>
    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type CheckBox}">
                <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border x:Name="checkBoxBorder" Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="1" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                        <Grid x:Name="markGrid">
                            <Path x:Name="optionMark" Data="F1 M 9.97498,1.22334L 4.6983,9.09834L 4.52164,9.09834L 0,5.19331L 1.27664,3.52165L 4.255,6.08833L 8.33331,1.52588e-005L 9.97498,1.22334 Z " Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="1" Opacity="0" Stretch="None"/>
                            <Rectangle x:Name="indeterminateMark" Fill="{StaticResource OptionMark.Static.Glyph1}" Margin="2" Opacity="0"/>
                        </Grid>
                    </Border>
                    <ContentPresenter x:Name="contentPresenter" Grid.Column="1" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasContent" Value="true">
                        <Setter Property="FocusVisualStyle" Value="{StaticResource OptionMarkFocusVisual1}"/>
                        <Setter Property="Padding" Value="4,-1,0,0"/>

... content removed to save space ...
```

<span data-ttu-id="140cb-147">La modifica di una copia di un modello è un ottimo modo per imparare a usare i modelli.</span><span class="sxs-lookup"><span data-stu-id="140cb-147">Editing a copy of a template is a great way to learn how templates work.</span></span> <span data-ttu-id="140cb-148">Invece di creare un nuovo modello vuoto, è più facile modificare una copia e modificare alcuni aspetti della presentazione visiva.</span><span class="sxs-lookup"><span data-stu-id="140cb-148">Instead of creating a new blank template, it's easier to edit a copy and change a few aspects of the visual presentation.</span></span>

<span data-ttu-id="140cb-149">Per un esempio, vedere [Creare un modello per un controllo](../themes/how-to-create-apply-template.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-149">For an example, see [Create a template for a control](../themes/how-to-create-apply-template.md).</span></span>

### <a name="templatebinding"></a><span data-ttu-id="140cb-150">TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="140cb-150">TemplateBinding</span></span>

<span data-ttu-id="140cb-151">Si sarà notato che la risorsa modello definita nella sezione precedente utilizza [templateBinding Markup Extension](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-151">You may have noticed that the template resource defined in the previous section uses the [TemplateBinding Markup Extension](../../framework/wpf/advanced/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="140cb-152">A `TemplateBinding` è una forma ottimizzata di un'associazione per gli `{Binding RelativeSource={RelativeSource TemplatedParent}}`scenari di modello, analoga a un'associazione costruita con .</span><span class="sxs-lookup"><span data-stu-id="140cb-152">A `TemplateBinding` is an optimized form of a binding for template scenarios, analogous to a binding constructed with `{Binding RelativeSource={RelativeSource TemplatedParent}}`.</span></span> <span data-ttu-id="140cb-153">`TemplateBinding`è utile per l'associazione di parti del modello alle proprietà del controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-153">`TemplateBinding` is useful for binding parts of the template to properties of the control.</span></span> <span data-ttu-id="140cb-154">Ad esempio, ogni <xref:System.Windows.Controls.Control.BorderThickness> controllo dispone di una proprietà.</span><span class="sxs-lookup"><span data-stu-id="140cb-154">For example, each control has a <xref:System.Windows.Controls.Control.BorderThickness> property.</span></span> <span data-ttu-id="140cb-155">Utilizzare `TemplateBinding` un per gestire l'elemento nel modello interessato da questa impostazione di controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-155">Use a `TemplateBinding` to manage which element in the template is affected by this control setting.</span></span>

### <a name="contentcontrol-and-itemscontrol"></a><span data-ttu-id="140cb-156">ContentControl e ItemsControl</span><span class="sxs-lookup"><span data-stu-id="140cb-156">ContentControl and ItemsControl</span></span>

<span data-ttu-id="140cb-157">Se <xref:System.Windows.Controls.ContentPresenter> un oggetto <xref:System.Windows.Controls.ControlTemplate> viene <xref:System.Windows.Controls.ContentControl>dichiarato <xref:System.Windows.Controls.ContentPresenter> in un oggetto <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> <xref:System.Windows.Controls.ContentControl.Content%2A> , verrà associato automaticamente alle proprietà e .</span><span class="sxs-lookup"><span data-stu-id="140cb-157">If a <xref:System.Windows.Controls.ContentPresenter> is declared in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="140cb-158">Analogamente, <xref:System.Windows.Controls.ItemsPresenter> un che <xref:System.Windows.Controls.ControlTemplate> si <xref:System.Windows.Controls.ItemsControl> trova in <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> un <xref:System.Windows.Controls.ItemsControl.Items%2A> di un verrà associato automaticamente alle proprietà e .</span><span class="sxs-lookup"><span data-stu-id="140cb-158">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> and <xref:System.Windows.Controls.ItemsControl.Items%2A> properties.</span></span>

## <a name="datatemplates"></a><span data-ttu-id="140cb-159">DataTemplates</span><span class="sxs-lookup"><span data-stu-id="140cb-159">DataTemplates</span></span>

<span data-ttu-id="140cb-160">In questa app di <xref:System.Windows.Controls.ListBox> esempio è presente un controllo associato a un elenco di foto.</span><span class="sxs-lookup"><span data-stu-id="140cb-160">In this sample app, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos.</span></span>

[!code-xaml[ListBox](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window3.xaml#SnippetListBox)]

<span data-ttu-id="140cb-161">Questo <xref:System.Windows.Controls.ListBox> al momento è simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="140cb-161">This <xref:System.Windows.Controls.ListBox> currently looks like the following.</span></span>

<span data-ttu-id="140cb-162">![ListBox prima dell'applicazione del modello](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="140cb-162">![ListBox before applying template](./media/styles-and-templates-overview/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>

<span data-ttu-id="140cb-163">La maggior parte dei controlli include un tipo di contenuto che spesso deriva da dati che si sceglie di associare.</span><span class="sxs-lookup"><span data-stu-id="140cb-163">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="140cb-164">In questo esempio i dati sono l'elenco di foto.</span><span class="sxs-lookup"><span data-stu-id="140cb-164">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="140cb-165">In WPFWPF si <xref:System.Windows.DataTemplate> usa un per definire la rappresentazione visiva dei dati.</span><span class="sxs-lookup"><span data-stu-id="140cb-165">In WPF, you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="140cb-166">Fondamentalmente, ciò <xref:System.Windows.DataTemplate> che si inserisce in un determina l'aspetto dei dati nell'app sottoposta a rendering.</span><span class="sxs-lookup"><span data-stu-id="140cb-166">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered app.</span></span>

<span data-ttu-id="140cb-167">Nell'app di esempio `Photo` ogni `Source` oggetto personalizzato ha una proprietà di tipo stringa che specifica il percorso del file dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="140cb-167">In our sample app, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="140cb-168">Gli oggetti foto in questo momento appaiono come percorsi file.</span><span class="sxs-lookup"><span data-stu-id="140cb-168">Currently, the photo objects appear as file paths.</span></span>

[!code-csharp[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Photo.cs#PhotoClass)]
[!code-vb[PhotoClass](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/vb/Photo.vb#PhotoClass)]

<span data-ttu-id="140cb-169">Affinché le foto vengano visualizzate <xref:System.Windows.DataTemplate> come immagini, è necessario creare una risorsa.</span><span class="sxs-lookup"><span data-stu-id="140cb-169">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource.</span></span>

[!code-xaml[DataTemplate](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window4.xaml#SnippetDataTemplate)]

<span data-ttu-id="140cb-170">Si noti che <xref:System.Windows.DataTemplate.DataType%2A> la <xref:System.Windows.Style.TargetType%2A> proprietà <xref:System.Windows.Style>è simile alla proprietà dell'oggetto .</span><span class="sxs-lookup"><span data-stu-id="140cb-170">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="140cb-171">Se <xref:System.Windows.DataTemplate> si trova nella sezione resources, <xref:System.Windows.DataTemplate.DataType%2A> quando si specifica la `x:Key`proprietà <xref:System.Windows.DataTemplate> su un tipo e si ometti un oggetto , l'oggetto viene applicato ogni volta che tale tipo viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="140cb-171">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and omit an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="140cb-172">È sempre possibile assegnare <xref:System.Windows.DataTemplate> l'oggetto `x:Key` con e `StaticResource` quindi impostarlo come proprietà che accettano <xref:System.Windows.DataTemplate> tipi, ad esempio la <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> proprietà o la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> proprietà .</span><span class="sxs-lookup"><span data-stu-id="140cb-172">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>

<span data-ttu-id="140cb-173">Essenzialmente, <xref:System.Windows.DataTemplate> l'oggetto nell'esempio precedente definisce che ogni volta che è presente un `Photo` oggetto, deve essere visualizzato come un <xref:System.Windows.Controls.Image> oggetto all'interno di un <xref:System.Windows.Controls.Border>oggetto .</span><span class="sxs-lookup"><span data-stu-id="140cb-173">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="140cb-174">Con <xref:System.Windows.DataTemplate>questo , la nostra applicazione ora si presenta così.</span><span class="sxs-lookup"><span data-stu-id="140cb-174">With this <xref:System.Windows.DataTemplate>, our app now looks like this.</span></span>

<span data-ttu-id="140cb-175">![Foto](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="140cb-175">![Photo image](./media/styles-and-templates-overview/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>

<span data-ttu-id="140cb-176">Il modello di applicazione di modelli di dati fornisce altre funzionalità.</span><span class="sxs-lookup"><span data-stu-id="140cb-176">The data templating model provides other features.</span></span> <span data-ttu-id="140cb-177">Ad esempio, se si visualizzano dati di <xref:System.Windows.Controls.HeaderedItemsControl> raccolta che <xref:System.Windows.Controls.Menu> contengono <xref:System.Windows.Controls.TreeView>altre raccolte <xref:System.Windows.HierarchicalDataTemplate>utilizzando un tipo, ad esempio a o , è presente l'opzione .</span><span class="sxs-lookup"><span data-stu-id="140cb-177">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="140cb-178">Un'altra funzionalità di <xref:System.Windows.Controls.DataTemplateSelector>modelli di dati è <xref:System.Windows.DataTemplate> la , che consente di scegliere un da utilizzare in base alla logica personalizzata.</span><span class="sxs-lookup"><span data-stu-id="140cb-178">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="140cb-179">Per altre informazioni, vedere [Cenni preliminari sui modelli di dati](../../framework/wpf/data/data-templating-overview.md), in cui vengono discusse più dettagliatamente le diverse caratteristiche dei modelli di dati.</span><span class="sxs-lookup"><span data-stu-id="140cb-179">For more information, see [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>

## <a name="triggers"></a><span data-ttu-id="140cb-180">Trigger</span><span class="sxs-lookup"><span data-stu-id="140cb-180">Triggers</span></span>

<span data-ttu-id="140cb-181">Un trigger imposta proprietà o avvia azioni, ad esempio un'animazione, quando un valore di proprietà cambia o quando viene generato un evento.</span><span class="sxs-lookup"><span data-stu-id="140cb-181">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="140cb-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>e <xref:System.Windows.DataTemplate> tutti `Triggers` dispongono di una proprietà che può contenere un set di trigger.</span><span class="sxs-lookup"><span data-stu-id="140cb-182"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="140cb-183">Esistono diversi tipi di trigger.</span><span class="sxs-lookup"><span data-stu-id="140cb-183">There are several types of triggers.</span></span>

### <a name="propertytriggers"></a><span data-ttu-id="140cb-184">PropertyTriggers</span><span class="sxs-lookup"><span data-stu-id="140cb-184">PropertyTriggers</span></span>

<span data-ttu-id="140cb-185">Oggetto <xref:System.Windows.Trigger> che imposta i valori delle proprietà o avvia azioni in base al valore di una proprietà viene definito trigger di proprietà.</span><span class="sxs-lookup"><span data-stu-id="140cb-185">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>

<span data-ttu-id="140cb-186">Per illustrare come utilizzare i trigger <xref:System.Windows.Controls.ListBoxItem> di proprietà, è possibile rendere ognuno parzialmente trasparente a meno che non sia selezionato.</span><span class="sxs-lookup"><span data-stu-id="140cb-186">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="140cb-187">Lo stile seguente <xref:System.Windows.UIElement.Opacity%2A> imposta <xref:System.Windows.Controls.ListBoxItem> il `0.5`valore di a su .</span><span class="sxs-lookup"><span data-stu-id="140cb-187">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="140cb-188">Quando <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> la `true`proprietà è <xref:System.Windows.UIElement.Opacity%2A> , tuttavia, l'oggetto è impostato su `1.0`.</span><span class="sxs-lookup"><span data-stu-id="140cb-188">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`.</span></span>

[!code-xaml[PropertyTrigger](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window5.xaml#SnippetPropertyTrigger)]

<span data-ttu-id="140cb-189">In questo <xref:System.Windows.Trigger> esempio viene utilizzato un oggetto <xref:System.Windows.Trigger> per impostare <xref:System.Windows.TriggerBase.EnterActions%2A> <xref:System.Windows.TriggerBase.ExitActions%2A> un valore di proprietà, ma si noti che la classe dispone anche delle proprietà e che consentono a un trigger di eseguire azioni.</span><span class="sxs-lookup"><span data-stu-id="140cb-189">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>

<span data-ttu-id="140cb-190">Si noti che la <xref:System.Windows.FrameworkElement.MaxHeight%2A> proprietà dell'oggetto è impostata su <xref:System.Windows.Controls.ListBoxItem> `75`.</span><span class="sxs-lookup"><span data-stu-id="140cb-190">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="140cb-191">Nella figura seguente, il terzo elemento è l'elemento selezionato.</span><span class="sxs-lookup"><span data-stu-id="140cb-191">In the following illustration, the third item is the selected item.</span></span>

<span data-ttu-id="140cb-192">![ListView con stile](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="140cb-192">![Styled ListView](./media/styles-and-templates-overview/stylingintro-triggers.png "StylingIntro_triggers")</span></span>

### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="140cb-193">EventTrigger e storyboard</span><span class="sxs-lookup"><span data-stu-id="140cb-193">EventTriggers and Storyboards</span></span>

<span data-ttu-id="140cb-194">Un altro tipo <xref:System.Windows.EventTrigger>di trigger è il , che avvia un set di azioni in base all'occorrenza di un evento.</span><span class="sxs-lookup"><span data-stu-id="140cb-194">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="140cb-195">Ad esempio, <xref:System.Windows.EventTrigger> gli oggetti seguenti specificano che <xref:System.Windows.Controls.ListBoxItem>quando <xref:System.Windows.FrameworkElement.MaxHeight%2A> il puntatore del `90` mouse `0.2` entra in , la proprietà viene animata su un valore di in un secondo periodo.</span><span class="sxs-lookup"><span data-stu-id="140cb-195">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="140cb-196">Quando il puntatore del mouse viene spostato dall'elemento, la proprietà torna al valore originale in un `1` secondo.</span><span class="sxs-lookup"><span data-stu-id="140cb-196">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="140cb-197">Si noti come non <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> è necessario <xref:System.Windows.ContentElement.MouseLeave> specificare un valore per l'animazione.</span><span class="sxs-lookup"><span data-stu-id="140cb-197">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="140cb-198">L'animazione è infatti in grado di tenere traccia del valore originale.</span><span class="sxs-lookup"><span data-stu-id="140cb-198">This is because the animation is able to keep track of the original value.</span></span>

[!code-xaml[StyleEventTriggers](~/samples/snippets/desktop-guide/wpf/styles-and-templates-intro/csharp/Window6.xaml#SnippetStyleEventTriggers)]

<span data-ttu-id="140cb-199">Per ulteriori informazioni, vedere [Panoramica degli storyboard](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-199">For more information, see the [Storyboards overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

<span data-ttu-id="140cb-200">Nella figura seguente, il mouse punta al terzo elemento.</span><span class="sxs-lookup"><span data-stu-id="140cb-200">In the following illustration, the mouse is pointing to the third item.</span></span>

<span data-ttu-id="140cb-201">![Schermata di esempio di stile](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="140cb-201">![Styling sample screenshot](./media/styles-and-templates-overview/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>

### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="140cb-202">MultiTrigger, DataTrigger e MultiDataTrigger</span><span class="sxs-lookup"><span data-stu-id="140cb-202">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>

<span data-ttu-id="140cb-203">Inoltre, <xref:System.Windows.Trigger> esistono <xref:System.Windows.EventTrigger>altri tipi di trigger.</span><span class="sxs-lookup"><span data-stu-id="140cb-203">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="140cb-204"><xref:System.Windows.MultiTrigger>consente di impostare i valori delle proprietà in base a più condizioni.</span><span class="sxs-lookup"><span data-stu-id="140cb-204"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="140cb-205">È <xref:System.Windows.DataTrigger> possibile <xref:System.Windows.MultiDataTrigger> utilizzare e quando la proprietà della condizione è associata a dati.</span><span class="sxs-lookup"><span data-stu-id="140cb-205">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>

## <a name="visual-states"></a><span data-ttu-id="140cb-206">Stati visivi</span><span class="sxs-lookup"><span data-stu-id="140cb-206">Visual States</span></span>

<span data-ttu-id="140cb-207">I controlli sono sempre in uno **stato**specifico.</span><span class="sxs-lookup"><span data-stu-id="140cb-207">Controls are always in a specific **state**.</span></span> <span data-ttu-id="140cb-208">Ad esempio, quando il mouse si sposta sulla superficie di un controllo, `MouseOver`il controllo viene considerato in uno stato comune di .</span><span class="sxs-lookup"><span data-stu-id="140cb-208">For example, when the mouse moves over the surface of a control, the control is considered to be in a common state of `MouseOver`.</span></span> <span data-ttu-id="140cb-209">Un controllo senza uno stato specifico viene `Normal` considerato nello stato comune.</span><span class="sxs-lookup"><span data-stu-id="140cb-209">A control without a specific state is considered to be in the common `Normal` state.</span></span> <span data-ttu-id="140cb-210">gli Stati sono suddivisi in gruppi e gli `CommonStates`stati menzionati in precedenza fanno parte del gruppo di stati.</span><span class="sxs-lookup"><span data-stu-id="140cb-210">States are broken into groups, and the previously mentioned states are part of the state group `CommonStates`.</span></span> <span data-ttu-id="140cb-211">La maggior parte dei `CommonStates` `FocusStates`controlli dispone di due gruppi di stati: e .</span><span class="sxs-lookup"><span data-stu-id="140cb-211">Most controls have two state groups: `CommonStates` and `FocusStates`.</span></span> <span data-ttu-id="140cb-212">Di ogni gruppo di stato applicato a un controllo, un controllo `CommonStates.MouseOver` `FocusStates.Unfocused`si trova sempre in uno stato di ogni gruppo, ad esempio e .</span><span class="sxs-lookup"><span data-stu-id="140cb-212">Of each state group applied to a control, a control is always in one state of each group, such as `CommonStates.MouseOver` and `FocusStates.Unfocused`.</span></span> <span data-ttu-id="140cb-213">Tuttavia, un controllo non può trovarsi in due `CommonStates.Normal` stati `CommonStates.Disabled`diversi all'interno dello stesso gruppo, ad esempio e .</span><span class="sxs-lookup"><span data-stu-id="140cb-213">However, a control can't be in two different states within the same group, such as `CommonStates.Normal` and `CommonStates.Disabled`.</span></span> <span data-ttu-id="140cb-214">Ecco una tabella di stati che la maggior parte dei controlli riconosce e usa.</span><span class="sxs-lookup"><span data-stu-id="140cb-214">Here is a table of states most controls recognize and use.</span></span>

| <span data-ttu-id="140cb-215">Nome VisualState</span><span class="sxs-lookup"><span data-stu-id="140cb-215">VisualState Name</span></span> | <span data-ttu-id="140cb-216">Nome VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="140cb-216">VisualStateGroup Name</span></span> | <span data-ttu-id="140cb-217">Descrizione</span><span class="sxs-lookup"><span data-stu-id="140cb-217">Description</span></span> |
| ---------------- | --------------------- | ----------- |
| <span data-ttu-id="140cb-218">Normale</span><span class="sxs-lookup"><span data-stu-id="140cb-218">Normal</span></span>           | <span data-ttu-id="140cb-219">CommonStates</span><span class="sxs-lookup"><span data-stu-id="140cb-219">CommonStates</span></span>          | <span data-ttu-id="140cb-220">Lo stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="140cb-220">The default state.</span></span> |
| <span data-ttu-id="140cb-221">MouseOver</span><span class="sxs-lookup"><span data-stu-id="140cb-221">MouseOver</span></span>        | <span data-ttu-id="140cb-222">CommonStates</span><span class="sxs-lookup"><span data-stu-id="140cb-222">CommonStates</span></span>          | <span data-ttu-id="140cb-223">Il puntatore del mouse è posizionato sul controllo.</span><span class="sxs-lookup"><span data-stu-id="140cb-223">The mouse pointer is positioned over the control.</span></span> |
| <span data-ttu-id="140cb-224">Premuto</span><span class="sxs-lookup"><span data-stu-id="140cb-224">Pressed</span></span>          | <span data-ttu-id="140cb-225">CommonStates</span><span class="sxs-lookup"><span data-stu-id="140cb-225">CommonStates</span></span>          | <span data-ttu-id="140cb-226">Il controllo è premuto.</span><span class="sxs-lookup"><span data-stu-id="140cb-226">The control is pressed.</span></span> |
| <span data-ttu-id="140cb-227">Disabled</span><span class="sxs-lookup"><span data-stu-id="140cb-227">Disabled</span></span>         | <span data-ttu-id="140cb-228">CommonStates</span><span class="sxs-lookup"><span data-stu-id="140cb-228">CommonStates</span></span>          | <span data-ttu-id="140cb-229">Il controllo è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="140cb-229">The control is disabled.</span></span> |
| <span data-ttu-id="140cb-230">Con stato attivo</span><span class="sxs-lookup"><span data-stu-id="140cb-230">Focused</span></span>          | <span data-ttu-id="140cb-231">FocusStates</span><span class="sxs-lookup"><span data-stu-id="140cb-231">FocusStates</span></span>           | <span data-ttu-id="140cb-232">Il controllo ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="140cb-232">The control has focus.</span></span> |
| <span data-ttu-id="140cb-233">Con stato non attivo</span><span class="sxs-lookup"><span data-stu-id="140cb-233">Unfocused</span></span>        | <span data-ttu-id="140cb-234">FocusStates</span><span class="sxs-lookup"><span data-stu-id="140cb-234">FocusStates</span></span>           | <span data-ttu-id="140cb-235">Il controllo non ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="140cb-235">The control does not have focus.</span></span> |

<span data-ttu-id="140cb-236">Definendo <xref:System.Windows.VisualStateManager?displayProperty=fullName> un sull'elemento radice di un modello di controllo, è possibile attivare le animazioni quando un controllo entra in uno stato specifico.</span><span class="sxs-lookup"><span data-stu-id="140cb-236">By defining a <xref:System.Windows.VisualStateManager?displayProperty=fullName> on the root element of a control template, you can trigger animations when a control enters a specific state.</span></span> <span data-ttu-id="140cb-237">Il `VisualStateManager` dichiara quali combinazioni di <xref:System.Windows.VisualStateGroup> e <xref:System.Windows.VisualState> per guardare.</span><span class="sxs-lookup"><span data-stu-id="140cb-237">The `VisualStateManager` declares which combinations of <xref:System.Windows.VisualStateGroup> and <xref:System.Windows.VisualState> to watch.</span></span> <span data-ttu-id="140cb-238">Quando il controllo entra in uno stato di `VisaulStateManager` controllo, viene avviata l'animazione definita dall'oggetto.</span><span class="sxs-lookup"><span data-stu-id="140cb-238">When the control enters a watched state, the animation defined by the `VisaulStateManager` is started.</span></span>

<span data-ttu-id="140cb-239">Ad esempio, il codice `CommonStates.MouseOver` XAML seguente controlla lo stato `backgroundElement`per animare il colore di riempimento dell'elemento denominato .</span><span class="sxs-lookup"><span data-stu-id="140cb-239">For example, the following XAML code watches the `CommonStates.MouseOver` state to animate the fill color of the element named `backgroundElement`.</span></span> <span data-ttu-id="140cb-240">Quando il controllo `CommonStates.Normal` torna allo stato, viene `backgroundElement` ripristinato il colore di riempimento dell'elemento denominato.</span><span class="sxs-lookup"><span data-stu-id="140cb-240">When the control returns to the `CommonStates.Normal` state, the fill color of the element named `backgroundElement` is restored.</span></span>

```xaml
<ControlTemplate x:Key="roundbutton" TargetType="Button">
    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup Name="CommonStates">
                <VisualState Name="Normal">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="{TemplateBinding Background}"
                                    Duration="0:0:0.3"/>
                </VisualState>
                <VisualState Name="MouseOver">
                    <ColorAnimation Storyboard.TargetName="backgroundElement"
                                    Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                    To="Yellow"
                                    Duration="0:0:0.3"/>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        ...
```

<span data-ttu-id="140cb-241">Per altre informazioni sugli storyboard, vedere [Cenni preliminari](../../framework/wpf/graphics-multimedia/storyboards-overview.md)sugli storyboard.</span><span class="sxs-lookup"><span data-stu-id="140cb-241">For more information about storyboards, see [Storyboards Overview](../../framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>

## <a name="shared-resources-and-themes"></a><span data-ttu-id="140cb-242">Risorse e temi condivisi</span><span class="sxs-lookup"><span data-stu-id="140cb-242">Shared resources and themes</span></span>

<span data-ttu-id="140cb-243">Un'app WPF tipica potrebbe avere più risorse dell'interfaccia utente che vengono applicate in tutta l'app.</span><span class="sxs-lookup"><span data-stu-id="140cb-243">A typical WPF app might have multiple UI resources that are applied throughout the app.</span></span> <span data-ttu-id="140cb-244">Collettivamente, questo set di risorse può essere considerato il tema per l'app.</span><span class="sxs-lookup"><span data-stu-id="140cb-244">Collectively, this set of resources can be considered the theme for the app.</span></span> <span data-ttu-id="140cb-245">WPFWPF fornisce il supporto per la creazione di pacchetti di risorse <xref:System.Windows.ResourceDictionary> dell'interfaccia utente come tema usando un dizionario risorse incapsulato come classe.</span><span class="sxs-lookup"><span data-stu-id="140cb-245">WPF provides support for packaging UI resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>

<span data-ttu-id="140cb-246">I temi WPFWPF vengono definiti usando il meccanismo di stile e modelli esposto da WPFWPF per la personalizzazione degli oggetti visivi di qualsiasi elemento.</span><span class="sxs-lookup"><span data-stu-id="140cb-246">WPF themes are defined by using the styling and templating mechanism that WPF exposes for customizing the visuals of any element.</span></span>

<span data-ttu-id="140cb-247">Le risorse del tema WPF vengono archiviate nei dizionari risorse incorporati.</span><span class="sxs-lookup"><span data-stu-id="140cb-247">WPF theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="140cb-248">Questi dizionari risorse devono essere incorporati all'interno di un assembly firmato e possono essere incorporati nello stesso assembly come codice o in un assembly affiancato.</span><span class="sxs-lookup"><span data-stu-id="140cb-248">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="140cb-249">Per PresentationFramework.dll, l'assembly che contiene controlli WPFWPF, le risorse del tema si trovano in una serie di assembly side-by-side.</span><span class="sxs-lookup"><span data-stu-id="140cb-249">For PresentationFramework.dll, the assembly that contains WPF controls, theme resources are in a series of side-by-side assemblies.</span></span>

<span data-ttu-id="140cb-250">Il tema diventa l'ultimo posto in cui cercare lo stile di un elemento.</span><span class="sxs-lookup"><span data-stu-id="140cb-250">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="140cb-251">In genere, la ricerca inizierà alzando la struttura ad albero dell'elemento cercando una risorsa appropriata, quindi cerca nella raccolta di risorse dell'app e infine esegui una query nel sistema.</span><span class="sxs-lookup"><span data-stu-id="140cb-251">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the app resource collection and finally query the system.</span></span> <span data-ttu-id="140cb-252">Questo offre agli sviluppatori di app la possibilità di ridefinire lo stile per qualsiasi oggetto a livello di albero o app prima di raggiungere il tema.</span><span class="sxs-lookup"><span data-stu-id="140cb-252">This gives app developers a chance to redefine the style for any object at the tree or app level before reaching the theme.</span></span>

<span data-ttu-id="140cb-253">È possibile definire i dizionari risorse come singoli file che consentono di riutilizzare un tema in più app.</span><span class="sxs-lookup"><span data-stu-id="140cb-253">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple apps.</span></span> <span data-ttu-id="140cb-254">È inoltre possibile creare temi scambiabili definendo più dizionari risorse che forniscono gli stessi tipi di risorse ma con valori diversi.</span><span class="sxs-lookup"><span data-stu-id="140cb-254">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="140cb-255">La ridefinizione di questi stili o di altre risorse a livello di app è l'approccio consigliato per l'skinning di un'app.</span><span class="sxs-lookup"><span data-stu-id="140cb-255">Redefining these styles or other resources at the app level is the recommended approach for skinning an app.</span></span>

<span data-ttu-id="140cb-256">Per condividere un set di risorse, inclusi stili e modelli, tra <xref:System.Windows.ResourceDictionary> le app, `shared.xaml` puoi creare un file XAML e definire un file che includa il riferimento a un file.</span><span class="sxs-lookup"><span data-stu-id="140cb-256">To share a set of resources, including styles and templates, across apps, you can create a XAML file and define a <xref:System.Windows.ResourceDictionary> that includes reference to a `shared.xaml` file.</span></span>

```xaml
<ResourceDictionary.MergedDictionaries>
  <ResourceDictionary Source="Shared.xaml" />
</ResourceDictionary.MergedDictionaries>
```

<span data-ttu-id="140cb-257">È la condivisione di `shared.xaml`, <xref:System.Windows.ResourceDictionary> che a sua volta definisce un che contiene un set di risorse di stile e pennello, che consente ai controlli in un'app di avere un aspetto coerente.</span><span class="sxs-lookup"><span data-stu-id="140cb-257">It is the sharing of `shared.xaml`, which itself defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources, that enables the controls in an app to have a consistent look.</span></span>

<span data-ttu-id="140cb-258">Per ulteriori informazioni, vedere [Dizionari risorse uniti](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span><span class="sxs-lookup"><span data-stu-id="140cb-258">For more information, see [Merged resource dictionaries](../../framework/wpf/advanced/merged-resource-dictionaries.md).</span></span>

<span data-ttu-id="140cb-259">Se si sta creando un tema per il controllo personalizzato, vedere la sezione **Definizione delle risorse a livello** di tema di [Cenni](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level)preliminari sulla creazione di controlli .</span><span class="sxs-lookup"><span data-stu-id="140cb-259">If you are creating a theme for your custom control, see the **Defining resources at the theme level** section of the [Control authoring overview](../../framework/wpf/controls/control-authoring-overview.md#defining-resources-at-the-theme-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="140cb-260">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="140cb-260">See also</span></span>

- [<span data-ttu-id="140cb-261">URI di tipo pack in WPF</span><span class="sxs-lookup"><span data-stu-id="140cb-261">Pack URIs in WPF</span></span>](../../framework/wpf/app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="140cb-262">Procedura: trovare elementi generati da un oggetto ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="140cb-262">How to: Find ControlTemplate-Generated Elements</span></span>](../../framework/wpf/controls/how-to-find-controltemplate-generated-elements.md)
- [<span data-ttu-id="140cb-263">Trova elementi generati da DataTemplate</span><span class="sxs-lookup"><span data-stu-id="140cb-263">Find DataTemplate-Generated Elements</span></span>](../../framework/wpf/data/how-to-find-datatemplate-generated-elements.md)
