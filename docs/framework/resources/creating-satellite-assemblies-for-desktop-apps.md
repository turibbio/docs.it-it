---
title: Creazione di assembly satellite per applicazioni desktop
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- public keys, obtaining
- satellite assemblies
- assemblies [.NET Framework], signing
- application resources, deploying
- Al.exe
- GAC (global assembly cache), satellite assemblies
- Assembly Linker
- directory locations for satellite assemblies
- global assembly cache, satellite assemblies
- packaging application resources
- compiling satellite assemblies
- re-signing assemblies
ms.assetid: 8d5c6044-2919-41d2-8321-274706b295ac
ms.openlocfilehash: 5efc5001a1a9756e09053d684a2f6673d15fadcf
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/03/2019
ms.locfileid: "73458012"
---
# <a name="creating-satellite-assemblies-for-desktop-apps"></a><span data-ttu-id="c4f8d-102">Creazione di assembly satellite per applicazioni desktop</span><span class="sxs-lookup"><span data-stu-id="c4f8d-102">Creating Satellite Assemblies for Desktop Apps</span></span>

<span data-ttu-id="c4f8d-103">I file di risorse svolgono un ruolo centrale nelle applicazioni localizzate.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-103">Resource files play a central role in localized applications.</span></span> <span data-ttu-id="c4f8d-104">Questi file consentono a un'applicazione di visualizzare stringhe, immagini e altri dati nella lingua dell'utente e con le impostazioni cultura di questo, fornendo anche dati alternativi per i casi in cui non siano disponibili risorse per la lingua o le impostazioni cultura dell'utente.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-104">They enable an application to display strings, images, and other data in the user's own language and culture, and to provide alternate data if resources for the user's own language or culture are unavailable.</span></span> <span data-ttu-id="c4f8d-105">Per individuare e recuperare risorse localizzate, .NET Framework usa un modello hub e spoke.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-105">The .NET Framework uses a hub-and-spoke model to locate and retrieve localized resources.</span></span> <span data-ttu-id="c4f8d-106">L'hub è l'assembly principale che contiene il codice eseguibile non localizzabile e le risorse di un singolo set di impostazioni cultura, denominate impostazioni cultura neutre o predefinite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-106">The hub is the main assembly that contains the non-localizable executable code and the resources for a single culture, which is called the neutral or default culture.</span></span> <span data-ttu-id="c4f8d-107">Le impostazioni cultura predefinite sono le impostazioni di fallback per l'applicazione, usate quando non sono disponibili risorse localizzate.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-107">The default culture is the fallback culture for the application; it is used when no localized resources are available.</span></span> <span data-ttu-id="c4f8d-108">Per designare le impostazioni cultura predefinite dell'applicazione, si usa l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute>.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-108">You use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to designate the culture of the application's default culture.</span></span> <span data-ttu-id="c4f8d-109">Ogni spoke si connette a un assembly satellite contenente le risorse relative a impostazioni cultura specifiche, ma non contiene codice.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-109">Each spoke connects to a satellite assembly that contains the resources for a single localized culture but does not contain any code.</span></span> <span data-ttu-id="c4f8d-110">Poiché gli assembly satellite non fanno parte dell'assembly principale, è possibile aggiornare o sostituire facilmente le risorse corrispondenti a impostazioni cultura specifiche senza sostituire l'assembly principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-110">Because the satellite assemblies are not part of the main assembly, you can easily update or replace resources that correspond to a specific culture without replacing the main assembly for the application.</span></span>

> [!NOTE]
> <span data-ttu-id="c4f8d-111">Le risorse delle impostazioni cultura predefinite di un'applicazione possono anche essere archiviate in un assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-111">The resources of an application's default culture can also be stored in a satellite assembly.</span></span> <span data-ttu-id="c4f8d-112">A tale scopo, si assegna all'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute> un valore di <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-112">To do this, you assign the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span></span>

## <a name="satellite-assembly-name-and-location"></a><span data-ttu-id="c4f8d-113">Posizione e nome dell'assembly satellite</span><span class="sxs-lookup"><span data-stu-id="c4f8d-113">Satellite Assembly Name and Location</span></span>

<span data-ttu-id="c4f8d-114">Requisito del modello hub e spoke è che le risorse vengano inserite in posizioni specifiche perché possano essere individuate e usate con facilità.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-114">The hub-and-spoke model requires that you place resources in specific locations so that they can be easily located and used.</span></span> <span data-ttu-id="c4f8d-115">Se le risorse non vengono compilate e denominate come previsto oppure se non vengono inserite nelle posizioni corrette, Common Language Runtime non è in grado di individuarle e usa le impostazioni cultura predefinite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-115">If you do not compile and name resources as expected, or if you do not place them in the correct locations, the common language runtime will not be able to locate them and will use the resources of the default culture instead.</span></span> <span data-ttu-id="c4f8d-116">Lo strumento Gestione risorse di .NET Framework, rappresentato da un oggetto <xref:System.Resources.ResourceManager>, viene usato per accedere automaticamente alle risorse localizzate.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-116">The .NET Framework Resource Manager, represented by a <xref:System.Resources.ResourceManager> object, is used to automatically access localized resources.</span></span> <span data-ttu-id="c4f8d-117">Gestione risorse richiede quanto segue:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-117">The Resource Manager requires the following:</span></span>

- <span data-ttu-id="c4f8d-118">Un assembly satellite singolo deve includere tutte le risorse relative a impostazioni cultura particolari.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-118">A single satellite assembly must include all the resources for a particular culture.</span></span> <span data-ttu-id="c4f8d-119">In altre parole, è necessario compilare più file con estensione *txt* o *resx* in un unico file binario con *estensione resources* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-119">In other words, you should compile multiple *.txt* or *.resx* files into a single binary *.resources* file.</span></span>

- <span data-ttu-id="c4f8d-120">Nella directory dell'applicazione deve esistere una sottodirectory separata per ognuna delle impostazioni cultura localizzate. In tali sottodirectory devono essere archiviate le risorse delle rispettive impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-120">There must be a separate subdirectory in the application directory for each localized culture that stores that culture's resources.</span></span> <span data-ttu-id="c4f8d-121">Il nome della sottodirectory deve essere lo stesso delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-121">The subdirectory name must be the same as the culture name.</span></span> <span data-ttu-id="c4f8d-122">In alternativa, è possibile archiviare gli assembly satellite nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-122">Alternately, you can store your satellite assemblies in the global assembly cache.</span></span> <span data-ttu-id="c4f8d-123">In questo caso, il componente delle informazioni delle impostazioni cultura del nome sicuro dell'assembly deve indicare le impostazioni cultura corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-123">In this case, the culture information component of the assembly's strong name must indicate its culture.</span></span> <span data-ttu-id="c4f8d-124">Vedere la sezione [Installazione di assembly satellite nella Global Assembly Cache](#SN) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-124">(See the [Installing Satellite Assemblies in the Global Assembly Cache](#SN) section later in this topic.)</span></span>

  > [!NOTE]
  > <span data-ttu-id="c4f8d-125">Se l'applicazione include risorse per impostazioni cultura secondarie, inserire le impostazioni cultura secondarie in una sottodirectory separata all'interno della directory dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-125">If your application includes resources for subcultures, place each subculture in a separate subdirectory under the application directory.</span></span> <span data-ttu-id="c4f8d-126">Non inserire impostazioni cultura secondarie all'interno di sottodirectory della directory delle impostazioni cultura principali.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-126">Do not place subcultures in subdirectories under their main culture's directory.</span></span>

- <span data-ttu-id="c4f8d-127">L'assembly satellite deve avere lo stesso nome dell'applicazione e deve usare l'estensione di file ".resources.dll".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-127">The satellite assembly must have the same name as the application, and must use the file name extension ".resources.dll".</span></span> <span data-ttu-id="c4f8d-128">Ad esempio, se un'applicazione è denominata *example. exe*, il nome di ogni assembly satellite deve essere *example. resources. dll*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-128">For example, if an application is named *Example.exe*, the name of each satellite assembly should be *Example.resources.dll*.</span></span> <span data-ttu-id="c4f8d-129">Si noti che il nome dell'assembly satellite non indica le impostazioni cultura dei file di risorse corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-129">Note that the satellite assembly name does not indicate the culture of its resource files.</span></span> <span data-ttu-id="c4f8d-130">L'assembly satellite, tuttavia, viene visualizzato in una directory che specifica le impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-130">However, the satellite assembly appears in a directory that does specify the culture.</span></span>

- <span data-ttu-id="c4f8d-131">Le informazioni sulle impostazioni cultura dell'assembly satellite devono essere incluse nei metadati dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-131">Information about the culture of the satellite assembly must be included in the assembly's metadata.</span></span> <span data-ttu-id="c4f8d-132">Per archiviare il nome delle impostazioni cultura nei metadati dell'assembly satellite, specificare l'opzione `/culture` quando si incorporano le risorse nell'assembly satellite tramite [Assembly Linker](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-132">To store the culture name in the satellite assembly's metadata, you specify the `/culture` option when you use [Assembly Linker](../tools/al-exe-assembly-linker.md) to embed resources in the satellite assembly.</span></span>

<span data-ttu-id="c4f8d-133">La figura seguente illustra una struttura di directory di esempio e i requisiti relativi alla posizione per le applicazioni che non si intende installare nella [Global Assembly Cache](../app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-133">The following illustration shows a sample directory structure and location requirements for applications that you are not installing in the [global assembly cache](../app-domains/gac.md).</span></span> <span data-ttu-id="c4f8d-134">Gli elementi con estensione txt e resources non verranno forniti con l'applicazione finale.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-134">The items with .txt and .resources extensions will not ship with the final application.</span></span> <span data-ttu-id="c4f8d-135">Questi sono file di risorse intermedi usati per creare gli assembly di risorse satellite finali.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-135">These are the intermediate resource files used to create the final satellite resource assemblies.</span></span> <span data-ttu-id="c4f8d-136">In questo esempio è possibile sostituire il file con estensione resx per i file con estensione txt.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-136">In this example, you could substitute .resx files for the .txt files.</span></span> <span data-ttu-id="c4f8d-137">Per altre informazioni, vedere [Creazione del pacchetto e distribuzione delle risorse](packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-137">For more information, see [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

<span data-ttu-id="c4f8d-138">L'immagine seguente mostra la directory degli assembly satellite:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-138">The following image shows the satellite assembly directory:</span></span>

![una directory di assembly satellite con sottodirectory di impostazioni cultura localizzate.](./media/creating-satellite-assemblies-for-desktop-apps/satellite-assembly-directory.gif)

## <a name="compiling-satellite-assemblies"></a><span data-ttu-id="c4f8d-140">compilazione di assembly satellite</span><span class="sxs-lookup"><span data-stu-id="c4f8d-140">Compiling Satellite Assemblies</span></span>

<span data-ttu-id="c4f8d-141">Il [Generatore di file di risorse (Resgen. exe)](../tools/resgen-exe-resource-file-generator.md) viene utilizzato per compilare file di testo o file XML (*resx*) che contengono risorse in file binari con *estensione resources* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-141">You use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to compile text files or XML (*.resx*) files that contain resources to binary *.resources* files.</span></span> <span data-ttu-id="c4f8d-142">Si usa quindi [assembly linker (al. exe)](../tools/al-exe-assembly-linker.md) per compilare i file con *estensione resources* in assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-142">You then use [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile *.resources* files into satellite assemblies.</span></span> <span data-ttu-id="c4f8d-143">*Al. exe* crea un assembly dai file con *estensione resources* specificati.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-143">*Al.exe* creates an assembly from the *.resources* files that you specify.</span></span> <span data-ttu-id="c4f8d-144">Gli assembly satellite possono contenere solo risorse. Non possono contenere codice eseguibile.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-144">Satellite assemblies can contain only resources; they cannot contain any executable code.</span></span>

<span data-ttu-id="c4f8d-145">Il comando *al. exe* seguente crea un assembly satellite per l'applicazione `Example` dal file di risorse tedesco *Strings. de. resources*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-145">The following *Al.exe* command creates a satellite assembly for the application `Example` from the German resources file *strings.de.resources*.</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll
```

<span data-ttu-id="c4f8d-146">Il comando *al. exe* seguente crea anche un assembly satellite per l'applicazione `Example` dal file *Strings. de. resources*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-146">The following *Al.exe* command also creates a satellite assembly for the application `Example` from the file *strings.de.resources*.</span></span> <span data-ttu-id="c4f8d-147">L'opzione **/template** fa sì che l'assembly satellite erediti tutti i metadati dell'assembly, ad eccezione delle informazioni relative alle impostazioni cultura dell'assembly padre (*example. dll*).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-147">The **/template** option causes the satellite assembly to inherit all assembly metadata except for its culture information from the parent assembly (*Example.dll*).</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll -template:Example.dll
```  
  
<span data-ttu-id="c4f8d-148">Nella tabella seguente vengono descritte in modo più dettagliato le opzioni *al. exe* utilizzate in questi comandi:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-148">The following table describes the *Al.exe* options used in these commands in more detail:</span></span>
  
|<span data-ttu-id="c4f8d-149">Opzione</span><span class="sxs-lookup"><span data-stu-id="c4f8d-149">Option</span></span>|<span data-ttu-id="c4f8d-150">Descrizione</span><span class="sxs-lookup"><span data-stu-id="c4f8d-150">Description</span></span>|
|------------|-----------------|
|`-target:lib`|<span data-ttu-id="c4f8d-151">Specifica che l'assembly satellite deve essere compilato in un file di libreria con estensione dll.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-151">Specifies that your satellite assembly is compiled to a library (.dll) file.</span></span> <span data-ttu-id="c4f8d-152">Poiché un assembly satellite non contiene codice eseguibile e non rappresenta l'assembly principale dell'applicazione, è necessario salvare gli assembly satellite come DLL.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-152">Because a satellite assembly does not contain executable code and is not an application's main assembly, you must save satellite assemblies as DLLs.</span></span>|
|`-embed:strings.de.resources`|<span data-ttu-id="c4f8d-153">Specifica il nome del file di risorse da incorporare quando *al. exe* compila l'assembly.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-153">Specifies the name of the resource file to embed when *Al.exe* compiles the assembly.</span></span> <span data-ttu-id="c4f8d-154">È possibile incorporare più file con estensione resources in un assembly satellite. Se si segue il modello hub e spoke, però, è necessario compilare un assembly satellite per ognuna delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-154">You can embed multiple .resources files in a satellite assembly, but if you are following the hub-and-spoke model, you must compile one satellite assembly for each culture.</span></span> <span data-ttu-id="c4f8d-155">È tuttavia possibile creare file con estensione resources separati per le stringhe e gli oggetti.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-155">However, you can create separate .resources files for strings and objects.</span></span>|
|`-culture:de`|<span data-ttu-id="c4f8d-156">Specifica le impostazioni cultura della risorsa da compilare.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-156">Specifies the culture of the resource to compile.</span></span> <span data-ttu-id="c4f8d-157">Common Language Runtime usa queste informazioni durante la ricerca delle risorse per impostazioni cultura specifiche.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-157">The common language runtime uses this information when it searches for the resources for a specified culture.</span></span> <span data-ttu-id="c4f8d-158">Se si omette questa opzione, *al. exe* continuerà a compilare la risorsa, ma il runtime non riuscirà a trovarla quando viene richiesta da un utente.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-158">If you omit this option, *Al.exe* will still compile the resource, but the runtime will not be able to find it when a user requests it.</span></span>|
|`-out:Example.resources.dll`|<span data-ttu-id="c4f8d-159">Specifica il nome del file di output.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-159">Specifies the name of the output file.</span></span> <span data-ttu-id="c4f8d-160">Il nome deve seguire lo standard di denominazione *nomeBase*.resources.*estensione*, dove *nomeBase* è il nome dell'assembly principale ed *estensione* è un'estensione di file valida, ad esempio dll.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-160">The name must follow the naming standard *baseName*.resources.*extension*, where *baseName* is the name of the main assembly and *extension* is a valid file name extension (such as .dll).</span></span> <span data-ttu-id="c4f8d-161">Si noti che il runtime non è in grado di determinare le impostazioni cultura di un assembly satellite in base al nome del file di output. Per specificare tali impostazioni è necessario usare l'opzione **/culture**.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-161">Note that the runtime is not able to determine the culture of a satellite assembly based on its output file name; you must use the **/culture** option to specify it.</span></span>|
|`-template:Example.dll`|<span data-ttu-id="c4f8d-162">Specifica l'assembly dal quale l'assembly satellite deve ereditare tutti i metadati, ad eccezione del campo relativo alle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-162">Specifies an assembly from which the satellite assembly will inherit all assembly metadata except the culture field.</span></span> <span data-ttu-id="c4f8d-163">Questa opzione influisce sugli assembly satellite solo se si specifica un assembly con un [nome sicuro](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-163">This option affects satellite assemblies only if you specify an assembly that has a [strong name](../../standard/assembly/strong-named.md).</span></span>|
  
 <span data-ttu-id="c4f8d-164">Per un elenco completo delle opzioni disponibili con *al. exe*, vedere [assembly linker (al. exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-164">For a complete list of options available with *Al.exe*, see [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>
  
## <a name="satellite-assemblies-an-example"></a><span data-ttu-id="c4f8d-165">Assembly satellite: un esempio</span><span class="sxs-lookup"><span data-stu-id="c4f8d-165">Satellite Assemblies: An Example</span></span>

<span data-ttu-id="c4f8d-166">Di seguito è riportato un semplice esempio di tipo "Hello world" che visualizza una finestra di messaggio contenente un saluto localizzato.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-166">The following is a simple "Hello world" example that displays a message box containing a localized greeting.</span></span> <span data-ttu-id="c4f8d-167">L'esempio include le risorse per le impostazioni cultura inglesi (Stati Uniti), francesi (Francia) e russe (Russia). Le impostazioni cultura inglesi sono le impostazioni cultura di fallback.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-167">The example includes resources for the English (United States), French (France), and Russian (Russia) cultures, and its fallback culture is English.</span></span> <span data-ttu-id="c4f8d-168">Per creare l'esempio, eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-168">To create the example, do the following:</span></span>
  
1. <span data-ttu-id="c4f8d-169">Creare un file di risorse denominato *Greeting. resx* o *Greeting. txt* in modo che contenga la risorsa per le impostazioni cultura predefinite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-169">Create a resource file named *Greeting.resx* or *Greeting.txt* to contain the resource for the default culture.</span></span> <span data-ttu-id="c4f8d-170">Salvare in questo file un'unica stringa denominata `HelloString` il cui valore sia "Hello world!"</span><span class="sxs-lookup"><span data-stu-id="c4f8d-170">Store a single string named `HelloString` whose value is "Hello world!"</span></span> <span data-ttu-id="c4f8d-171">.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-171">in this file.</span></span>

2. <span data-ttu-id="c4f8d-172">Per impostare le impostazioni cultura inglesi (en) come predefinite per l'applicazione, aggiungere l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> seguente al file AssemblyInfo dell'applicazione o al file di codice sorgente principale che verrà compilato nell'assembly principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-172">To indicate that English (en) is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly.</span></span>

    [!code-csharp[Conceptual.Resources.Locating#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/assemblyinfo.cs#2)]
    [!code-vb[Conceptual.Resources.Locating#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/assemblyinfo.vb#2)]  
  
3. <span data-ttu-id="c4f8d-173">Aggiungere all'applicazione il supporto per le impostazioni cultura aggiuntive (en-US, fr-FR e ru-RU) come segue:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-173">Add support for additional cultures (en-US, fr-FR, and ru-RU) to the application as follows:</span></span>  
  
    - <span data-ttu-id="c4f8d-174">Per supportare le impostazioni cultura en-US o inglese (Stati Uniti), creare un file di risorse denominato *Greeting. en-US. resx* o *Greeting. en-US. txt*e archiviarlo in una `HelloString` singola stringa denominata il cui valore sia "Hi World!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-174">To support the en-US or English (United States) culture, create a resource file named *Greeting.en-US.resx* or *Greeting.en-US.txt*, and store in it a single string named `HelloString` whose value is "Hi world!".</span></span>
  
    - <span data-ttu-id="c4f8d-175">Per supportare le impostazioni cultura fr-FR o francese (Francia), creare un file di risorse denominato *Greeting.fr-fr. resx* o *Greeting.fr-fr. txt*e archiviarlo in una singola stringa `HelloString` denominata il cui valore sia "Salut tout le monde!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-175">To support the fr-FR or French (France) culture, create a resource file named *Greeting.fr-FR.resx* or *Greeting.fr-FR.txt*, and store in it a single string named `HelloString` whose value is "Salut tout le monde!".</span></span>
  
    - <span data-ttu-id="c4f8d-176">Per supportare le impostazioni cultura ru-ur o russo (Russia), creare un file di risorse denominato *Greeting.ru-ur. resx* o *Greeting.ru-ru. txt*e archiviarvi una singola stringa denominata `HelloString` il cui valore sia "Всем привет!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-176">To support the ru-RU or Russian (Russia) culture, create a resource file named *Greeting.ru-RU.resx* or *Greeting.ru-RU.txt*, and store in it a single string named `HelloString` whose value is "Всем привет!".</span></span>
  
4. <span data-ttu-id="c4f8d-177">Utilizzare [Resgen. exe](../tools/resgen-exe-resource-file-generator.md) per compilare ogni file di risorse di testo o XML in un file con *estensione resources* binario.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-177">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary *.resources* file.</span></span> <span data-ttu-id="c4f8d-178">L'output è un set di file con lo stesso nome file radice dei file con estensione *resx* o *txt* , ma con estensione *Resources* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-178">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="c4f8d-179">Se si crea l'esempio con Visual Studio, il processo di compilazione viene gestito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-179">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="c4f8d-180">Se non si usa Visual Studio, eseguire i comandi seguenti per compilare i file con estensione *resx* in file con *estensione resources* :</span><span class="sxs-lookup"><span data-stu-id="c4f8d-180">If you aren't using Visual Studio, run the following commands to compile the *.resx* files into *.resources* files:</span></span>  
  
    ```console
    resgen Greeting.resx
    resgen Greeting.en-us.resx
    resgen Greeting.fr-FR.resx
    resgen Greeting.ru-RU.resx
    ```

    <span data-ttu-id="c4f8d-181">Se le risorse si trovano in file di testo anziché in file XML, sostituire l'estensione *resx* con *. txt*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-181">If your resources are in text files instead of XML files, replace the *.resx* extension with *.txt*.</span></span>

5. <span data-ttu-id="c4f8d-182">Compilare il codice sorgente seguente con le risorse per le impostazioni cultura predefinite nell'assembly principale dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-182">Compile the following source code along with the resources for the default culture into the application's main assembly:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="c4f8d-183">Se per creare l'esempio si usa la riga di comando anziché Visual Studio, è necessario modificare la chiamata al costruttore della classe <xref:System.Resources.ResourceManager> come segue: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span><span class="sxs-lookup"><span data-stu-id="c4f8d-183">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to the following: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span></span>

    [!code-csharp[Conceptual.Resources.Locating#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/program.cs#1)]
    [!code-vb[Conceptual.Resources.Locating#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/module1.vb#1)]

    <span data-ttu-id="c4f8d-184">Se l'applicazione è denominata Example e si esegue la compilazione dalla riga di comando, il comando per il compilatore C# è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-184">If the application is named Example and you are compiling from the command-line, the command for the C# compiler is:</span></span>

    ```console
    csc Example.cs -res:Greeting.resources
    ```

    <span data-ttu-id="c4f8d-185">Per il compilatore Visual Basic il comando corrispondente è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-185">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc Example.vb -res:Greeting.resources
    ```

6. <span data-ttu-id="c4f8d-186">Creare una sottodirectory nella directory principale dell'applicazione per ognuna delle impostazioni cultura localizzate supportate dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-186">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="c4f8d-187">È necessario creare una sottodirectory *en-US*, *fr-fr*e *ur-ur* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-187">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="c4f8d-188">Visual Studio crea queste sottodirectory automaticamente nell'ambito del processo di compilazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-188">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span>

7. <span data-ttu-id="c4f8d-189">Incorporare i singoli file con *estensione resources* specifici delle impostazioni cultura in assembly satellite e salvarli nella directory appropriata.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-189">Embed the individual culture-specific *.resources* files into satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="c4f8d-190">Il comando per eseguire questa operazione per ogni file *. resources* è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-190">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Greeting.culture.resources -culture:culture -out:culture\Example.resources.dll
    ```

     <span data-ttu-id="c4f8d-191">dove *culture* è il nome delle impostazioni cultura le cui risorse sono contenute dall'assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-191">where *culture* is the name of the culture whose resources the satellite assembly contains.</span></span> <span data-ttu-id="c4f8d-192">Visual Studio gestisce questo processo automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-192">Visual Studio handles this process automatically.</span></span>

<span data-ttu-id="c4f8d-193">È quindi possibile eseguire l'esempio.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-193">You can then run the example.</span></span> <span data-ttu-id="c4f8d-194">Questo effettua una selezione casuale tra le impostazioni cultura supportate, definisce le impostazioni cultura selezionate come correnti e visualizza il saluto localizzato.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-194">It will randomly make one of the supported cultures the current culture and display a localized greeting.</span></span>

<a name="SN"></a>

## <a name="installing-satellite-assemblies-in-the-global-assembly-cache"></a><span data-ttu-id="c4f8d-195">Installazione di assembly satellite nella Global Assembly Cache</span><span class="sxs-lookup"><span data-stu-id="c4f8d-195">Installing Satellite Assemblies in the Global Assembly Cache</span></span>

<span data-ttu-id="c4f8d-196">Invece di installare gli assembly in una sottodirectory locale dell'applicazione, è possibile installarli nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-196">Instead of installing assemblies in a local application subdirectory, you can install them in the global assembly cache.</span></span> <span data-ttu-id="c4f8d-197">Ciò è particolarmente utile se alcuni assembly di librerie di classi e di risorse di librerie di classi vengono usati da più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-197">This is particularly useful if you have class libraries and class library resource assemblies that are used by multiple applications.</span></span>
  
<span data-ttu-id="c4f8d-198">L'installazione di assembly nella Global Assembly Cache richiede che gli assembly abbiano nomi sicuri.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-198">Installing assemblies in the global assembly cache requires that they have strong names.</span></span> <span data-ttu-id="c4f8d-199">Gli assembly con nomi sicuri, firmati con una coppia di chiavi pubblica/privata valida,</span><span class="sxs-lookup"><span data-stu-id="c4f8d-199">Strong-named assemblies are signed with a valid public/private key pair.</span></span> <span data-ttu-id="c4f8d-200">contengono informazioni sulla versione usate dal runtime allo scopo di determinare l'assembly da usare per soddisfare una richiesta di associazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-200">They contain version information that the runtime uses to determine which assembly to use to satisfy a binding request.</span></span> <span data-ttu-id="c4f8d-201">Per altre informazioni sui nomi sicuri e sul controllo delle versioni, vedere [Controllo delle versioni degli assembly](../../standard/assembly/versioning.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-201">For more information about strong names and versioning, see [Assembly Versioning](../../standard/assembly/versioning.md).</span></span> <span data-ttu-id="c4f8d-202">Per altre informazioni sui nomi sicuri, vedere [Assembly con nomi sicuri](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-202">For more information about strong names, see [Strong-Named Assemblies](../../standard/assembly/strong-named.md).</span></span>

<span data-ttu-id="c4f8d-203">Quando si sviluppa un'applicazione, è improbabile che si possa accedere alla coppia di chiavi pubblica/privata finale.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-203">When you are developing an application, it is unlikely that you will have access to the final public/private key pair.</span></span> <span data-ttu-id="c4f8d-204">Per installare un assembly satellite nella Global Assembly Cache e assicurarsi che funzioni come previsto, è possibile usare la cosiddetta tecnica del ritardo della firma.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-204">In order to install a satellite assembly in the global assembly cache and ensure that it works as expected, you can use a technique called delayed signing.</span></span> <span data-ttu-id="c4f8d-205">Quando si ritarda la firma di un assembly, al momento della compilazione viene riservato spazio nel file per la firma con nome sicuro.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-205">When you delay sign an assembly, at build time you reserve space in the file for the strong name signature.</span></span> <span data-ttu-id="c4f8d-206">La firma effettiva viene posticipata al momento in cui la coppia di chiavi pubblica/privata finale è disponibile.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-206">The actual signing is delayed until later, when the final public/private key pair is available.</span></span> <span data-ttu-id="c4f8d-207">Per altre informazioni sul ritardo della firma, vedere [Ritardo della firma di un assembly](../../standard/assembly/delay-sign.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-207">For more information about delayed signing, see [Delay Signing an Assembly](../../standard/assembly/delay-sign.md).</span></span>

### <a name="obtaining-the-public-key"></a><span data-ttu-id="c4f8d-208">Ottenere la chiave pubblica</span><span class="sxs-lookup"><span data-stu-id="c4f8d-208">Obtaining the Public Key</span></span>

<span data-ttu-id="c4f8d-209">Per ritardare la firma di un assembly, è necessario avere accesso alla chiave pubblica.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-209">To delay sign an assembly, you must have access to the public key.</span></span> <span data-ttu-id="c4f8d-210">È possibile ottenere la chiave pubblica reale dall'organizzazione della società che eventualmente effettuerà la firma oppure creare una chiave pubblica con lo [strumento Nome sicuro (Sn.exe)](../tools/sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-210">You can either obtain the real public key from the organization in your company that will do the eventual signing, or create a public key by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md).</span></span>

<span data-ttu-id="c4f8d-211">Il comando *sn. exe* seguente crea una coppia di chiavi pubblica/privata di test.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-211">The following *Sn.exe* command creates a test public/private key pair.</span></span> <span data-ttu-id="c4f8d-212">L'opzione **-k** specifica che *sn. exe* deve creare una nuova coppia di chiavi e salvarla in un file denominato *TestKeyPair. snk*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-212">The **–k** option specifies that *Sn.exe* should create a new key pair and save it in a file named *TestKeyPair.snk*.</span></span>
  
```console
sn –k TestKeyPair.snk
```

<span data-ttu-id="c4f8d-213">È possibile estrarre la chiave pubblica dal file che contiene la coppia di chiavi di test.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-213">You can extract the public key from the file that contains the test key pair.</span></span> <span data-ttu-id="c4f8d-214">Il comando seguente estrae la chiave pubblica da *TestKeyPair. snk* e la Salva in *publicKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-214">The following command extracts the public key from *TestKeyPair.snk* and saves it in *PublicKey.snk*:</span></span>

```console
sn –p TestKeyPair.snk PublicKey.snk
```

### <a name="delay-signing-an-assembly"></a><span data-ttu-id="c4f8d-215">Ritardo della firma di un assembly</span><span class="sxs-lookup"><span data-stu-id="c4f8d-215">Delay Signing an Assembly</span></span>

<span data-ttu-id="c4f8d-216">Dopo aver ottenuto o creato la chiave pubblica, si usa [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) per compilare l'assembly e specificare il ritardo della firma.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-216">After you obtain or create the public key, you use the [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile the assembly and specify delayed signing.</span></span>

<span data-ttu-id="c4f8d-217">Il comando *al. exe* seguente crea un assembly satellite con nome sicuro per l'applicazione StringLibrary dal file *Strings. ja. resources* :</span><span class="sxs-lookup"><span data-stu-id="c4f8d-217">The following *Al.exe* command creates a strong-named satellite assembly for the application StringLibrary from the *strings.ja.resources* file:</span></span>

```console
al -target:lib -embed:strings.ja.resources -culture:ja -out:StringLibrary.resources.dll -delay+ -keyfile:PublicKey.snk
```

<span data-ttu-id="c4f8d-218">L'opzione **-delay+** specifica che Assembly Linker deve ritardare la firma dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-218">The **-delay+** option specifies that the Assembly Linker should delay sign the assembly.</span></span> <span data-ttu-id="c4f8d-219">L'opzione **-key file** specifica il nome del file di chiave che contiene la chiave pubblica da usare per ritardare la firma dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-219">The **-keyfile** option specifies the name of the key file that contains the public key to use to delay sign the assembly.</span></span>

### <a name="re-signing-an-assembly"></a><span data-ttu-id="c4f8d-220">Nuova firma di un assembly</span><span class="sxs-lookup"><span data-stu-id="c4f8d-220">Re-signing an Assembly</span></span>

<span data-ttu-id="c4f8d-221">Prima di distribuire l'applicazione, è necessario firmare nuovamente l'assembly satellite con ritardo della firma con la coppia di chiavi reale.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-221">Before you deploy your application, you must re-sign the delay signed satellite assembly with the real key pair.</span></span> <span data-ttu-id="c4f8d-222">A tale scopo, è possibile utilizzare *sn. exe*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-222">You can do this by using *Sn.exe*.</span></span>

<span data-ttu-id="c4f8d-223">Il comando *sn. exe* seguente firma *StringLibrary. resources. dll* con la coppia di chiavi archiviata nel file *RealKeyPair. snk*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-223">The following *Sn.exe* command signs *StringLibrary.resources.dll* with the key pair stored in the file *RealKeyPair.snk*.</span></span> <span data-ttu-id="c4f8d-224">L'opzione **-R** specifica che un assembly firmato in precedenza deve essere firmato nuovamente o che un assembly con ritardo della firma deve essere firmato.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-224">The **–R** option specifies that a previously signed or delay signed assembly is to be re-signed.</span></span>

```console
sn –R StringLibrary.resources.dll RealKeyPair.snk
```

### <a name="installing-a-satellite-assembly-in-the-global-assembly-cache"></a><span data-ttu-id="c4f8d-225">Installazione di un assembly satellite nella Global Assembly Cache</span><span class="sxs-lookup"><span data-stu-id="c4f8d-225">Installing a Satellite Assembly in the Global Assembly Cache</span></span>

<span data-ttu-id="c4f8d-226">Durante la ricerca di risorse nell'ambito del processo di fallback delle risorse, il runtime prima cerca nella [Global Assembly Cache](../app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-226">When the runtime searches for resources in the resource fallback process, it looks in the [global assembly cache](../app-domains/gac.md) first.</span></span> <span data-ttu-id="c4f8d-227">Per ulteriori informazioni, vedere la sezione "processo di fallback delle risorse" nell'argomento Creazione di [pacchetti e distribuzione delle risorse](packaging-and-deploying-resources-in-desktop-apps.md) . Non appena un assembly satellite viene firmato con un nome sicuro, può essere installato nella Global Assembly Cache usando il [strumento Global Assembly Cache (Gacutil. exe)](../tools/gacutil-exe-gac-tool.md).</span><span class="sxs-lookup"><span data-stu-id="c4f8d-227">(For more information, see the "Resource Fallback Process" section of the [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md) topic.) As soon as a satellite assembly is signed with a strong name, it can be installed in the global assembly cache by using the [Global Assembly Cache Tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md).</span></span>

<span data-ttu-id="c4f8d-228">Il seguente comando *gacutil. exe* installa *StringLibrary. resources. dll*\* nel Global assembly cache:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-228">The following *Gacutil.exe* command installs *StringLibrary.resources.dll*\* in the global assembly cache:</span></span>

```console
gacutil -i:StringLibrary.resources.dll
```

<span data-ttu-id="c4f8d-229">L'opzione **/i** specifica che *gacutil. exe* deve installare l'assembly specificato nel Global assembly cache.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-229">The **/i** option specifies that *Gacutil.exe* should install the specified assembly into the global assembly cache.</span></span> <span data-ttu-id="c4f8d-230">Dopo l'installazione dell'assembly satellite nella cache, le risorse in esso contenute diventano disponibili per tutte le applicazioni progettate per l'uso dell'assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-230">After the satellite assembly is installed in the cache, the resources it contains become available to all applications that are designed to use the satellite assembly.</span></span>

### <a name="resources-in-the-global-assembly-cache-an-example"></a><span data-ttu-id="c4f8d-231">Risorse nella Global Assembly Cache: un esempio</span><span class="sxs-lookup"><span data-stu-id="c4f8d-231">Resources in the Global Assembly Cache: An Example</span></span>

<span data-ttu-id="c4f8d-232">L'esempio seguente usa un metodo di una libreria di classi .NET Framework per estrarre e restituire un messaggio di saluto localizzato contenuto in un file di risorse.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-232">The following example uses a method in a .NET Framework class library to extract and return a localized greeting from a resource file.</span></span> <span data-ttu-id="c4f8d-233">La libreria e le relative risorse sono registrate nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-233">The library and its resources are registered in the global assembly cache.</span></span> <span data-ttu-id="c4f8d-234">L'esempio include risorse per le impostazioni cultura inglesi (Stati Uniti), francesi (Francia), russe (Russia) e inglesi.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-234">The example includes resources for the English (United States), French (France), Russian (Russia), and English cultures.</span></span> <span data-ttu-id="c4f8d-235">Le impostazioni cultura predefinite corrispondono a quelle inglesi e le risorse corrispondenti sono archiviate nell'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-235">English is the default culture; its resources are stored in the main assembly.</span></span> <span data-ttu-id="c4f8d-236">All'inizio dell'esempio viene impostato il ritardo della firma della libreria e dei relativi assembly con una chiave pubblica. Questi vengono quindi firmati di nuovo con una coppia di chiavi pubblica/privata.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-236">The example initially delay signs the library and its satellite assemblies with a public key, then re-signs them with a public/private key pair.</span></span> <span data-ttu-id="c4f8d-237">Per creare l'esempio, eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-237">To create the example, do the following:</span></span>

1. <span data-ttu-id="c4f8d-238">Se non si usa Visual Studio, usare il comando dello [strumento nome sicuro (sn. exe)](../tools/sn-exe-strong-name-tool.md) seguente per creare una coppia di chiavi pubblica/privata denominata *ResKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-238">If you are not using Visual Studio, use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public/private key pair named *ResKey.snk*:</span></span>

    ```console
    sn –k ResKey.snk
    ```

    <span data-ttu-id="c4f8d-239">Se si usa Visual Studio, generare il file di chiave tramite la scheda **Firma** della finestra di dialogo **Proprietà** del progetto.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-239">If you are using Visual Studio, use the **Signing** tab of the project **Properties** dialog box to generate the key file.</span></span>

2. <span data-ttu-id="c4f8d-240">Usare il comando seguente [strumento nome sicuro (sn. exe)](../tools/sn-exe-strong-name-tool.md) per creare un file di chiave pubblica denominato *publicKey. snk*:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-240">Use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public key file named *PublicKey.snk*:</span></span>

    ```console
    sn –p ResKey.snk PublicKey.snk
    ```

3. <span data-ttu-id="c4f8d-241">Creare un file di risorse denominato *Strings. resx* per contenere la risorsa per le impostazioni cultura predefinite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-241">Create a resource file named *Strings.resx* to contain the resource for the default culture.</span></span> <span data-ttu-id="c4f8d-242">Archiviare in questo file un'unica stringa denominata `Greeting` il cui valore sia "How do you do?"</span><span class="sxs-lookup"><span data-stu-id="c4f8d-242">Store a single string named `Greeting` whose value is "How do you do?"</span></span> <span data-ttu-id="c4f8d-243">.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-243">in that file.</span></span>

4. <span data-ttu-id="c4f8d-244">Per impostare "en" come impostazioni cultura predefinite dell'applicazione, aggiungere l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> seguente al file AssemblyInfo dell'applicazione o al file di codice sorgente principale che verrà compilato nell'assembly principale dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-244">To indicate that "en" is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly:</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#2)]
    [!code-vb[Conceptual.Resources.Satellites#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#2)]

5. <span data-ttu-id="c4f8d-245">Aggiungere all'applicazione il supporto per le impostazioni cultura aggiuntive (en-US, fr-FR e ru-RU) come segue:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-245">Add support for additional cultures (the en-US, fr-FR, and ru-RU cultures) to the application as follows:</span></span>

    - <span data-ttu-id="c4f8d-246">Per supportare le impostazioni cultura "en-US" o inglese (Stati Uniti), creare un file di risorse denominato *Strings. en-US. resx* o *Strings. en-US. txt*e archiviarvi una singola `Greeting` stringa denominata il cui valore sia "Hello!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-246">To support the "en-US" or English (United States) culture, create a resource file named *Strings.en-US.resx* or *Strings.en-US.txt*, and store in it a single string named `Greeting` whose value is "Hello!".</span></span>

    - <span data-ttu-id="c4f8d-247">Per supportare le impostazioni cultura "fr-FR" o francese (Francia), creare un file di risorse denominato *Strings.fr-fr. resx* o *Strings.fr-fr. txt* e archiviarvi un'unica stringa `Greeting` denominata il cui valore sia "Bon jour!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-247">To support the "fr-FR" or French (France) culture, create a resource file named *Strings.fr-FR.resx* or *Strings.fr-FR.txt* and store in it a single string named `Greeting` whose value is "Bon jour!".</span></span>

    - <span data-ttu-id="c4f8d-248">Per supportare le impostazioni cultura "ru-ur" o russa (Russia), creare un file di risorse denominato *Strings.ru-ur. resx* o *Strings.ru-ru. txt* e archiviarvi una singola stringa `Greeting` denominata il cui valore sia "Привет!".</span><span class="sxs-lookup"><span data-stu-id="c4f8d-248">To support the "ru-RU" or Russian (Russia) culture, create a resource file named *Strings.ru-RU.resx* or *Strings.ru-RU.txt* and store in it a single string named `Greeting` whose value is "Привет!".</span></span>

6. <span data-ttu-id="c4f8d-249">Usare [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) per compilare ogni file di risorse testo o XML in un file con estensione resources binario.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-249">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="c4f8d-250">L'output è un set di file con lo stesso nome file radice dei file con estensione *resx* o *txt* , ma con estensione *Resources* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-250">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="c4f8d-251">Se si crea l'esempio con Visual Studio, il processo di compilazione viene gestito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-251">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="c4f8d-252">Se non si usa Visual Studio, eseguire il comando seguente per compilare i file con estensione *resx* in file con *estensione resources* :</span><span class="sxs-lookup"><span data-stu-id="c4f8d-252">If you aren't using Visual Studio, run the following command to compile the *.resx* files into *.resources* files:</span></span>

    ```console
    resgen filename
    ```

    <span data-ttu-id="c4f8d-253">Dove *filename* è il percorso facoltativo, il nome file e l'estensione del file con estensione *resx* o di testo.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-253">Where *filename* is the optional path, file name, and extension of the *.resx* or text file.</span></span>

7. <span data-ttu-id="c4f8d-254">Compilare il codice sorgente seguente per *StringLibrary. vb* o *StringLibrary.cs* insieme alle risorse per le impostazioni cultura predefinite in un assembly di libreria con firma ritardata denominato *StringLibrary. dll*:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-254">Compile the following source code for *StringLibrary.vb* or *StringLibrary.cs* along with the resources for the default culture into a delay signed library assembly named *StringLibrary.dll*:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="c4f8d-255">Se si usa la riga di comando anziché Visual Studio per creare l'esempio, è necessario modificare la chiamata al costruttore della <xref:System.Resources.ResourceManager> classe in `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-255">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#1)]
    [!code-vb[Conceptual.Resources.Satellites#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#1)]

    <span data-ttu-id="c4f8d-256">La riga di comando per il compilatore C# è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-256">The command for the C# compiler is:</span></span>

    ```console
    csc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.cs
    ```

    <span data-ttu-id="c4f8d-257">Per il compilatore Visual Basic il comando corrispondente è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-257">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.vb
    ```

8. <span data-ttu-id="c4f8d-258">Creare una sottodirectory nella directory principale dell'applicazione per ognuna delle impostazioni cultura localizzate supportate dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-258">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="c4f8d-259">È necessario creare una sottodirectory *en-US*, *fr-fr*e *ur-ur* .</span><span class="sxs-lookup"><span data-stu-id="c4f8d-259">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="c4f8d-260">Visual Studio crea queste sottodirectory automaticamente nell'ambito del processo di compilazione.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-260">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span> <span data-ttu-id="c4f8d-261">Poiché tutti gli assembly satellite hanno lo stesso nome file, le sottodirectory vengono usate per archiviare gli assembly satellite specifici delle impostazioni cultura fino a quando non sono firmati con una coppia di chiavi pubblica/privata.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-261">Because all satellite assemblies have the same file name, the subdirectories are used to store individual culture-specific satellite assemblies until they are signed with a public/private key pair.</span></span>

9. <span data-ttu-id="c4f8d-262">Incorporare i singoli file con *estensione resources* specifici delle impostazioni cultura in assembly satellite con ritardo della firma e salvarli nella directory appropriata.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-262">Embed the individual culture-specific *.resources* files into delay signed satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="c4f8d-263">Il comando per eseguire questa operazione per ogni file *. resources* è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-263">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Strings.culture.resources -culture:culture -out:culture\StringLibrary.resources.dll -delay+ -keyfile:publickey.snk
    ```

    <span data-ttu-id="c4f8d-264">dove *culture* è il nome delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-264">where *culture* is the name of a culture.</span></span> <span data-ttu-id="c4f8d-265">In questo esempio i nomi delle impostazioni cultura sono en-US, fr-FR e ru-RU.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-265">In this example, the culture names are en-US, fr-FR, and ru-RU.</span></span>

10. <span data-ttu-id="c4f8d-266">Firmare nuovamente *StringLibrary. dll* usando lo [strumento nome sicuro (sn. exe)](../tools/sn-exe-strong-name-tool.md) come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-266">Re-sign *StringLibrary.dll* by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows:</span></span>

    ```console
    sn –R StringLibrary.dll RealKeyPair.snk
    ```

11. <span data-ttu-id="c4f8d-267">Firmare nuovamente i singoli assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-267">Re-sign the individual satellite assemblies.</span></span> <span data-ttu-id="c4f8d-268">A tale scopo, usare lo [strumento Nome sicuro (Sn.exe)](../tools/sn-exe-strong-name-tool.md) come indicato di seguito per ogni assembly satellite:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-268">To do this, use the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows for each satellite assembly:</span></span>

    ```console
    sn –R StringLibrary.resources.dll RealKeyPair.snk
    ```

12. <span data-ttu-id="c4f8d-269">Registrare *StringLibrary. dll* e ognuno dei relativi assembly satellite nel Global assembly cache usando il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-269">Register *StringLibrary.dll* and each of its satellite assemblies in the global assembly cache by using the following command:</span></span>

    ```console
    gacutil -i filename
    ```

    <span data-ttu-id="c4f8d-270">dove *filename* rappresenta il nome del file da registrare.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-270">where *filename* is the name of the file to register.</span></span>

13. <span data-ttu-id="c4f8d-271">Se si usa Visual Studio, creare un nuovo progetto di **applicazione console** denominato `Example`, aggiungere un riferimento a *StringLibrary. dll* e il codice sorgente seguente e compilare.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-271">If you are using Visual Studio, create a new **Console Application** project named `Example`, add a reference to *StringLibrary.dll* and the following source code to it, and compile.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#3](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/example.cs#3)]
    [!code-vb[Conceptual.Resources.Satellites#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/example.vb#3)]

    <span data-ttu-id="c4f8d-272">Per eseguire la compilazione dalla riga di comando, per il compilatore C# usare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-272">To compile from the command line, use the following command for the C# compiler:</span></span>

    ```console
    csc Example.cs -r:StringLibrary.dll
    ```

    <span data-ttu-id="c4f8d-273">La riga di comando per il compilatore Visual Basic è:</span><span class="sxs-lookup"><span data-stu-id="c4f8d-273">The command line for the Visual Basic compiler is:</span></span>

    ```console
    vbc Example.vb -r:StringLibrary.dll
    ```

14. <span data-ttu-id="c4f8d-274">Eseguire *example. exe*.</span><span class="sxs-lookup"><span data-stu-id="c4f8d-274">Run *Example.exe*.</span></span>

## <a name="see-also"></a><span data-ttu-id="c4f8d-275">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c4f8d-275">See also</span></span>

- [<span data-ttu-id="c4f8d-276">Packaging and Deploying Resources</span><span class="sxs-lookup"><span data-stu-id="c4f8d-276">Packaging and Deploying Resources</span></span>](packaging-and-deploying-resources-in-desktop-apps.md)
- [<span data-ttu-id="c4f8d-277">Ritardo della firma di un assembly</span><span class="sxs-lookup"><span data-stu-id="c4f8d-277">Delay Signing an Assembly</span></span>](../../standard/assembly/delay-sign.md)
- [<span data-ttu-id="c4f8d-278">Al. exe (assembly linker)</span><span class="sxs-lookup"><span data-stu-id="c4f8d-278">Al.exe (Assembly Linker)</span></span>](../tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="c4f8d-279">Sn. exe (strumento nome sicuro)</span><span class="sxs-lookup"><span data-stu-id="c4f8d-279">Sn.exe (Strong Name Tool)</span></span>](../tools/sn-exe-strong-name-tool.md)
- [<span data-ttu-id="c4f8d-280">Gacutil. exe (strumento Global Assembly Cache)</span><span class="sxs-lookup"><span data-stu-id="c4f8d-280">Gacutil.exe (Global Assembly Cache Tool)</span></span>](../tools/gacutil-exe-gac-tool.md)
- [<span data-ttu-id="c4f8d-281">Risorse nelle applicazioni desktop</span><span class="sxs-lookup"><span data-stu-id="c4f8d-281">Resources in Desktop Apps</span></span>](index.md)
