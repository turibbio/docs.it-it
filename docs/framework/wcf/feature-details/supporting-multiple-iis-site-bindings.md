---
title: Supporto delle associazioni a più siti IIS
description: Informazioni su come fornire più indirizzi di base che utilizzano lo stesso protocollo nello stesso sito quando si ospita un servizio WCF in IIS.
ms.date: 03/30/2017
ms.assetid: 40440495-254d-45c8-a8c6-b29f364892ba
ms.openlocfilehash: 290dca03dbed7d0a7442a3903b735eb189929ed1
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/23/2020
ms.locfileid: "85244868"
---
# <a name="supporting-multiple-iis-site-bindings"></a><span data-ttu-id="3870a-103">Supporto delle associazioni a più siti IIS</span><span class="sxs-lookup"><span data-stu-id="3870a-103">Supporting Multiple IIS Site Bindings</span></span>
<span data-ttu-id="3870a-104">Quando si ospita un servizio Windows Communication Foundation (WCF) in Internet Information Services (IIS) 7,0, potrebbe essere necessario fornire più indirizzi di base che utilizzano lo stesso protocollo sullo stesso sito.</span><span class="sxs-lookup"><span data-stu-id="3870a-104">When hosting a Windows Communication Foundation (WCF) service under Internet Information Services (IIS) 7.0, you may want to provide multiple base addresses that use the same protocol on the same site.</span></span> <span data-ttu-id="3870a-105">In questo modo lo stesso servizio può rispondere a diversi URI.</span><span class="sxs-lookup"><span data-stu-id="3870a-105">This allows the same service to respond to a number of different URIs.</span></span> <span data-ttu-id="3870a-106">Questa operazione è utile quando si desidera ospitare un servizio in ascolto su `http://www.contoso.com` e `http://contoso.com` .</span><span class="sxs-lookup"><span data-stu-id="3870a-106">This is useful when you want to host a service that listens on `http://www.contoso.com` and `http://contoso.com`.</span></span> <span data-ttu-id="3870a-107">È inoltre utile per creare un servizio che dispone di un indirizzo di base per gli utenti interni e un indirizzo di base separato per gli utenti esterni.</span><span class="sxs-lookup"><span data-stu-id="3870a-107">It is also useful to create a service that has a base address for internal users and a separate base address for external users.</span></span> <span data-ttu-id="3870a-108">Ad esempio: `http://internal.contoso.com` e `http://www.contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="3870a-108">For example: `http://internal.contoso.com` and `http://www.contoso.com`.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="3870a-109">Questa funzionalità è disponibile solo utilizzando il protocollo HTTP.</span><span class="sxs-lookup"><span data-stu-id="3870a-109">This functionality is only available using the HTTP protocol.</span></span>  
  
## <a name="multiple-base-addresses"></a><span data-ttu-id="3870a-110">Più indirizzi di base</span><span class="sxs-lookup"><span data-stu-id="3870a-110">Multiple Base Addresses</span></span>  
 <span data-ttu-id="3870a-111">Questa funzionalità è disponibile solo per i servizi WCF ospitati in IIS.</span><span class="sxs-lookup"><span data-stu-id="3870a-111">This feature is only available to WCF services that are hosted under IIS.</span></span> <span data-ttu-id="3870a-112">Per impostazione predefinita questa funzionalità non è abilitata.</span><span class="sxs-lookup"><span data-stu-id="3870a-112">This feature is not enabled by default.</span></span> <span data-ttu-id="3870a-113">Per abilitarla, è necessario aggiungere l' `multipleSiteBindingsEnabled` attributo all' `serviceHostingEnvironment` elemento <> nel file Web.config e impostarlo su `true` , come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="3870a-113">To enable it you must add the `multipleSiteBindingsEnabled` attribute to the <`serviceHostingEnvironment`> element in your Web.config file and set it to `true`, as shown in the following example.</span></span>  
  
```xml  
<serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>  
```  
  
 <span data-ttu-id="3870a-114">Quando si ospita un servizio WCF in IIS, IIS crea un indirizzo di base per l'utente in base all'URI della directory virtuale che contiene l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3870a-114">When hosting a WCF service under IIS, IIS creates one base address for you based on the URI to the virtual directory that contains the application.</span></span> <span data-ttu-id="3870a-115">È possibile aggiungere ulteriori indirizzi di base che utilizzano lo stesso protocollo mediante Gestione Internet Information Services per aggiungere una o più associazioni al sito Web.</span><span class="sxs-lookup"><span data-stu-id="3870a-115">You can add additional base addresses that use the same protocol by using Internet Information Services Manager to add one or more bindings to your Web site.</span></span> <span data-ttu-id="3870a-116">Per ogni associazione specificare un protocollo (HTTP o HTTPS), un indirizzo IP, una porta e un nome host.</span><span class="sxs-lookup"><span data-stu-id="3870a-116">For each binding specify a protocol (HTTP or HTTPS), an IP address, a port, and a host name.</span></span> <span data-ttu-id="3870a-117">Per ulteriori informazioni sull'utilizzo di Internet Information Services Manager, vedere [Gestione IIS (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753842(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="3870a-117">For more information about using Internet Information Services Manager, see [IIS Manager (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753842(v=ws.10)).</span></span> <span data-ttu-id="3870a-118">Per ulteriori informazioni sull'aggiunta di binding a un sito, vedere [la pagina relativa alla creazione di un sito Web (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772350(v=ws.10)) .</span><span class="sxs-lookup"><span data-stu-id="3870a-118">For more information about adding bindings to a site, see [Create a Web Site (IIS 7)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772350(v=ws.10))</span></span>  
  
 <span data-ttu-id="3870a-119">La specifica di più indirizzi di base per lo stesso sito influiscono sul contenuto della pagina della Guida WCF, sull'importazione dello schema e sulle informazioni WSDL/MEX generate dal servizio.</span><span class="sxs-lookup"><span data-stu-id="3870a-119">Specifying multiple base addresses for the same site affects the content of the WCF Help page, importing schema, and the WSDL/MEX information generated by the service.</span></span> <span data-ttu-id="3870a-120">Nella pagina della Guida di WCF viene visualizzata la riga di comando da utilizzare per generare un client WCF in grado di comunicare con il servizio.</span><span class="sxs-lookup"><span data-stu-id="3870a-120">The WCF Help page displays the command line to use to generate a WCF client that can communicate with the service.</span></span> <span data-ttu-id="3870a-121">La riga di comando contiene solo il primo indirizzo specificato nell'associazione IIS per il sito Web.</span><span class="sxs-lookup"><span data-stu-id="3870a-121">This command line contains only the first address specified in the IIS binding for the Web site.</span></span> <span data-ttu-id="3870a-122">In modo analogo allo schema di importazione, viene utilizzato solo il primo indirizzo di base specificato nell'associazione IIS.</span><span class="sxs-lookup"><span data-stu-id="3870a-122">Similarly when importing schema, only the first base address specified in the IIS binding is used.</span></span> <span data-ttu-id="3870a-123">I dati WSDL e MEX contengono tutti gli indirizzi di base specificati nelle associazioni IIS.</span><span class="sxs-lookup"><span data-stu-id="3870a-123">WSDL and MEX data contain all the base addresses specified in the IIS bindings.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="3870a-124">Ciò significa che se un servizio dispone di due indirizzi di base, uno per utenti interni e uno per utenti esterni, entrambi vengono specificati nelle informazioni WSDL/MEX generate dal servizio.</span><span class="sxs-lookup"><span data-stu-id="3870a-124">This means that if a service has two base addresses, one for internal users and one for external users, both are specified in the WSDL/MEX information generated by the service.</span></span>
