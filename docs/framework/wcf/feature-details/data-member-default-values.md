---
title: Valori predefiniti dei membri dati
description: Informazioni su come omettere un membro dati dai dati serializzati quando dispone di un .NET Framework valore predefinito. WCF può migliorare le prestazioni senza serializzare un valore predefinito.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data members [WCF], default values
- data members [WCF]
ms.assetid: 53a3b505-4b27-444b-b079-0eb84a97cfd8
ms.openlocfilehash: 97946a6b7da14efdcb5229b4cc5d0799eb8d7723
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247377"
---
# <a name="data-member-default-values"></a><span data-ttu-id="06fc9-104">Valori predefiniti dei membri dati</span><span class="sxs-lookup"><span data-stu-id="06fc9-104">Data Member Default Values</span></span>
<span data-ttu-id="06fc9-105">Nella .NET Framework i tipi hanno un concetto di *valori predefiniti*.</span><span class="sxs-lookup"><span data-stu-id="06fc9-105">In the .NET Framework, types have a concept of *default values*.</span></span> <span data-ttu-id="06fc9-106">Ad esempio, per i tipi di riferimento il valore predefinito è `null` mentre per un tipo Integer è zero.</span><span class="sxs-lookup"><span data-stu-id="06fc9-106">For example, for any reference type the default value is `null`, and for an integer type it is zero.</span></span> <span data-ttu-id="06fc9-107">Talvolta, quando un membro dati è impostato sul relativo valore predefinito, conviene ometterlo dai dati serializzati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-107">It is occasionally desirable to omit a data member from serialized data when it is set to its default value.</span></span> <span data-ttu-id="06fc9-108">Infatti, poiché il membro ha un valore predefinito, non occorre serializzare un valore effettivo. Ciò risulta vantaggioso in termini di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="06fc9-108">Because the member has a default value, an actual value need not be serialized; this has a performance advantage.</span></span>  
  
 <span data-ttu-id="06fc9-109">Per omettere un membro dai dati serializzati, impostare la proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> dell'attributo <xref:System.Runtime.Serialization.DataMemberAttribute> su `false`. L'impostazione predefinita è `true`.</span><span class="sxs-lookup"><span data-stu-id="06fc9-109">To omit a member from serialized data, set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to `false` (the default is `true`).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="06fc9-110">È consigliabile impostare la proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> su `false` se esiste un'esigenza specifica da soddisfare, ad esempio fornire interoperabilità o ridurre le dimensioni dei dati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-110">You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction.</span></span>  
  
## <a name="example"></a><span data-ttu-id="06fc9-111">Esempio</span><span class="sxs-lookup"><span data-stu-id="06fc9-111">Example</span></span>  
 <span data-ttu-id="06fc9-112">Il codice seguente illustra vari membri in cui la proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> è impostata su `false`.</span><span class="sxs-lookup"><span data-stu-id="06fc9-112">The following code has several members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> set to `false`.</span></span>  
  
 [!code-csharp[DataMemberAttribute#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/datamemberattribute/cs/overview.cs#4)]
 [!code-vb[DataMemberAttribute#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/datamemberattribute/vb/overview.vb#4)]  
  
 <span data-ttu-id="06fc9-113">Se si serializza un'istanza di questa classe, si verifica quanto segue: `employeeName` e `employeeID` vengono serializzati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-113">If an instance of this class is serialized, the result is as follows: `employeeName` and `employeeID` is serialized.</span></span> <span data-ttu-id="06fc9-114">Il valore null di `employeeName` e il valore zero di `employeeID` appartengono esplicitamente ai dati serializzati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-114">The null value for `employeeName` and the zero value for `employeeID` is explicitly part of the serialized data.</span></span> <span data-ttu-id="06fc9-115">Tuttavia, i membri `position`, `salary` e `bonus` non verranno serializzati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-115">However, the `position`, `salary`, and `bonus` members are not serialized.</span></span> <span data-ttu-id="06fc9-116">Infine, `targetSalary` viene serializzato normalmente, anche se la relativa proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> è impostata su `false`. Infatti, 57800 non corrisponde al valore predefinito .NET per un numero intero, ovvero zero.</span><span class="sxs-lookup"><span data-stu-id="06fc9-116">Finally, `targetSalary` is serialized as usual, even though the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is set to `false`, because 57800 does not match the .NET default value for an integer, which is zero.</span></span>  
  
### <a name="xml-representation"></a><span data-ttu-id="06fc9-117">Rappresentazione XML</span><span class="sxs-lookup"><span data-stu-id="06fc9-117">XML Representation</span></span>  
 <span data-ttu-id="06fc9-118">Se l'esempio precedente viene serializzato in XML, la rappresentazione risulta simile al codice seguente.</span><span class="sxs-lookup"><span data-stu-id="06fc9-118">If the previous example is serialized to XML, the representation is similar to the following.</span></span>  
  
```xml  
<Employee>  
   <employeeName xsi:nil="true" />  
   <employeeID>0</employeeID>  
<targetSalary>57800</targetSalary>  
</Employee>  
```  
  
 <span data-ttu-id="06fc9-119">L'attributo `xsi:nil` è un attributo speciale dello spazio dei nomi delle istanze dell'XML Schema del W3C (World Wide Web Consortium) che fornisce un modo interoperativo per rappresentare in modo esplicito un valore nullo.</span><span class="sxs-lookup"><span data-stu-id="06fc9-119">The `xsi:nil` attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value.</span></span> <span data-ttu-id="06fc9-120">Si noti che il codice XML non contiene alcuna informazione sui membri dati "position", "salary" e "bonus".</span><span class="sxs-lookup"><span data-stu-id="06fc9-120">Note that there is no information at all in the XML about position, salary, and bonus data members.</span></span> <span data-ttu-id="06fc9-121">Il destinatario può interpretare questa assenza di dati come possibilità di impostare tali membri rispettivamente come `null`, zero e `null`.</span><span class="sxs-lookup"><span data-stu-id="06fc9-121">The receiving end can interpret these as `null`, zero, and `null`, respectively.</span></span> <span data-ttu-id="06fc9-122">Non esiste alcuna garanzia che un deserializzatore di terze parti esegua correttamente l'impostazione dei valori. È per questo motivo che è consigliabile evitare di utilizzare questo modello.</span><span class="sxs-lookup"><span data-stu-id="06fc9-122">There is no guarantee that a third-party deserializer can make the correct interpretation, which is why this pattern is not recommended.</span></span> <span data-ttu-id="06fc9-123">La classe <xref:System.Runtime.Serialization.DataContractSerializer> imposta sempre correttamente i valori dei membri mancanti.</span><span class="sxs-lookup"><span data-stu-id="06fc9-123">The <xref:System.Runtime.Serialization.DataContractSerializer> class always selects the correct interpretation for missing values.</span></span>  
  
### <a name="interaction-with-isrequired"></a><span data-ttu-id="06fc9-124">Interazione con IsRequired</span><span class="sxs-lookup"><span data-stu-id="06fc9-124">Interaction with IsRequired</span></span>  
 <span data-ttu-id="06fc9-125">Come descritto in [controllo delle versioni dei contratti dati](data-contract-versioning.md), l' <xref:System.Runtime.Serialization.DataMemberAttribute> attributo ha una <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> Proprietà (il valore predefinito è `false` ).</span><span class="sxs-lookup"><span data-stu-id="06fc9-125">As discussed in [Data Contract Versioning](data-contract-versioning.md), the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute has an <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property (the default is `false`).</span></span> <span data-ttu-id="06fc9-126">indica se un determinato membro dati deve essere presente nei dati serializzati quando viene deserializzato.</span><span class="sxs-lookup"><span data-stu-id="06fc9-126">The property indicates whether a given data member must be present in the serialized data when it is being deserialized.</span></span> <span data-ttu-id="06fc9-127">Se la proprietà `IsRequired` viene impostata su `true` (a indicare che un valore deve essere presente) e la proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> viene impostata su `false` (a indicare che il valore non deve essere presente se è impostato sul valore predefinito), i valori predefiniti del membro dati non possono essere serializzati perché i risultati sarebbero contraddittori.</span><span class="sxs-lookup"><span data-stu-id="06fc9-127">If `IsRequired` is set to `true`, (which indicates that a value must be present) and <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false` (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory.</span></span> <span data-ttu-id="06fc9-128">Se il membro dati è impostato sul valore predefinito (in genere `null` o zero) e si tenta di eseguire una serializzazione, viene generata un'eccezione <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="06fc9-128">If such a data member is set to its default value (usually `null` or zero) and a serialization is attempted, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
### <a name="schema-representation"></a><span data-ttu-id="06fc9-129">Rappresentazione dello schema</span><span class="sxs-lookup"><span data-stu-id="06fc9-129">Schema Representation</span></span>  
 <span data-ttu-id="06fc9-130">I dettagli della rappresentazione dello schema XSD (XML Schema Definition Language) dei membri dati quando la `EmitDefaultValue` proprietà è impostata su `false` sono descritti in [riferimento allo schema del contratto dati](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="06fc9-130">The details of the XML Schema definition language (XSD) schema representation of data members when the `EmitDefaultValue` property is set to `false` are discussed in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="06fc9-131">Di seguito viene invece fornita una descrizione di carattere più generale:</span><span class="sxs-lookup"><span data-stu-id="06fc9-131">However, the following is a brief overview:</span></span>  
  
- <span data-ttu-id="06fc9-132">Quando <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> è impostato su `false` , viene rappresentato nello schema come un'annotazione specifica per Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="06fc9-132">When the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false`, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="06fc9-133">Non esiste alcuna modalità interoperativa per rappresentare queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="06fc9-133">There is no interoperable way to represent this information.</span></span> <span data-ttu-id="06fc9-134">In particolare, l'attributo "default" dello schema non viene utilizzato per indicare un valore predefinito, l'attributo `minOccurs` dipende esclusivamente dall'impostazione <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> e l'attributo `nillable` dipende soltanto dal tipo del membro dati.</span><span class="sxs-lookup"><span data-stu-id="06fc9-134">In particular, the "default" attribute in the schema is not used for this purpose, the `minOccurs` attribute is affected only by the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> setting, and the `nillable` attribute is affected only by the type of the data member.</span></span>  
  
- <span data-ttu-id="06fc9-135">Il valore predefinito effettivo da utilizzare non è presente nello schema.</span><span class="sxs-lookup"><span data-stu-id="06fc9-135">The actual default value to use is not present in the schema.</span></span> <span data-ttu-id="06fc9-136">La corretta impostazione di un elemento mancante spetta all'endpoint di destinazione.</span><span class="sxs-lookup"><span data-stu-id="06fc9-136">It is up to the receiving endpoint to appropriately interpret a missing element.</span></span>  
  
 <span data-ttu-id="06fc9-137">Durante l'importazione dello schema, la <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> proprietà viene impostata automaticamente su `false` ogni volta che viene rilevata l'annotazione specifica di WCF indicata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="06fc9-137">On schema import, the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is automatically set to `false` whenever the WCF-specific annotation mentioned previously is detected.</span></span> <span data-ttu-id="06fc9-138">Viene inoltre impostata su `false` per i tipi di riferimento la cui `nillable` proprietà è impostata su `false` per supportare scenari di interoperabilità specifici che in genere si verificano durante l'utilizzo dei servizi Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="06fc9-138">It is also set to `false` for reference types that have the `nillable` property set to `false` to support specific interoperability scenarios that commonly occur when consuming ASP.NET Web services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="06fc9-139">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="06fc9-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
