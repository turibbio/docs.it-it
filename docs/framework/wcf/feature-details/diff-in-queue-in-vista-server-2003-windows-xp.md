---
title: Differenze nelle funzionalità di accodamento in Windows Vista, Windows Server 2003 e Windows XP
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], differences in operating systems
ms.assetid: aa809d93-d0a3-4ae6-a726-d015cca37c04
ms.openlocfilehash: abd81b5e7bf611fc6b4f446a82628b83130f2d54
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599204"
---
# <a name="differences-in-queuing-features-in-windows-vista-windows-server-2003-and-windows-xp"></a><span data-ttu-id="8e003-102">Differenze nelle funzionalità di accodamento in Windows Vista, Windows Server 2003 e Windows XP</span><span class="sxs-lookup"><span data-stu-id="8e003-102">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>
<span data-ttu-id="8e003-103">In questo argomento vengono riepilogate le differenze nella funzionalità di Accodamento Windows Communication Foundation (WCF) tra Windows Vista, Windows Server 2003 e Windows XP.</span><span class="sxs-lookup"><span data-stu-id="8e003-103">This topic summarizes the differences in the Windows Communication Foundation (WCF) queues feature between Windows Vista, Windows Server 2003, and Windows XP.</span></span>  
  
## <a name="application-specific-dead-letter-queue"></a><span data-ttu-id="8e003-104">Coda di messaggi non recapitabili specifica dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="8e003-104">Application-Specific Dead-Letter Queue</span></span>  
 <span data-ttu-id="8e003-105">I messaggi in coda possono restare nella coda per un tempo indefinito se l'applicazione ricevente non li legge in maniera tempestiva.</span><span class="sxs-lookup"><span data-stu-id="8e003-105">Queued messages can remain in the queue indefinitely if the receiving application does not read them in a timely fashion.</span></span> <span data-ttu-id="8e003-106">Questo comportamento non è consigliabile se i messaggi hanno una scadenza.</span><span class="sxs-lookup"><span data-stu-id="8e003-106">This behavior is not advisable if the messages are time-sensitive.</span></span> <span data-ttu-id="8e003-107">I messaggi a scadenza hanno la proprietà `TimeToLive` impostata nell'associazione in coda.</span><span class="sxs-lookup"><span data-stu-id="8e003-107">Time-sensitive messages have a `TimeToLive` property set in the queued binding.</span></span> <span data-ttu-id="8e003-108">Questa proprietà indica per quanto tempo i messaggi possono restare nella coda prima di scadere.</span><span class="sxs-lookup"><span data-stu-id="8e003-108">This property indicates how long the messages can be in the queue before they expire.</span></span> <span data-ttu-id="8e003-109">I messaggi scaduti vengono inviati a una coda speciale denominata coda dei messaggi non recapitabili.</span><span class="sxs-lookup"><span data-stu-id="8e003-109">Expired messages are sent to a special queue called the dead-letter queue.</span></span> <span data-ttu-id="8e003-110">Un messaggio può finire in una coda di messaggi non recapitabili anche per altri motivi, ad esempio se si supera una quota della coda o si verifica un errore di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="8e003-110">A message can also end up in a dead-letter queue for other reasons, such as exceeding a queue quota or experiencing an authentication failure.</span></span>  
  
 <span data-ttu-id="8e003-111">In genere, esiste una sola coda di messaggi non recapitabili a livello di sistema per tutte le applicazioni in coda che condividono un gestore delle code</span><span class="sxs-lookup"><span data-stu-id="8e003-111">Typically, a single system-wide dead-letter queue exists for all queued applications that share a queue manager.</span></span> <span data-ttu-id="8e003-112">Con una coda di messaggi non recapitabili per ogni applicazione è possibile migliorare l'isolamento tra le applicazioni in coda che condividono un gestore delle code, consentendo a queste applicazioni di specificare una coda di messaggi non recapitabili specifica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8e003-112">A dead-letter queue for each application enables better isolation between queued applications that share a queue manager by allowing these applications to specify their own application-specific dead-letter queue.</span></span> <span data-ttu-id="8e003-113">Un'applicazione che condivide una coda di messaggi non recapitabili con altre applicazioni deve esplorare la coda per trovare i messaggi appropriati.</span><span class="sxs-lookup"><span data-stu-id="8e003-113">An application that shares a dead-letter queue with other applications has to browse the queue to find messages that are applicable to it.</span></span> <span data-ttu-id="8e003-114">Con una coda di messaggi non recapitabili specifica dell'applicazione, tutti i messaggi nella relativa coda di messaggi non recapitabili sono applicabili all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8e003-114">With an application-specific dead-letter queue, the application can be assured that all messages in its dead-letter queue are applicable to it.</span></span>  
  
 <span data-ttu-id="8e003-115">Windows Vista fornisce le code dei messaggi non recapitabili specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="8e003-115">Windows Vista provides for application-specific dead-letter queues.</span></span> <span data-ttu-id="8e003-116">Le code di messaggi non recapitabili specifici dell'applicazione non sono disponibili in Windows Server 2003 e Windows XP e le applicazioni devono utilizzare la coda dei messaggi non recapitabili a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="8e003-116">Application-specific dead-letter queues are not available in Windows Server 2003 and Windows XP, and applications must use the system-wide dead-letter queue.</span></span>  
  
## <a name="poison-message-handling"></a><span data-ttu-id="8e003-117">Gestione dei messaggi non elaborabili</span><span class="sxs-lookup"><span data-stu-id="8e003-117">Poison-Message Handling</span></span>  
 <span data-ttu-id="8e003-118">Per messaggio non elaborabile si intende un messaggio che ha superato il numero massimo di tentativi di recapito all'applicazione ricevente.</span><span class="sxs-lookup"><span data-stu-id="8e003-118">A poison message is a message that has exceeded the maximum number of delivery attempts to the receiving application.</span></span> <span data-ttu-id="8e003-119">Questa situazione può verificarsi quando un'applicazione che legge un messaggio da una coda transazionale non può elaborare immediatamente il messaggio a causa di errori.</span><span class="sxs-lookup"><span data-stu-id="8e003-119">This situation can arise when an application that reads a message from a transactional queue cannot process the message immediately because of errors.</span></span> <span data-ttu-id="8e003-120">Se l'applicazione interrompe la transazione nella quale è stato ricevuto il messaggio in coda, il messaggio viene restituito alla coda.</span><span class="sxs-lookup"><span data-stu-id="8e003-120">If the application aborts the transaction in which the queued message was received, it returns the message to the queue.</span></span> <span data-ttu-id="8e003-121">L'applicazione tenta quindi di recuperare nuovamente il messaggio in una nuova transazione.</span><span class="sxs-lookup"><span data-stu-id="8e003-121">The application then tries to retrieve the message again in a new transaction.</span></span> <span data-ttu-id="8e003-122">Se il problema che causa l'interruzione della transazione non viene risolto, l'applicazione ricevente può rimanere bloccata in un ciclo continuo di ricezioni e interruzioni dello stesso messaggio fino a superare il numero massimo di tentativi di recapito. Ne consegue l'impossibilità di elaborare il messaggio.</span><span class="sxs-lookup"><span data-stu-id="8e003-122">If the problem that causes the error is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until it exceeds the maximum number of delivery attempts, and a poison message results.</span></span>  
  
 <span data-ttu-id="8e003-123">Di seguito sono riportate le differenze principali tra Accodamento messaggi (MSMQ) in Windows Vista, Windows Server 2003 e Windows XP rilevanti per la gestione dei veleni:</span><span class="sxs-lookup"><span data-stu-id="8e003-123">The key differences between Message Queuing (MSMQ) on Windows Vista, Windows Server 2003, and Windows XP that are relevant to poison handling include the following:</span></span>  
  
- <span data-ttu-id="8e003-124">MSMQ in Windows Vista supporta le code secondarie, mentre Windows Server 2003 e Windows XP non supportano le code secondarie.</span><span class="sxs-lookup"><span data-stu-id="8e003-124">MSMQ in Windows Vista supports subqueues, while Windows Server 2003 and Windows XP do not support subqueues.</span></span> <span data-ttu-id="8e003-125">Le code secondarie vengono utilizzate nella gestione dei messaggi non elaborabili.</span><span class="sxs-lookup"><span data-stu-id="8e003-125">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="8e003-126">Le code di tentativi e la coda non elaborabile sono code secondarie della coda dell'applicazione creata in base alle impostazioni di gestione dei messaggi non elaborabili.</span><span class="sxs-lookup"><span data-stu-id="8e003-126">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="8e003-127">`MaxRetryCycles` stabilisce il numero delle code secondarie dei tentativi che verranno create.</span><span class="sxs-lookup"><span data-stu-id="8e003-127">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="8e003-128">Pertanto, in caso di esecuzione in Windows Server 2003 o Windows XP, `MaxRetryCycles` viene ignorato e `ReceiveErrorHandling.Move` non è consentito.</span><span class="sxs-lookup"><span data-stu-id="8e003-128">Therefore, when running on Windows Server 2003 or Windows XP, `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
- <span data-ttu-id="8e003-129">MSMQ in Windows Vista supporta il riconoscimento negativo, mentre Windows Server 2003 e Windows XP non lo sono.</span><span class="sxs-lookup"><span data-stu-id="8e003-129">MSMQ in Windows Vista supports negative acknowledgment, while Windows Server 2003 and Windows XP do not.</span></span> <span data-ttu-id="8e003-130">Un negative acknowledgment dal gestore delle code ricevente determina l'inserimento, da parte del gestore delle code mittente, del messaggio respinto nella coda dei messaggi non recapitabili.</span><span class="sxs-lookup"><span data-stu-id="8e003-130">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="8e003-131">Di conseguenza, `ReceiveErrorHandling.Reject` non è consentito con Windows Server 2003 e Windows XP.</span><span class="sxs-lookup"><span data-stu-id="8e003-131">As such, `ReceiveErrorHandling.Reject` is not allowed with Windows Server 2003 and Windows XP.</span></span>  
  
- <span data-ttu-id="8e003-132">MSMQ in Windows Vista supporta una proprietà del messaggio che mantiene il conteggio del numero di tentativi di recapito dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="8e003-132">MSMQ in Windows Vista supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="8e003-133">Questa proprietà del numero di interruzioni non è disponibile in Windows Server 2003 e Windows XP.</span><span class="sxs-lookup"><span data-stu-id="8e003-133">This abort count property is not available on Windows Server 2003 and Windows XP.</span></span> <span data-ttu-id="8e003-134">WCF mantiene il conteggio delle interruzioni in memoria, pertanto è possibile che questa proprietà non contenga un valore accurato quando lo stesso messaggio viene letto da più di un servizio WCF in una Web farm.</span><span class="sxs-lookup"><span data-stu-id="8e003-134">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a Web farm.</span></span>  
  
## <a name="remote-transactional-read"></a><span data-ttu-id="8e003-135">Lettura transazionale in remoto</span><span class="sxs-lookup"><span data-stu-id="8e003-135">Remote Transactional Read</span></span>  
 <span data-ttu-id="8e003-136">MSMQ in Windows Vista supporta le letture transazionali remote.</span><span class="sxs-lookup"><span data-stu-id="8e003-136">MSMQ on Windows Vista supports remote transactional reads.</span></span> <span data-ttu-id="8e003-137">Ciò consente a un'applicazione che sta leggendo da una coda di essere ospitata in un computer che è diverso da quello in cui è ospitata la coda.</span><span class="sxs-lookup"><span data-stu-id="8e003-137">This allows an application that is reading from a queue to be hosted on a computer that is different from the computer on which the queue is hosted.</span></span> <span data-ttu-id="8e003-138">In questo modo è possibile disporre di una farm di servizi che leggono da una coda centrale, con conseguente aumento della velocità effettiva complessiva del sistema.</span><span class="sxs-lookup"><span data-stu-id="8e003-138">This ensures the ability to have a farm of services reading from a central queue, which increases the overall throughput of the system.</span></span> <span data-ttu-id="8e003-139">Inoltre, se si verifica un errore durante la lettura e l'elaborazione del messaggio, viene eseguito il rollback della transazione e il messaggio rimane nella coda per poter essere elaborato in seguito.</span><span class="sxs-lookup"><span data-stu-id="8e003-139">It also ensures that if a failure occurs when reading and processing the message, the transaction rolls back and the message remains in the queue for later processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e003-140">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="8e003-140">See also</span></span>

- [<span data-ttu-id="8e003-141">Uso di code di messaggi non recapitabili per gestire errori di trasferimento dei messaggi</span><span class="sxs-lookup"><span data-stu-id="8e003-141">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="8e003-142">Gestione dei messaggi non elaborabili</span><span class="sxs-lookup"><span data-stu-id="8e003-142">Poison Message Handling</span></span>](poison-message-handling.md)
