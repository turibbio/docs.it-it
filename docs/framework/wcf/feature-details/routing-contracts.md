---
title: Contratti di routing
ms.date: 03/30/2017
ms.assetid: 9ceea7ae-ea19-4cf9-ba4f-d071e236546d
ms.openlocfilehash: 69dff2c82f67a16d51e11a92052c59672a054e04
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601075"
---
# <a name="routing-contracts"></a><span data-ttu-id="180c3-102">Contratti di routing</span><span class="sxs-lookup"><span data-stu-id="180c3-102">Routing Contracts</span></span>
<span data-ttu-id="180c3-103">I contratti routing definiscono i modelli di messaggio che possono essere elaborati dal servizio di routing.</span><span class="sxs-lookup"><span data-stu-id="180c3-103">Routing contracts define the message patterns that the Routing Service can process.</span></span>  <span data-ttu-id="180c3-104">Ogni contratto è sprovvisto di tipi e consente la ricezione di un messaggio da parte del servizio senza conoscere l'azione o lo schema del messaggio.</span><span class="sxs-lookup"><span data-stu-id="180c3-104">Each contract is typeless and allows the service to receive a message without knowledge of the message schema or action.</span></span> <span data-ttu-id="180c3-105">In questo modo il servizio di routing può indirizzare in modo generico i messaggi senza ulteriore configurazione per le specifiche dei messaggi sottostanti indirizzati.</span><span class="sxs-lookup"><span data-stu-id="180c3-105">This allows the Routing Service to generically route messages without additional configuration for the specifics of the underlying messages being routed.</span></span>  
  
## <a name="routing-contracts"></a><span data-ttu-id="180c3-106">Contratti di routing</span><span class="sxs-lookup"><span data-stu-id="180c3-106">Routing Contracts</span></span>  
 <span data-ttu-id="180c3-107">Poiché il servizio di routing accetta un oggetto WCF Message generico, la considerazione più importante in fase di scelta di un contratto ricade sulla forma del canale che verrà utilizzato per le comunicazioni con i client e i servizi.</span><span class="sxs-lookup"><span data-stu-id="180c3-107">Because the Routing Service accepts a generic WCF Message object, the most important consideration when selecting a contract is the shape of the channel that will be used when communicating with the clients and services.</span></span> <span data-ttu-id="180c3-108">In caso di elaborazione di messaggi, il servizio di routing utilizza message pump simmetrici, quindi la forma del contratto in ingresso deve in genere corrispondere alla forma del contratto in uscita.</span><span class="sxs-lookup"><span data-stu-id="180c3-108">When processing messages, the Routing Service uses symmetrical message pumps, so generally the shape of the inbound contract must match the shape of the outbound contract.</span></span> <span data-ttu-id="180c3-109">In alcuni casi, tuttavia, il dispatcher del modello di servizio può modificare le forme, ad esempio quando il dispatcher converte un canale duplex in un canale request/reply o rimuove il supporto della sessione da un canale quando non è necessario e non viene usato (ovvero, quando **SessionMode. Allowed**, convertendo un **IInputSessionChannel** in un **IInputChannel**).</span><span class="sxs-lookup"><span data-stu-id="180c3-109">However, there are cases where the Service Model’s dispatcher can modify the shapes, such as when the dispatcher converts a duplex channel into a request-reply channel, or removes the session support from a channel when it is not required and is not being used (that is, when **SessionMode.Allowed**, converting an **IInputSessionChannel** into an **IInputChannel**).</span></span>  
  
 <span data-ttu-id="180c3-110">Per supportare questi message pump, il servizio di routing fornisce contratti nello spazio dei nomi <xref:System.ServiceModel.Routing>, che deve essere utilizzato in caso di definizione degli endpoint servizio utilizzati dal servizio di routing.</span><span class="sxs-lookup"><span data-stu-id="180c3-110">To support these message pumps, the Routing Service provides contracts in the <xref:System.ServiceModel.Routing> namespace, which must be used when defining the service endpoints used by the Routing Service.</span></span> <span data-ttu-id="180c3-111">Questi contratti sono sprovvisti di tipi. In questo modo è possibile ricevere qualsiasi azione o tipo di messaggio e il servizio di routing può gestire i messaggi senza conoscere lo schema del messaggio specifico.</span><span class="sxs-lookup"><span data-stu-id="180c3-111">These contracts are typeless, which allows the receipt of any message type or action, and allows the Routing Service to handle messages without knowledge of the specific message schema.</span></span> <span data-ttu-id="180c3-112">Per ulteriori informazioni sui contratti utilizzati dal servizio di routing, vedere [routing dei contratti](routing-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="180c3-112">For more information about the contracts used by the Routing Service, see [Routing Contracts](routing-contracts.md).</span></span>  
  
 <span data-ttu-id="180c3-113">I contratti forniti dal servizio di routing si trovano nello spazio dei nomi <xref:System.ServiceModel.Routing> e vengono descritti nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="180c3-113">The contracts provided by the Routing Service are located in the <xref:System.ServiceModel.Routing> namespace, and are described in the following table.</span></span>  
  
|<span data-ttu-id="180c3-114">Contratto</span><span class="sxs-lookup"><span data-stu-id="180c3-114">Contract</span></span>|<span data-ttu-id="180c3-115">Forma</span><span class="sxs-lookup"><span data-stu-id="180c3-115">Shape</span></span>|<span data-ttu-id="180c3-116">Forma del canale</span><span class="sxs-lookup"><span data-stu-id="180c3-116">Channel Shape</span></span>|  
|--------------|-----------|-------------------|  
|<xref:System.ServiceModel.Routing.ISimplexDatagramRouter>|<span data-ttu-id="180c3-117">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="180c3-117">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="180c3-118">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="180c3-118">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="180c3-119">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="180c3-119">IsOneWay = true</span></span>|<span data-ttu-id="180c3-120">IInputChannel-> IOutputChannel</span><span class="sxs-lookup"><span data-stu-id="180c3-120">IInputChannel -> IOutputChannel</span></span>|  
|<xref:System.ServiceModel.Routing.ISimplexSessionRouter>|<span data-ttu-id="180c3-121">SessionMode = SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="180c3-121">SessionMode = SessionMode.Required</span></span><br /><br /> <span data-ttu-id="180c3-122">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="180c3-122">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="180c3-123">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="180c3-123">IsOneWay = true</span></span>|<span data-ttu-id="180c3-124">IInputSessionChannel-> IOutputSessionChannel</span><span class="sxs-lookup"><span data-stu-id="180c3-124">IInputSessionChannel -> IOutputSessionChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IRequestReplyRouter>|<span data-ttu-id="180c3-125">SessionMode = SessionMode.Allowed</span><span class="sxs-lookup"><span data-stu-id="180c3-125">SessionMode = SessionMode.Allowed</span></span><br /><br /> <span data-ttu-id="180c3-126">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="180c3-126">AsyncPattern = true</span></span>|<span data-ttu-id="180c3-127">IReplyChannel-> IRequestChannel</span><span class="sxs-lookup"><span data-stu-id="180c3-127">IReplyChannel -> IRequestChannel</span></span>|  
|<xref:System.ServiceModel.Routing.IDuplexSessionRouter>|<span data-ttu-id="180c3-128">SessionMode=SessionMode.Required</span><span class="sxs-lookup"><span data-stu-id="180c3-128">SessionMode=SessionMode.Required</span></span><br /><br /> <span data-ttu-id="180c3-129">CallbackContract=typeof(ISimplexSession)</span><span class="sxs-lookup"><span data-stu-id="180c3-129">CallbackContract=typeof(ISimplexSession)</span></span><br /><br /> <span data-ttu-id="180c3-130">AsyncPattern = true</span><span class="sxs-lookup"><span data-stu-id="180c3-130">AsyncPattern = true</span></span><br /><br /> <span data-ttu-id="180c3-131">IsOneWay = true</span><span class="sxs-lookup"><span data-stu-id="180c3-131">IsOneWay = true</span></span><br /><br /> <span data-ttu-id="180c3-132">TransactionFlow(TransactionFlowOption.Allowed)</span><span class="sxs-lookup"><span data-stu-id="180c3-132">TransactionFlow(TransactionFlowOption.Allowed)</span></span>|<span data-ttu-id="180c3-133">IDuplexSessionChannel-> IDuplexSessionChannel</span><span class="sxs-lookup"><span data-stu-id="180c3-133">IDuplexSessionChannel -> IDuplexSessionChannel</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="180c3-134">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="180c3-134">See also</span></span>

- [<span data-ttu-id="180c3-135">Servizio di routing</span><span class="sxs-lookup"><span data-stu-id="180c3-135">Routing Service</span></span>](routing-service.md)
- [<span data-ttu-id="180c3-136">Introduzione al routing</span><span class="sxs-lookup"><span data-stu-id="180c3-136">Routing Introduction</span></span>](routing-introduction.md)
