---
title: Informazioni sul codice client generato
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca
ms.openlocfilehash: f04b67ae13307fb3c2a2981204526880f55d58f1
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/09/2020
ms.locfileid: "84595063"
---
# <a name="understanding-generated-client-code"></a><span data-ttu-id="0772f-102">Informazioni sul codice client generato</span><span class="sxs-lookup"><span data-stu-id="0772f-102">Understanding Generated Client Code</span></span>
<span data-ttu-id="0772f-103">Lo [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) genera il codice client e un file di configurazione dell'applicazione client da usare per la compilazione di applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="0772f-103">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications.</span></span> <span data-ttu-id="0772f-104">In questo argomento viene fornita una panoramica degli esempi di codice generati per gli scenari del contratto di servizio standard.</span><span class="sxs-lookup"><span data-stu-id="0772f-104">This topic provides a tour of generated code examples for standard service contract scenarios.</span></span> <span data-ttu-id="0772f-105">Per ulteriori informazioni sulla compilazione di un'applicazione client utilizzando il codice generato, vedere [Panoramica dei client WCF](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-105">For more information about building a client application using the generated code, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="0772f-106">Panoramica</span><span class="sxs-lookup"><span data-stu-id="0772f-106">Overview</span></span>  
 <span data-ttu-id="0772f-107">Se si utilizza Visual Studio per generare tipi di client Windows Communication Foundation (WCF) per il progetto, in genere non è necessario esaminare il codice client generato.</span><span class="sxs-lookup"><span data-stu-id="0772f-107">If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code.</span></span> <span data-ttu-id="0772f-108">Se non si usa un ambiente di sviluppo che esegue automaticamente gli stessi servizi, è possibile usare uno strumento quale Svcutil.exe per generare codice client e usare tale codice per sviluppare l'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="0772f-108">If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.</span></span>  
  
 <span data-ttu-id="0772f-109">Poiché Svcutil.exe dispone di alcune opzioni che modificano le informazioni sui tipi generati, in questo argomento non verranno esaminati tutti gli scenari.</span><span class="sxs-lookup"><span data-stu-id="0772f-109">Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.</span></span> <span data-ttu-id="0772f-110">Tuttavia, nelle attività standard seguenti è coinvolta l'individuazione del codice generato:</span><span class="sxs-lookup"><span data-stu-id="0772f-110">However, the following standard tasks involve locating generated code:</span></span>  
  
- <span data-ttu-id="0772f-111">Identificazione delle interfacce del contratto di servizio.</span><span class="sxs-lookup"><span data-stu-id="0772f-111">Identifying service contract interfaces.</span></span>  
  
- <span data-ttu-id="0772f-112">Identificazione della classe client WCF.</span><span class="sxs-lookup"><span data-stu-id="0772f-112">Identifying the WCF client class.</span></span>  
  
- <span data-ttu-id="0772f-113">Identificazione dei tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="0772f-113">Identifying data types.</span></span>  
  
- <span data-ttu-id="0772f-114">Identificazione di contratti di callback per i servizi duplex.</span><span class="sxs-lookup"><span data-stu-id="0772f-114">Identifying callback contracts for duplex services.</span></span>  
  
- <span data-ttu-id="0772f-115">Identificazione dell'interfaccia del contratto di servizio di assistenza.</span><span class="sxs-lookup"><span data-stu-id="0772f-115">Identifying the helper service contract channel interface.</span></span>  
  
### <a name="finding-service-contract-interfaces"></a><span data-ttu-id="0772f-116">Individuazione delle interfacce del contratto di servizio</span><span class="sxs-lookup"><span data-stu-id="0772f-116">Finding Service Contract Interfaces</span></span>  
 <span data-ttu-id="0772f-117">Per individuare le interfacce che modellano i contratti di servizio, cercare le interfacce contrassegnate con l'attributo <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="0772f-117">To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="0772f-118">Spesso questo attributo può essere difficile da individuare con una lettura rapida a causa della presenza di altri attributi e di proprietà esplicite impostate sull'attributo stesso.</span><span class="sxs-lookup"><span data-stu-id="0772f-118">Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.</span></span> <span data-ttu-id="0772f-119">Ricordare che l'interfaccia del contratto di servizio e l'interfaccia del contratto client sono due tipi diversi.</span><span class="sxs-lookup"><span data-stu-id="0772f-119">Remember that the service contract interface and the client contract interface are two different types.</span></span> <span data-ttu-id="0772f-120">Nell'esempio di codice seguente viene illustrato il contratto di servizio originale.</span><span class="sxs-lookup"><span data-stu-id="0772f-120">The following code example shows the original service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  
  
 <span data-ttu-id="0772f-121">Nell'esempio di codice seguente viene illustrato lo stesso contratto di servizio generato da Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="0772f-121">The following code example shows the same service contract as generated by Svcutil.exe.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="0772f-122">È possibile utilizzare l'interfaccia del contratto di servizio generata insieme alla <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> classe per creare un oggetto canale WCF con cui richiamare le operazioni del servizio.</span><span class="sxs-lookup"><span data-stu-id="0772f-122">You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations.</span></span> <span data-ttu-id="0772f-123">Per altre informazioni, vedere [procedura: usare ChannelFactory](how-to-use-the-channelfactory.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-123">For more information, see [How to: Use the ChannelFactory](how-to-use-the-channelfactory.md).</span></span>  
  
### <a name="finding-wcf-client-classes"></a><span data-ttu-id="0772f-124">Ricerca della classi client WCF</span><span class="sxs-lookup"><span data-stu-id="0772f-124">Finding WCF Client Classes</span></span>  
 <span data-ttu-id="0772f-125">Per individuare la classe client WCF che implementa il contratto di servizio che si desidera utilizzare, cercare un'estensione di <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> , in cui il parametro di tipo è l'interfaccia del contratto di servizio precedentemente individuata e che estende tale interfaccia.</span><span class="sxs-lookup"><span data-stu-id="0772f-125">To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface.</span></span> <span data-ttu-id="0772f-126">Nell'esempio di codice seguente viene illustrata la classe <xref:System.ServiceModel.ClientBase%601> del tipo `ISampleService`.</span><span class="sxs-lookup"><span data-stu-id="0772f-126">The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="0772f-127">È possibile usare questa classe client WCF creandone una nuova istanza e chiamando i metodi che implementa.</span><span class="sxs-lookup"><span data-stu-id="0772f-127">You can use this WCF client class by creating a new instance of it and calling the methods it implements.</span></span> <span data-ttu-id="0772f-128">Tali metodi richiamano l'operazione del servizio con la quale è progettato e configurato per interagire.</span><span class="sxs-lookup"><span data-stu-id="0772f-128">Those methods invoke the service operation with which it is designed and configured to interact.</span></span> <span data-ttu-id="0772f-129">Per ulteriori informazioni, vedere [Cenni preliminari sul client WCF](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-129">For more information, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0772f-130">Quando SvcUtil.exe genera una classe client WCF, aggiunge <xref:System.Diagnostics.DebuggerStepThroughAttribute> alla classe client che impedisce ai debugger di eseguire la classe client WCF un'istruzione alla volta.</span><span class="sxs-lookup"><span data-stu-id="0772f-130">When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.</span></span>  
  
### <a name="finding-data-types"></a><span data-ttu-id="0772f-131">Ricerca dei tipi di dati</span><span class="sxs-lookup"><span data-stu-id="0772f-131">Finding Data Types</span></span>  
 <span data-ttu-id="0772f-132">Per individuare i tipi di dati nel codice generato, il meccanismo più basilare consiste nell'identificare il nome del tipo specificato in un contratto e cercare tale dichiarazione del tipo nel codice.</span><span class="sxs-lookup"><span data-stu-id="0772f-132">To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.</span></span> <span data-ttu-id="0772f-133">Ad esempio, il contratto seguente specifica che `SampleMethod` può restituire un errore SOAP di tipo `microsoft.wcf.documentation.SampleFault`.</span><span class="sxs-lookup"><span data-stu-id="0772f-133">For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  
  
 <span data-ttu-id="0772f-134">Se si esegue una ricerca per `SampleFault` , viene individuata la dichiarazione di tipo seguente.</span><span class="sxs-lookup"><span data-stu-id="0772f-134">Searching for `SampleFault` locates the following type declaration.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  
  
 <span data-ttu-id="0772f-135">In questo caso il tipo di dati è il tipo di dettaglio generato da un'eccezione specifica sul client, una <xref:System.ServiceModel.FaultException%601> in cui il parametro di tipo del dettaglio è `microsoft.wcf.documentation.SampleFault`.</span><span class="sxs-lookup"><span data-stu-id="0772f-135">In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`.</span></span> <span data-ttu-id="0772f-136">Per ulteriori informazioni sui tipi di dati, vedere [specifica trasferimento dati nei contratti di servizio](specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-136">For more information about data types, see [Specifying Data Transfer in Service Contracts](specifying-data-transfer-in-service-contracts.md).</span></span> <span data-ttu-id="0772f-137">Per ulteriori informazioni sulla gestione delle eccezioni nei client, vedere [invio e ricezione di errori](../sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-137">For more information about handling exceptions in clients, see [Sending and Receiving Faults](../sending-and-receiving-faults.md).</span></span>  
  
### <a name="finding-callback-contracts-for-duplex-services"></a><span data-ttu-id="0772f-138">Individuazione dei contratti di callback per i servizi duplex</span><span class="sxs-lookup"><span data-stu-id="0772f-138">Finding Callback Contracts for Duplex Services</span></span>  
 <span data-ttu-id="0772f-139">Se si individua un contratto di servizio per il quale l'interfaccia del contratto specifica un valore per la proprietà <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> , quel contratto specifica un contratto duplex.</span><span class="sxs-lookup"><span data-stu-id="0772f-139">If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract.</span></span> <span data-ttu-id="0772f-140">I contratti duplex richiedono che l'applicazione client crei una classe di callback che implementa il contratto di callback e passa un'istanza di quella classe all'oggetto <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> o <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> usato per comunicare con il servizio.</span><span class="sxs-lookup"><span data-stu-id="0772f-140">Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service.</span></span> <span data-ttu-id="0772f-141">Per altre informazioni sui client duplex, vedere [procedura: accedere ai servizi con un contratto duplex](how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="0772f-141">For more information about duplex clients, see [How to: Access Services with a Duplex Contract](how-to-access-services-with-a-duplex-contract.md).</span></span>  
  
 <span data-ttu-id="0772f-142">Nel contratto seguente viene specificato un contratto di callback di tipo `SampleDuplexHelloCallback`.</span><span class="sxs-lookup"><span data-stu-id="0772f-142">The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]
 [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  
  
 <span data-ttu-id="0772f-143">Se si esegue una ricerca per tale contratto di callback, viene identificata l'interfaccia seguente che l'applicazione client deve implementare.</span><span class="sxs-lookup"><span data-stu-id="0772f-143">Searching for that callback contract locates the following interface that the client application must implement.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]
 [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  
  
### <a name="finding-service-contract-channel-interfaces"></a><span data-ttu-id="0772f-144">Individuazione delle interfacce del canale del contratto di servizio</span><span class="sxs-lookup"><span data-stu-id="0772f-144">Finding Service Contract Channel Interfaces</span></span>  
 <span data-ttu-id="0772f-145">Quando si usa la classe <xref:System.ServiceModel.ChannelFactory> con un'interfaccia del contratto del servizio, per aprire, chiudere o interrompere in modo esplicito il canale è necessario eseguire il cast all'interfaccia <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="0772f-145">When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel.</span></span> <span data-ttu-id="0772f-146">Per semplificare l'uso, lo strumento Svcutil.exe genera inoltre un'interfaccia di supporto che implementa l'interfaccia del contratto del servizio e <xref:System.ServiceModel.IClientChannel> per consentire l'interazione con l'infrastruttura del canale client senza dovere eseguire il cast.</span><span class="sxs-lookup"><span data-stu-id="0772f-146">To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast.</span></span> <span data-ttu-id="0772f-147">Nel codice seguente viene illustrata la definizione di un canale client di supporto che implementa il contratto del servizio precedente.</span><span class="sxs-lookup"><span data-stu-id="0772f-147">The following code shows the definition of a helper client channel that implements the preceding service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  
  
## <a name="see-also"></a><span data-ttu-id="0772f-148">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0772f-148">See also</span></span>

- [<span data-ttu-id="0772f-149">Panoramica dei client WCF</span><span class="sxs-lookup"><span data-stu-id="0772f-149">WCF Client Overview</span></span>](../wcf-client-overview.md)
