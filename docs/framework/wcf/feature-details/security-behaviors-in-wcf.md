---
title: Comportamenti di sicurezza in WCF
ms.date: 03/30/2017
ms.assetid: 513232c0-39fd-4409-bda6-5ebd5e0ea7b0
ms.openlocfilehash: 9f96abac0f5f32279c5579dd01c3dd7f2dc1786c
ms.sourcegitcommit: 927b7ea6b2ea5a440c8f23e3e66503152eb85591
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/16/2020
ms.locfileid: "81464053"
---
# <a name="security-behaviors-in-wcf"></a><span data-ttu-id="b1c1c-102">Comportamenti di sicurezza in WCF</span><span class="sxs-lookup"><span data-stu-id="b1c1c-102">Security Behaviors in WCF</span></span>
<span data-ttu-id="b1c1c-103">In Windows Communication Foundation (WCF), i comportamenti modificano il comportamento in fase di esecuzione a livello di servizio o a livello di endpoint.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-103">In Windows Communication Foundation (WCF), behaviors modify run-time behavior at the service level or at the endpoint level.</span></span> <span data-ttu-id="b1c1c-104">Per ulteriori informazioni sui comportamenti in generale, vedere Specifica del comportamento in fase di [esecuzione del servizio.](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md) *I comportamenti di sicurezza* consentono di controllare le credenziali, l'autenticazione, l'autorizzazione e i registri di controllo.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-104">(For more information about behaviors in general, see [Specifying Service Run-Time Behavior](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md).) *Security behaviors* allow control over credentials, authentication, authorization, and auditing logs.</span></span> <span data-ttu-id="b1c1c-105">I comportamenti possono essere utilizzati tramite programmazione o mediante configurazione.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-105">You can use behaviors either by programming or through configuration.</span></span> <span data-ttu-id="b1c1c-106">In questo argomento viene descritto come configurare i comportamenti relativi alle funzioni di sicurezza elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="b1c1c-106">This topic focuses on configuring the following behaviors related to security functions:</span></span>  
  
- <span data-ttu-id="b1c1c-107">serviceCredentials>. [ \< ](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md)</span><span class="sxs-lookup"><span data-stu-id="b1c1c-107">[\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span></span>  
  
- <span data-ttu-id="b1c1c-108">clientCredentials>. [ \< ](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)</span><span class="sxs-lookup"><span data-stu-id="b1c1c-108">[\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).</span></span>  
  
- <span data-ttu-id="b1c1c-109">>serviceAuthorization . [ \< ](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md)</span><span class="sxs-lookup"><span data-stu-id="b1c1c-109">[\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md).</span></span>  
  
- <span data-ttu-id="b1c1c-110">serviceSecurityAudit>. [ \< ](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md)</span><span class="sxs-lookup"><span data-stu-id="b1c1c-110">[\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md).</span></span>  
  
- <span data-ttu-id="b1c1c-111">serviceMetadata>, che consente inoltre di specificare un endpoint sicuro a cui i client possono accedere per i metadati. [ \< ](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md)</span><span class="sxs-lookup"><span data-stu-id="b1c1c-111">[\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md), which also enables you to specify a secure endpoint that clients can access for metadata.</span></span>  
  
## <a name="setting-credentials-with-behaviors"></a><span data-ttu-id="b1c1c-112">Impostazione delle credenziali tramite i comportamenti</span><span class="sxs-lookup"><span data-stu-id="b1c1c-112">Setting Credentials with Behaviors</span></span>  
 <span data-ttu-id="b1c1c-113">Usare il [ \<>serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) e [ \<clientCredentials](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) per impostare i valori delle credenziali per un servizio o un client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-113">Use the [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) and [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) to set credential values for a service or client.</span></span> <span data-ttu-id="b1c1c-114">La configurazione dell'associazione sottostante determina se occorre impostare una credenziale.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-114">The underlying binding configuration determines whether a credential has to be set.</span></span> <span data-ttu-id="b1c1c-115">Ad esempio, se la modalità di sicurezza è impostata su `None`, né i client né i servizi si autenticano reciprocamente o richiedono alcun tipo di credenziale.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-115">For example, if the security mode is set to `None`, both clients and services do not authenticate each other and require no credentials of any type.</span></span>  
  
 <span data-ttu-id="b1c1c-116">Se invece l'associazione del servizio richiede un tipo di credenziale client,</span><span class="sxs-lookup"><span data-stu-id="b1c1c-116">On the other hand, the service binding can require a client credential type.</span></span> <span data-ttu-id="b1c1c-117">è possibile che occorra utilizzare un comportamento per impostare i valori delle credenziali.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-117">In that case, you may have to set a credential value using a behavior.</span></span> <span data-ttu-id="b1c1c-118">Per ulteriori informazioni sui possibili tipi di credenziali, vedere Selezione di un tipo di [credenziali.](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md) In alcuni casi, ad esempio quando le credenziali di Windows vengono utilizzate per l'autenticazione, l'ambiente stabilisce automaticamente il valore effettivo delle credenziali e non è necessario impostare in modo esplicito il valore delle credenziali (a meno che non si desideri specificare un set di credenziali diverso).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-118">(For more information about the possible types of credentials, see [Selecting a Credential Type](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md).) In some cases, such as when Windows credentials are used to authenticate, the environment automatically establishes the actual credential value and you do not need to explicitly set the credential value (unless you want to specify a different set of credentials).</span></span>  
  
 <span data-ttu-id="b1c1c-119">Tutte le credenziali del servizio vengono trovate come elementi figlio del [ \<serviceBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-119">All service credentials are found as child elements of the [\<serviceBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span></span> <span data-ttu-id="b1c1c-120">L'esempio seguente illustra un certificato utilizzato come credenziale di servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-120">The following example shows a certificate used as a service credential.</span></span>  
  
```xml  
<configuration>  
 <system.serviceModel>  
  <behaviors>  
   <serviceBehaviors>  
    <behavior name="ServiceBehavior1">  
     <serviceCredentials>  
      <serviceCertificate findValue="000000000000000000000000000"
                          storeLocation="CurrentUser"  
      storeName="Root" x509FindType="FindByThumbprint" />  
     </serviceCredentials>  
    </behavior>  
   </serviceBehaviors>  
  </behaviors>  
 </system.serviceModel>  
</configuration>  
```  
  
## <a name="service-credentials"></a><span data-ttu-id="b1c1c-121">Credenziali di servizio</span><span class="sxs-lookup"><span data-stu-id="b1c1c-121">Service Credentials</span></span>  
 <span data-ttu-id="b1c1c-122">Il [ \<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) contiene quattro elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-122">The [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) contains four child elements.</span></span> <span data-ttu-id="b1c1c-123">Questi elementi e le relative modalità di utilizzo vengono descritti nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-123">The elements and their usages are discussed in the following sections.</span></span>  
  
### <a name="servicecertificate-element"></a><span data-ttu-id="b1c1c-124">\<Elemento> serviceCertificate</span><span class="sxs-lookup"><span data-stu-id="b1c1c-124">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="b1c1c-125">Questo elemento consente di specificare il certificato X.509 utilizzato dai client per autenticare il servizio tramite la modalità di sicurezza Messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-125">Use this element to specify an X.509 certificate that is used to authenticate the service to clients using Message security mode.</span></span> <span data-ttu-id="b1c1c-126">L'identificazione digitale di un certificato rinnovato periodicamente viene aggiornata di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-126">If you are using a certificate that is periodically renewed, then its thumbprint changes.</span></span> <span data-ttu-id="b1c1c-127">In questo caso, poiché il certificato può essere rilasciato nuovamente con lo stesso nome del soggetto, usare quest'ultimo come tipo `X509FindType`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-127">In that case, use the subject name as the `X509FindType` because the certificate can be reissued with the same subject name.</span></span>  
  
 <span data-ttu-id="b1c1c-128">Per ulteriori informazioni sull'utilizzo dell'elemento, vedere [Procedura: specificare i valori delle credenziali client](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-128">For more information about using the element, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
### <a name="certificate-of-clientcertificate-element"></a><span data-ttu-id="b1c1c-129">\<> di \<certificato dell'elemento> clientCertificate</span><span class="sxs-lookup"><span data-stu-id="b1c1c-129">\<certificate> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="b1c1c-130">Utilizzare [ \<](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) l'elemento>del certificato quando il servizio deve disporre in anticipo del certificato del client per comunicare in modo sicuro con il client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-130">Use the [\<certificate>](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) element when the service must have the client's certificate in advance to communicate securely with the client.</span></span> <span data-ttu-id="b1c1c-131">Questa esigenza si presenta quando si usa il modello di comunicazione duplex.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-131">This occurs when using the duplex communication pattern.</span></span> <span data-ttu-id="b1c1c-132">Nel modello più comune di comunicazione richiesta-risposta, il client include il proprio certificato nella richiesta e il servizio usa tale certificato per proteggere la risposta che invia al client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-132">In the more typical request-reply pattern, the client includes its certificate in the request, which the service uses to secure its response back to the client.</span></span> <span data-ttu-id="b1c1c-133">Il modello di comunicazione duplex, invece, non prevede né richieste né risposte</span><span class="sxs-lookup"><span data-stu-id="b1c1c-133">The duplex communication pattern, however, has no requests and replies.</span></span> <span data-ttu-id="b1c1c-134">e pertanto il servizio non può ricavare il certificato del client dalla comunicazione. Di conseguenza, per proteggere i messaggi inviati al client, il servizio deve disporre in anticipo del certificato del client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-134">The service cannot infer the client's certificate from the communication and therefore the service requires the client's certificate in advance to secure the messages to the client.</span></span> <span data-ttu-id="b1c1c-135">Il certificato del client deve essere ottenuto fuori banda e deve essere specificato tramite questo elemento.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-135">You must obtain the client's certificate in an out-of-band manner and specify the certificate using this element.</span></span> <span data-ttu-id="b1c1c-136">Per ulteriori informazioni sui servizi duplex, vedere [Procedura: creare un contratto duplex](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-136">For more information about duplex services, see [How to: Create a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span></span>  
  
### <a name="authentication-of-clientcertificate-element"></a><span data-ttu-id="b1c1c-137">\<> di \<autenticazione dell'elemento> clientCertificate</span><span class="sxs-lookup"><span data-stu-id="b1c1c-137">\<authentication> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="b1c1c-138">[ \<L'elemento>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) di autenticazione consente di personalizzare la modalità di autenticazione dei client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-138">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) element enables you to customize how clients are authenticated.</span></span> <span data-ttu-id="b1c1c-139">A tale scopo, l'attributo `CertificateValidationMode` può essere impostato su `None`, `ChainTrust`, `PeerOrChainTrust`, `PeerTrust` o `Custom`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-139">You can set the `CertificateValidationMode` attribute to `None`, `ChainTrust`, `PeerOrChainTrust`, `PeerTrust`, or `Custom`.</span></span> <span data-ttu-id="b1c1c-140">Per impostazione predefinita, `ChainTrust`il livello è impostato su , che specifica che ogni certificato deve trovarsi in una gerarchia di certificati che termina con *un'autorità radice* nella parte superiore della catena.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-140">By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a *root authority* at the top of the chain.</span></span> <span data-ttu-id="b1c1c-141">Si tratta della modalità più protetta.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-141">This is the most secure mode.</span></span> <span data-ttu-id="b1c1c-142">Il livello può inoltre essere impostato su `PeerOrChainTrust`, a indicare che sia i certificati autocertificati (trust peer) sia i certificati appartenenti a una catena di trust sono ritenuti attendibili.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-142">You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="b1c1c-143">Poiché i certificati autocertificati non devono essere acquistati da un'autorità attendibile, questo livello viene usato in fase di sviluppo e di debug dei client e dei servizi.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-143">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="b1c1c-144">Quando si distribuisce un client è invece opportuno usare il livello `ChainTrust`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-144">When deploying a client, use the `ChainTrust` value instead.</span></span> <span data-ttu-id="b1c1c-145">Un altro livello disponibile è `Custom`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-145">You can also set the value to `Custom`.</span></span> <span data-ttu-id="b1c1c-146">Quando si imposta il livello `Custom` è necessario impostare anche l'attributo `CustomCertificateValidatorType` sull'assembly e sul tipo usati per convalidare il certificato.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-146">When set to the `Custom` value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="b1c1c-147">Per creare un validator personalizzato è necessario ereditare una classe dalla classe astratta <xref:System.IdentityModel.Selectors.X509CertificateValidator>.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-147">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span>  
  
### <a name="issuedtokenauthentication-element"></a><span data-ttu-id="b1c1c-148">\<elemento> issuedTokenAuthentication</span><span class="sxs-lookup"><span data-stu-id="b1c1c-148">\<issuedTokenAuthentication> Element</span></span>  
 <span data-ttu-id="b1c1c-149">L'emissione di un token di autenticazione prevede tre fasi.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-149">The issued token scenario has three stages.</span></span> <span data-ttu-id="b1c1c-150">Nella prima fase, un client che tenta di accedere a un servizio viene fatto riferimento a un *servizio token di sicurezza.*</span><span class="sxs-lookup"><span data-stu-id="b1c1c-150">In the first stage, a client trying to access a service is referred to a *secure token service* (STS).</span></span> <span data-ttu-id="b1c1c-151">Nella seconda fase, il servizio token di sicurezza autentica il client, quindi rilascia a quest'ultimo un token, in genere un token SAML (Security Assertions Markup Language),</span><span class="sxs-lookup"><span data-stu-id="b1c1c-151">The STS then authenticates the client and subsequently issues the client a token, typically a Security Assertions Markup Language (SAML) token.</span></span> <span data-ttu-id="b1c1c-152">che il client restituisce in seguito al servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-152">The client then returns to the service with the token.</span></span> <span data-ttu-id="b1c1c-153">Nella terza fase, il servizio ricerca nel token appena ricevuto i dati da usare per autenticare il token stesso e, pertanto, il client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-153">The service examines the token for data that allows the service to authenticate the token and therefore the client.</span></span> <span data-ttu-id="b1c1c-154">Affinché il token venga autenticato è necessario che il servizio riconosca il certificato utilizzato dal servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-154">To authenticate the token, the certificate that the secure token service uses must be known to the service.</span></span> <span data-ttu-id="b1c1c-155">Il [ \<>issuedTokenAuthentication](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) è l'archivio per tali certificati del servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-155">The [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) element is the repository for any such secure token service certificates.</span></span> <span data-ttu-id="b1c1c-156">Per aggiungere certificati, utilizzare il [ \<>knownCertificates ](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-156">To add certificates, use the [\<knownCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span></span> <span data-ttu-id="b1c1c-157">Inserire [ \<un>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) aggiuntivo per ogni certificato, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-157">Insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) for each certificate, as shown in the following example.</span></span>  
  
```xml  
<issuedTokenAuthentication>  
   <knownCertificates>  
      <add findValue="www.contoso.com"
           storeLocation="LocalMachine" storeName="My"
           X509FindType="FindBySubjectName" />  
    </knownCertificates>  
</issuedTokenAuthentication>  
```  
  
 <span data-ttu-id="b1c1c-158">Per impostazione predefinita, i certificati devono essere ottenuti da un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-158">By default, the certificates must be obtained from a secure token service.</span></span> <span data-ttu-id="b1c1c-159">Questi certificati "riconosciuti" garantiscono che solo i client autorizzati siano in grado di accedere a un determinato servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-159">These "known" certificates ensure that only legitimate clients can access a service.</span></span>  
  
 <span data-ttu-id="b1c1c-160">È necessario usare la `SamlSecurityToken` *secure token service* [ \<raccolta di>allowedAudienceUris](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) in un'applicazione federata che utilizza un servizio token di sicurezza che emette token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-160">You should use the [\<allowedAudienceUris>](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) collection in a federated application that utilizes a *secure token service* (STS) that issues `SamlSecurityToken` security tokens.</span></span> <span data-ttu-id="b1c1c-161">Quando emette il token di sicurezza, il servizio STS può specificare l'URI dei servizi Web per cui si desidera usare il token di sicurezza tramite l'aggiunta di una condizione `SamlAudienceRestrictionCondition` al token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-161">When the STS issues the security token, it can specify the URI of the Web services for which the security token is intended by adding a `SamlAudienceRestrictionCondition` to the security token.</span></span> <span data-ttu-id="b1c1c-162">Ciò consente all'autenticatore `SamlSecurityTokenAuthenticator` del servizio Web di destinazione di verificare che il token di sicurezza emesso sia associato a questo servizio Web specificando che questo controllo deve essere svolto mediante l'esecuzione delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b1c1c-162">That allows the `SamlSecurityTokenAuthenticator` for the recipient Web service to verify that the issued security token is intended for this Web service by specifying that this check should happen by doing the following:</span></span>  
  
- <span data-ttu-id="b1c1c-163">Impostare `audienceUriMode` l'attributo [ \<di issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) su `Always` o `BearerKeyOnly`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-163">Set the `audienceUriMode` attribute of [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) to `Always` or `BearerKeyOnly`.</span></span>  
  
- <span data-ttu-id="b1c1c-164">Specificare il set di URI validi, aggiungendo gli URI a questa raccolta.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-164">Specify the set of valid URIs, by adding the URIs to this collection.</span></span> <span data-ttu-id="b1c1c-165">A tale scopo, inserire [ \<un'aggiunta di elementi per](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) ogni URITo do this, insert an add>for each URI</span><span class="sxs-lookup"><span data-stu-id="b1c1c-165">To do this, insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) for each URI</span></span>  
  
 <span data-ttu-id="b1c1c-166">Per altre informazioni, vedere <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-166">For more information, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span></span>  
  
 <span data-ttu-id="b1c1c-167">Per ulteriori informazioni sull'utilizzo di questo elemento di configurazione, vedere [Procedura: configurare le credenziali in un servizio federativo](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-167">For more information about using this configuration element, see [How to: Configure Credentials on a Federation Service](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span></span>  
  
#### <a name="allowing-anonymous-cardspace-users"></a><span data-ttu-id="b1c1c-168">Autenticazione degli utenti anonimi di CardSpace</span><span class="sxs-lookup"><span data-stu-id="b1c1c-168">Allowing Anonymous CardSpace Users</span></span>  
 <span data-ttu-id="b1c1c-169">Se si imposta in modo esplicito l'attributo `AllowUntrustedRsaIssuers` dell'elemento `<IssuedTokenAuthentication>` su `true`, qualsiasi client è in grado di presentare un token autocertificato firmato con una coppia di chiavi RSA arbitraria.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-169">Setting the `AllowUntrustedRsaIssuers` attribute of the `<IssuedTokenAuthentication>` element to `true` explicitly allows any client to present a self-issued token signed with an arbitrary RSA key pair.</span></span> <span data-ttu-id="b1c1c-170">L'autorità emittente non è *attendibile* perché alla chiave non sono associati dati dell'autorità emittente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-170">The issuer is *untrusted* because the key has no issuer data associated with it.</span></span> <span data-ttu-id="b1c1c-171">Un utente CardSpace può creare una carta auto-emessa che include attestazioni di identità auto-fornite.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-171">A CardSpace user can create a self-issued card that includes self-provided claims of identity.</span></span> <span data-ttu-id="b1c1c-172">Questa funzionalità deve essere utilizzata con cautela.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-172">Use this capability with caution.</span></span> <span data-ttu-id="b1c1c-173">Per utilizzare questa funzionalità, considerare la chiave RSA pubblica come una password dotata di un maggior livello di sicurezza da memorizzare in un database insieme a un nome utente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-173">To use this feature, think of the RSA public key as a more secure password that should be stored in a database along with a user name.</span></span> <span data-ttu-id="b1c1c-174">Prima di consentire a un client di accedere al servizio, verificare la chiave pubblica RSA presentata dal client confrontandola con la chiave pubblica memorizzata associata al nome utente presentato.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-174">Before allowing a client access to the service, verify the client-presented RSA public key by comparing it with the stored public key for the presented user name.</span></span> <span data-ttu-id="b1c1c-175">Ciò presuppone l'implementazione di un processo di registrazione in base al quale un utente può registrare il proprio nome utente e associarlo alla chiave pubblica RSA autocertificata.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-175">This presumes that you have established a registration process whereby users can register their user names and associate them with the self-issued RSA public keys.</span></span>  
  
## <a name="client-credentials"></a><span data-ttu-id="b1c1c-176">Client Credentials</span><span class="sxs-lookup"><span data-stu-id="b1c1c-176">Client Credentials</span></span>  
 <span data-ttu-id="b1c1c-177">Le credenziali client sono usate per autenticare i client presso i servizi nei casi in cui non è richiesta l'autenticazione reciproca.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-177">Client credentials are used to authenticate the client to services in cases where mutual authentication is required.</span></span> <span data-ttu-id="b1c1c-178">È possibile utilizzare questa sezione per specificare i certificati di servizio negli scenari in cui il client deve utilizzare il certificato di un servizio per proteggere i messaggi inviati a quest'ultimo.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-178">You can use the section to specify service certificates for scenarios where the client must secure messages to a service with the service's certificate.</span></span>  
  
 <span data-ttu-id="b1c1c-179">È inoltre possibile configurare un client come parte di uno scenario federato in modo che utilizzi i token emessi da un servizio token di sicurezza o da un'autorità emittente locale di token.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-179">You can also configure a client as part of a federation scenario to use issued tokens from a secure token service or a local issuer of tokens.</span></span> <span data-ttu-id="b1c1c-180">Per ulteriori informazioni sugli scenari [federati, vedere Federazione e token rilasciati](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-180">For more information about federated scenarios, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span> <span data-ttu-id="b1c1c-181">Tutte le credenziali client si trovano in [ \<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-181">All client credentials are found under the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), as shown in the following code.</span></span>  
  
```xml  
<behaviors>  
 <endpointBehaviors>  
  <behavior name="EndpointBehavior1">  
   <clientCredentials>  
    <clientCertificate findValue="cn=www.contoso.com"
        storeLocation="LocalMachine"  
        storeName="AuthRoot" x509FindType="FindBySubjectName" />  
    <serviceCertificate>  
     <defaultCertificate findValue="www.cohowinery.com"
                    storeLocation="LocalMachine"  
                    storeName="Root" x509FindType="FindByIssuerName" />  
    <authentication revocationMode="Online"  
                    trustedStoreLocation="LocalMachine" />  
    </serviceCertificate>  
   </clientCredentials>  
  </behavior>  
 </endpointBehaviors>  
</behaviors>  
```  
  
#### <a name="clientcertificate-element"></a><span data-ttu-id="b1c1c-182">\<Elemento> clientCertificate</span><span class="sxs-lookup"><span data-stu-id="b1c1c-182">\<clientCertificate> Element</span></span>  
 <span data-ttu-id="b1c1c-183">Questo elemento consente di impostare il certificato utilizzato per autenticare il client.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-183">Set the certificate used to authenticate the client with this element.</span></span> <span data-ttu-id="b1c1c-184">Per ulteriori informazioni, vedere [Procedura: specificare](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md)i valori delle credenziali client .</span><span class="sxs-lookup"><span data-stu-id="b1c1c-184">For more information, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="httpdigest"></a><span data-ttu-id="b1c1c-185">\<> httpDigest</span><span class="sxs-lookup"><span data-stu-id="b1c1c-185">\<httpDigest></span></span>  
 <span data-ttu-id="b1c1c-186">Questa funzionalità deve essere abilitata con Active Directory in Windows e Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-186">This feature must be enabled with Active Directory on Windows and Internet Information Services (IIS).</span></span> <span data-ttu-id="b1c1c-187">Per ulteriori informazioni, vedere [Autenticazione del digest in IIS 6.0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-187">For more information, see [Digest Authentication in IIS 6.0](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10)).</span></span>  
  
#### <a name="issuedtoken-element"></a><span data-ttu-id="b1c1c-188">\<elemento> issuedToken</span><span class="sxs-lookup"><span data-stu-id="b1c1c-188">\<issuedToken> Element</span></span>  
 <span data-ttu-id="b1c1c-189">Il [ \<>issuedToken](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) contiene gli elementi utilizzati per configurare un'autorità emittente locale di token o comportamenti utilizzati con un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-189">The [\<issuedToken>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) contains the elements used to configure a local issuer of tokens, or behaviors used with an security token service.</span></span> <span data-ttu-id="b1c1c-190">Per istruzioni sulla configurazione di un client per l'utilizzo di un'autorità emittente locale, vedere [Procedura: Configurare un'autorità emittente locale](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-190">For instructions on configuring a client to use a local issuer, see [How to: Configure a Local Issuer](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span></span>  
  
#### <a name="localissueraddress"></a><span data-ttu-id="b1c1c-191">\<> localIssuerAddress</span><span class="sxs-lookup"><span data-stu-id="b1c1c-191">\<localIssuerAddress></span></span>  
 <span data-ttu-id="b1c1c-192">Specifica l'indirizzo predefinito di un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-192">Specifies a default security token service address.</span></span> <span data-ttu-id="b1c1c-193">Viene utilizzato quando <xref:System.ServiceModel.WSFederationHttpBinding> l'oggetto non fornisce un URL per il servizio token di `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` sicurezza `null`o quando l'indirizzo dell'autorità emittente di un'associazione federata è o .</span><span class="sxs-lookup"><span data-stu-id="b1c1c-193">This is used when the <xref:System.ServiceModel.WSFederationHttpBinding> does not supply a URL for the security token service, or when the issuer address of a federated binding is `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` or `null`.</span></span> <span data-ttu-id="b1c1c-194">In questi casi le credenziali <xref:System.ServiceModel.Description.ClientCredentials> devono essere configurate con l'indirizzo dell'autorità emittente locale e con l'associazione da utilizzare per comunicare con tale autorità emittente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-194">In such cases, the <xref:System.ServiceModel.Description.ClientCredentials> must be configured with the address of the local issuer and the binding to use to communicate with that issuer.</span></span>  
  
#### <a name="issuerchannelbehaviors"></a><span data-ttu-id="b1c1c-195">\<issuerChannelBehaviors></span><span class="sxs-lookup"><span data-stu-id="b1c1c-195">\<issuerChannelBehaviors></span></span>  
 <span data-ttu-id="b1c1c-196">Utilizzare il [ \<>issuerChannelBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) per aggiungere i comportamenti client WCF utilizzati durante la comunicazione con un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-196">Use the [\<issuerChannelBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) to add WCF client behaviors used when communicating with a security token service.</span></span> <span data-ttu-id="b1c1c-197">Definire i comportamenti client nella sezione [ \<endpointBehaviors.Define](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) client behaviors in the endpointBehaviors>section.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-197">Define client behaviors in the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) section.</span></span> <span data-ttu-id="b1c1c-198">Per utilizzare un comportamento definito, aggiungere un <`add`> elemento all'elemento `<issuerChannelBehaviors>` con due attributi.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-198">To use a defined behavior, add an <`add`> element to the `<issuerChannelBehaviors>` element with two attributes.</span></span> <span data-ttu-id="b1c1c-199">Impostare l'indirizzo `issuerAddress` sull'URL del servizio token di sicurezza, quindi impostare l'attributo `behaviorConfiguration` sul nome del comportamento di endpoint definito, come mostrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-199">Set the `issuerAddress` to the URL of the security token service and set the `behaviorConfiguration` attribute to the name of the defined endpoint behavior, as shown in the following example.</span></span>  
  
```xml  
<clientCredentials>  
   <issuedToken>  
      <issuerChannelBehaviors>  
         <add issuerAddress="http://www.contoso.com"  
               behaviorConfiguration="clientBehavior1" />
      </issuerChannelBehaviors>  
   </issuedToken>  
</clientCredentials>
```  
  
#### <a name="servicecertificate-element"></a><span data-ttu-id="b1c1c-200">\<Elemento> serviceCertificate</span><span class="sxs-lookup"><span data-stu-id="b1c1c-200">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="b1c1c-201">Utilizzare questo elemento per controllare l'autenticazione dei certificati di servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-201">Use this element to control authentication of service certificates.</span></span>  
  
 <span data-ttu-id="b1c1c-202">L'elemento [ \<defaultCertificate>](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) può archiviare un singolo certificato utilizzato quando il servizio non specifica alcun certificato.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-202">The [\<defaultCertificate>](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) element can store a single certificate used when the service specifies no certificate.</span></span>  
  
 <span data-ttu-id="b1c1c-203">Utilizzare [ \<l'ambitoCertificati>](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) e [ \<aggiungere>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) per impostare i certificati di servizio associati a servizi specifici.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-203">Use the [\<scopedCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) and [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) to set service certificates that are associated with specific services.</span></span> <span data-ttu-id="b1c1c-204">L'elemento `<add>` contiene l'attributo `targetUri` utilizzato per associare il certificato al servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-204">The `<add>` element includes a `targetUri` attribute that is used to associate the certificate with the service.</span></span>  
  
 <span data-ttu-id="b1c1c-205">[ \<L'elemento>di autenticazione](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) specifica il livello di attendibilità utilizzato per autenticare i certificati.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-205">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element specifies the level of trust used to authenticate certificates.</span></span> <span data-ttu-id="b1c1c-206">Per impostazione predefinita, il livello è impostato su "ChainTrust". Tale impostazione prevede che ogni certificato appartenga a una gerarchia di certificati che termina in un'autorità di certificazione attendibile situata all'inizio della catena.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-206">By default, the level is set to "ChainTrust," which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain.</span></span> <span data-ttu-id="b1c1c-207">Si tratta della modalità più protetta.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-207">This is the most secure mode.</span></span> <span data-ttu-id="b1c1c-208">Il livello può inoltre essere impostato su "PeerOrChainTrust" per indicare che sia i certificati autocertificati (trust peer) che quelli appartenenti a una catena di trust sono ritenuti attendibili.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-208">You can also set the value to "PeerOrChainTrust", which specifies that self-issued certificates (peer trust) are accepted, as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="b1c1c-209">Poiché i certificati autocertificati non devono essere acquistati da un'autorità attendibile, questo livello viene usato in fase di sviluppo e di debug dei client e dei servizi.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-209">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="b1c1c-210">Quando si distribuisce un client è invece opportuno utilizzare il livello "ChainTrust".</span><span class="sxs-lookup"><span data-stu-id="b1c1c-210">When deploying a client, use the "ChainTrust" value instead.</span></span> <span data-ttu-id="b1c1c-211">Il livello può inoltre essere impostato su "Custom" o "None".</span><span class="sxs-lookup"><span data-stu-id="b1c1c-211">You can also set the value to "Custom" or "None."</span></span> <span data-ttu-id="b1c1c-212">Quando si imposta il livello "Custom" è necessario impostare anche l'attributo `CustomCertificateValidatorType` sull'assembly e sul tipo utilizzati per convalidare il certificato.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-212">To use the "Custom" value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="b1c1c-213">Per creare un validator personalizzato è necessario ereditare una classe dalla classe astratta <xref:System.IdentityModel.Selectors.X509CertificateValidator>.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-213">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span> <span data-ttu-id="b1c1c-214">Per ulteriori informazioni, vedere [Procedura: creare un servizio che utilizza una convalida del certificato personalizzato](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-214">For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span></span>  
  
 <span data-ttu-id="b1c1c-215">L'elemento [ \<>di autenticazione](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) include un `RevocationMode` attributo che specifica come i certificati vengono controllati per la revoca.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-215">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element includes a `RevocationMode` attribute that specifies how certificates are checked for revocation.</span></span> <span data-ttu-id="b1c1c-216">L'impostazione predefinita è "online" e indica che i certificati vengono contrassegnati automaticamente per la revoca.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-216">The default is "online", which indicates that certificates are automatically checked for revocation.</span></span> <span data-ttu-id="b1c1c-217">Per ulteriori informazioni, vedere [Utilizzo dei certificati](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-217">For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="serviceauthorization"></a><span data-ttu-id="b1c1c-218">ServiceAuthorization</span><span class="sxs-lookup"><span data-stu-id="b1c1c-218">ServiceAuthorization</span></span>  
 <span data-ttu-id="b1c1c-219">L'elemento [ \<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) contiene elementi che influiscono sull'autorizzazione, sui provider di ruoli personalizzati e sulla rappresentazione.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-219">The [\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) element contains elements that affect authorization, custom role providers, and impersonation.</span></span>  
  
 <span data-ttu-id="b1c1c-220">La classe <xref:System.Security.Permissions.PrincipalPermissionAttribute> viene applicata a un metodo di servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-220">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> class is applied to a service method.</span></span> <span data-ttu-id="b1c1c-221">Questo attributo specifica i gruppi di utenti da utilizzare quando si autorizza l'utilizzo di un metodo protetto.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-221">The attribute specifies the groups of users to use when authorizing use of a protected method.</span></span> <span data-ttu-id="b1c1c-222">Il valore predefinito è "UseWindowsGroups" e specifica che la ricerca degli ID che tentano di accedere a una determinata risorsa viene eseguita nei gruppi di Windows, ad esempio "Administrators" o "Users".</span><span class="sxs-lookup"><span data-stu-id="b1c1c-222">The default value is "UseWindowsGroups" and specifies that Windows groups, such as "Administrators" or "Users," are searched for an identity trying to access a resource.</span></span> <span data-ttu-id="b1c1c-223">È inoltre possibile specificare "UseAspNetRoles" per utilizzare un `system.web` provider di ruoli personalizzato configurato nell'elemento > <, come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-223">You can also specify "UseAspNetRoles" to use a custom role provider that is configured under the <`system.web` > element, as shown in the following code.</span></span>  
  
```xml  
<system.web>  
  <membership defaultProvider="SqlProvider"
   userIsOnlineTimeWindow="15">  
     <providers>  
       <clear />  
       <add
          name="SqlProvider"
          type="System.Web.Security.SqlMembershipProvider"
          connectionStringName="SqlConn"  
          applicationName="MembershipProvider"  
          enablePasswordRetrieval="false"  
          enablePasswordReset="false"  
          requiresQuestionAndAnswer="false"  
          requiresUniqueEmail="true"  
          passwordFormat="Hashed" />  
     </providers>  
   </membership>  
  <!-- Other configuration code not shown.-->  
</system.web>  
```  
  
 <span data-ttu-id="b1c1c-224">Nell'esempio di codice seguente viene illustrato l'uso di un elemento `roleProviderName` con l'attributo `principalPermissionMode`.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-224">The following code shows the `roleProviderName` used with the `principalPermissionMode` attribute.</span></span>  
  
```xml  
<behaviors>  
 <behavior name="ServiceBehaviour">
  <serviceAuthorization principalPermissionMode ="UseAspNetRoles"
                        roleProviderName ="SqlProvider" />  
</behavior>
   <!-- Other configuration code not shown. -->  
</behaviors>  
```  
  
## <a name="configuring-security-audits"></a><span data-ttu-id="b1c1c-225">Configurazione dei controlli di sicurezza</span><span class="sxs-lookup"><span data-stu-id="b1c1c-225">Configuring Security Audits</span></span>  
 <span data-ttu-id="b1c1c-226">Utilizzare il [ \<>serviceSecurityAudit](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) per specificare il log scritto e i tipi di eventi da registrare.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-226">Use the [\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) to specify the log written to, and what types of events to log.</span></span> <span data-ttu-id="b1c1c-227">Per ulteriori informazioni, vedere [Controllo](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-227">For more information, see [Auditing](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span></span>  
  
```xml  
<behaviors>
 <serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceSecurityAudit auditLogLocation="Application"
             suppressAuditFailure="true"  
             serviceAuthorizationAuditLevel="Success"
             messageAuthenticationAuditLevel="Success" />  
  </behavior>  
 </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="secure-metadata-exchange"></a><span data-ttu-id="b1c1c-228">Scambio protetto di metadati</span><span class="sxs-lookup"><span data-stu-id="b1c1c-228">Secure Metadata Exchange</span></span>  
 <span data-ttu-id="b1c1c-229">L'esportazione e l'invio di metadati ai client risulta particolarmente utile per gli sviluppatori di servizi e client, in quanto consente il download di codice client e di configurazione.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-229">Exporting metadata to clients is convenient for service and client developers, as it enables downloads of configuration and client code.</span></span> <span data-ttu-id="b1c1c-230">Per ridurre l'esposizione di un servizio agli utenti malintenzionati, questo trasferimento può essere protetto mediante il meccanismo HTTPS (ovvero SSL su HTTP).</span><span class="sxs-lookup"><span data-stu-id="b1c1c-230">To reduce the exposure of a service to malicious users, it is possible to secure the transfer using the SSL over HTTP (HTTPS) mechanism.</span></span> <span data-ttu-id="b1c1c-231">A tale scopo, è anzitutto necessario associare un certificato X.509 adatto a una porta specifica del computer che ospita il servizio.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-231">To do so, you must first bind a suitable X.509 certificate to a specific port on the computer that is hosting the service.</span></span> <span data-ttu-id="b1c1c-232">Per ulteriori informazioni, vedere [Utilizzo dei certificati](../../../../docs/framework/wcf/feature-details/working-with-certificates.md). In secondo luogo, aggiungere un `HttpsGetEnabled` `true` [ \<>serviceMetadata](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) alla configurazione del servizio e impostare l'attributo su .</span><span class="sxs-lookup"><span data-stu-id="b1c1c-232">(For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).) Second, add a [\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) to the service configuration and set the `HttpsGetEnabled` attribute to `true`.</span></span> <span data-ttu-id="b1c1c-233">Impostare infine l'attributo `HttpsGetUrl` sull'URL dell'endpoint dei metadati del servizio, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="b1c1c-233">Finally, set the `HttpsGetUrl` attribute to the URL of the service metadata endpoint, as shown in the following example.</span></span>  
  
```xml  
<behaviors>  
 <serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceMetadata httpsGetEnabled="true"
     httpsGetUrl="https://myComputerName/myEndpoint" />  
  </behavior>  
 </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="see-also"></a><span data-ttu-id="b1c1c-234">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b1c1c-234">See also</span></span>

- [<span data-ttu-id="b1c1c-235">Controllo</span><span class="sxs-lookup"><span data-stu-id="b1c1c-235">Auditing</span></span>](../../../../docs/framework/wcf/feature-details/auditing-security-events.md)
- <span data-ttu-id="b1c1c-236">[Sicurezza e protezione](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="b1c1c-236">[Security Model for Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677202(v=azure.10))</span></span>
