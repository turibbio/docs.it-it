---
title: Funzionalità offerte da System.Transactions
description: Esaminare le funzionalità fornite dallo spazio dei nomi System. Transactions in .NET per scrivere un'applicazione di transazione e un Resource Manager personalizzati.
ms.date: 03/30/2017
ms.assetid: e458cef9-63b5-4401-b448-1536dcd9d9e5
ms.openlocfilehash: 0278e9248305572c6156c6500f1fe51a8b3f3338
ms.sourcegitcommit: 6219b1e1feccb16d88656444210fed3297f5611e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141862"
---
# <a name="features-provided-by-systemtransactions"></a><span data-ttu-id="24c40-103">Funzionalità offerte da System.Transactions</span><span class="sxs-lookup"><span data-stu-id="24c40-103">Features Provided by System.Transactions</span></span>
<span data-ttu-id="24c40-104">Questa sezione descrive come utilizzare le funzionalità fornite dallo spazio dei nomi <xref:System.Transactions> per scrivere applicazioni transazionali e gestori di risorse personalizzati.</span><span class="sxs-lookup"><span data-stu-id="24c40-104">This section describes how you can use the features provided by the <xref:System.Transactions> namespace to write your own transactional application and resource manager.</span></span> <span data-ttu-id="24c40-105">In particolare, questa sezione descrive come creare una transazione (locale o distribuita) e come integrarvi una o più risorse.</span><span class="sxs-lookup"><span data-stu-id="24c40-105">Specifically, this section covers how to create and participate in a transaction (local or distributed) with one or multiple participants.</span></span>  
  
## <a name="overview-of-systemtransactions"></a><span data-ttu-id="24c40-106">Panoramica su System.Transactions</span><span class="sxs-lookup"><span data-stu-id="24c40-106">Overview of System.Transactions</span></span>  
 <span data-ttu-id="24c40-107">Grazie al supporto delle transazioni create in SQL Server, ADO.NET, MSMQ e Microsoft Distributed Transaction Coordinator (MSDTC), l'infrastruttura fornita dalle classi dello spazio dei nomi <xref:System.Transactions> rende la programmazione transazionale semplice ed efficiente.</span><span class="sxs-lookup"><span data-stu-id="24c40-107">The infrastructure provided by the classes in the <xref:System.Transactions> namespace makes transactional programming simple and efficient by supporting transactions initiated in SQL Server, ADO.NET, Message Queuing (MSMQ), and the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="24c40-108">Lo spazio dei nomi <xref:System.Transactions> fornisce sia un modello di programmazione esplicito basato sulla classe <xref:System.Transactions.Transaction> sia un modello di programmazione implicito che utilizza la classe <xref:System.Transactions.TransactionScope>, in cui le transazioni vengono gestite automaticamente dall'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="24c40-108">The <xref:System.Transactions> namespace provides both an explicit programming model based on the <xref:System.Transactions.Transaction> class, as well as an implicit programming model using the <xref:System.Transactions.TransactionScope> class, in which transactions are automatically managed by the infrastructure.</span></span> <span data-ttu-id="24c40-109">Per ulteriori informazioni su come creare un'applicazione transazionale utilizzando questi due modelli, vedere [scrittura di un'applicazione transazionale](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-109">For more information on how to create a transactional application using these two models, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
 <span data-ttu-id="24c40-110">Lo spazio dei nomi <xref:System.Transactions> fornisce inoltre i tipi per implementare un gestore di risorse,</span><span class="sxs-lookup"><span data-stu-id="24c40-110">The <xref:System.Transactions> namespace also provides types for you to implement a resource manager.</span></span> <span data-ttu-id="24c40-111">ovvero un'applicazione che gestisce i dati permanenti o volatili utilizzati in una transazione e che collabora con la gestione transazioni per garantire atomicità e isolamento all'applicazione che utilizza tale transazione.</span><span class="sxs-lookup"><span data-stu-id="24c40-111">A resource manager manages durable or volatile data used in a transaction, and work in cooperation with the transaction manager to provide the application with a guarantee of atomicity and isolation.</span></span> <span data-ttu-id="24c40-112">La gestione transazioni fornita dall'infrastruttura <xref:System.Transactions> supporta le transazioni che coinvolgono più risorse volatili o una sola risorsa durevole.</span><span class="sxs-lookup"><span data-stu-id="24c40-112">The transaction manager that is provided by the <xref:System.Transactions> infrastructure supports transactions involving multiple volatile resources or a single durable resource.</span></span> <span data-ttu-id="24c40-113">Per ulteriori informazioni sull'implementazione di un gestore di risorse, vedere [implementazione di un gestione risorse](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-113">For more information on implementing a resource manager, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span>  
  
 <span data-ttu-id="24c40-114">Inoltre, quando un gestore di risorse durevole aggiuntivo si integra in una transazione, la gestione transazioni collabora con una gestione transazioni basata su disco quale DTC allo scopo di eseguire in modo trasparente l'escalation delle transazioni da locali a distribuite.</span><span class="sxs-lookup"><span data-stu-id="24c40-114">The transaction manager also transparently escalates local transactions to distributed transactions by coordinating with a disk-based transaction manager like the DTC, when an additional durable resource manager enlists itself with a transaction.</span></span> <span data-ttu-id="24c40-115">Di base l'infrastruttura <xref:System.Transactions> utilizza due meccanismi per ottimizzare le prestazioni:</span><span class="sxs-lookup"><span data-stu-id="24c40-115">There are two key ways that the <xref:System.Transactions> infrastructure provides enhanced performance.</span></span>  
  
- <span data-ttu-id="24c40-116">Escalation dinamica, che garantisce che l'infrastruttura <xref:System.Transactions> ricorra al gestore MSDTC solo quando una transazione coinvolge più risorse distribuite.</span><span class="sxs-lookup"><span data-stu-id="24c40-116">Dynamic Escalation, which ensures that the <xref:System.Transactions> infrastructure only engages the MSDTC when a transaction spans across multiple distributed resources.</span></span> <span data-ttu-id="24c40-117">Per ulteriori informazioni sull'escalation dinamica,</span><span class="sxs-lookup"><span data-stu-id="24c40-117">For more information about dynamic escalation.</span></span> <span data-ttu-id="24c40-118">vedere l'argomento relativo all' [escalation della gestione transazioni](transaction-management-escalation.md) .</span><span class="sxs-lookup"><span data-stu-id="24c40-118">see [Transaction Management Escalation](transaction-management-escalation.md) topic.</span></span>  
  
- <span data-ttu-id="24c40-119">PSPE, che consente a una risorsa, ad esempio un database, di assumere la proprietà della transazione se è l'unica entità a parteciparvi.</span><span class="sxs-lookup"><span data-stu-id="24c40-119">Promotable Enlistments, which allows a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction.</span></span> <span data-ttu-id="24c40-120">In seguito, se necessario, l'infrastruttura <xref:System.Transactions> può comunque eseguire l'escalation della gestione della transazione a MSDTC.</span><span class="sxs-lookup"><span data-stu-id="24c40-120">Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the management of the transaction to the MSDTC.</span></span> <span data-ttu-id="24c40-121">Ciò consente di ridurre ulteriormente le probabilità di utilizzo del gestore MSDTC.</span><span class="sxs-lookup"><span data-stu-id="24c40-121">This further reduces the chance of using the MSDTC.</span></span> <span data-ttu-id="24c40-122">Gli elenchi promuovibili sono analizzati in modo approfondito nell'argomento[Ottimizzazione mediante commit a fase singola e notifica monofase promuovibile](optimization-spc-and-promotable-spn.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-122">Promotable Enlistments are covered in depth in the topic[Optimization using Single Phase Commit and Promotable Single Phase Notification](optimization-spc-and-promotable-spn.md).</span></span>  
  
 <span data-ttu-id="24c40-123">Lo spazio dei nomi <xref:System.Transactions> definisce tre livelli di attendibilità per restringere l'accesso ai tipi di risorse che espone: AllowPartiallyTrustedCallers, DistributedTransactionPermission e FullTrust.</span><span class="sxs-lookup"><span data-stu-id="24c40-123">The <xref:System.Transactions> namespace defines three levels of trust - AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission(DTP) and full trust - that restrict access to the types of resources it exposes.</span></span> <span data-ttu-id="24c40-124">Per altre informazioni sui diversi livelli di attendibilità, vedere [livelli di attendibilità per la sicurezza nell'accesso alle risorse](security-trust-levels-in-accessing-resources.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-124">For more information on the various trust levels, see [Security Trust Levels in Accessing Resources](security-trust-levels-in-accessing-resources.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="24c40-125">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="24c40-125">In this section</span></span>  
  
### <a name="writing-a-transactional-application"></a><span data-ttu-id="24c40-126">Scrittura di un'applicazione transazionale</span><span class="sxs-lookup"><span data-stu-id="24c40-126">Writing A Transactional Application</span></span>  
 <span data-ttu-id="24c40-127">Lo spazio dei nomi <xref:System.Transactions> offre due modelli per creare le applicazioni di transazione.</span><span class="sxs-lookup"><span data-stu-id="24c40-127">The <xref:System.Transactions> namespace provides two models for creating transactional applications.</span></span> <span data-ttu-id="24c40-128">L' [implementazione di una transazione implicita utilizzando l'ambito di transazione](implementing-an-implicit-transaction-using-transaction-scope.md) descrive la modalità con cui lo <xref:System.Transactions> spazio dei nomi supporta la creazione di transazioni implicite <xref:System.Transactions.TransactionScope></span><span class="sxs-lookup"><span data-stu-id="24c40-128">[Implementing an Implicit Transaction using Transaction Scope](implementing-an-implicit-transaction-using-transaction-scope.md) describes how the <xref:System.Transactions> namespace supports creating implicit transactions using the <xref:System.Transactions.TransactionScope> class.</span></span>  
  
 <span data-ttu-id="24c40-129">L' [implementazione di una transazione esplicita tramite CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) descrive come lo <xref:System.Transactions> spazio dei nomi supporta la creazione di transazioni esplicite mediante la <xref:System.Transactions.CommittableTransaction> classe.</span><span class="sxs-lookup"><span data-stu-id="24c40-129">[Implementing an Explicit Transaction using CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) describes how the <xref:System.Transactions> namespace supports creating explicit transactions using the <xref:System.Transactions.CommittableTransaction> class.</span></span>  
  
 <span data-ttu-id="24c40-130">Per ulteriori argomenti relativi alla scrittura di un'applicazione transazionale, vedere [scrittura di un'applicazione transazionale](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-130">For additional topics covering writing a transactional application, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
### <a name="implementing-a-resource-manager"></a><span data-ttu-id="24c40-131">Implementazione di un gestore di risorse</span><span class="sxs-lookup"><span data-stu-id="24c40-131">Implementing A Resource Manager</span></span>  
 <span data-ttu-id="24c40-132">Per implementare un gestore di risorse che può partecipare a una transazione, vedere [implementazione di un gestione risorse](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="24c40-132">To implement a resource manager that can participate in a transaction, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span> <span data-ttu-id="24c40-133">Questa sezione descrive l'integrazione di una risorsa, il commit di una transazione, il ripristino in caso di errore e i metodi di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="24c40-133">This section covers the enlistment of a resource, committing a transaction, recovery after failure, and optimization best practices.</span></span>
