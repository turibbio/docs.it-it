---
title: Cenni preliminari sulle finestre di dialogo
description: Informazioni sulle varie finestre di dialogo di Windows Foundation Presentation (WPF) che è possibile utilizzare per raccogliere e visualizzare informazioni.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- modeless dialog boxes [WPF]
- dialog boxes [WPF]
- message boxes [WPF]
- modal dialog boxes [WPF]
ms.assetid: 0d23d544-a393-4a02-a3aa-d8cd5d3d6511
ms.openlocfilehash: 822604dd694f2f6260496872fd7a1a8440a62535
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2020
ms.locfileid: "85618142"
---
# <a name="dialog-boxes-overview"></a><span data-ttu-id="1ed28-103">Cenni preliminari sulle finestre di dialogo</span><span class="sxs-lookup"><span data-stu-id="1ed28-103">Dialog boxes overview</span></span>
<span data-ttu-id="1ed28-104">Le applicazioni autonome in genere dispongono di una finestra principale che Visualizza i dati principali su cui opera l'applicazione ed espone la funzionalità per elaborare i dati tramite [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] meccanismi quali le barre dei menu, le barre degli strumenti e le barre di stato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-104">Standalone applications typically have a main window that both displays the main data over which the application operates and exposes the functionality to process that data through [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mechanisms like menu bars, tool bars, and status bars.</span></span> <span data-ttu-id="1ed28-105">In un'applicazione più complessa sono inoltre disponibili finestre aggiuntive per l'esecuzione delle operazioni riportate di seguito:</span><span class="sxs-lookup"><span data-stu-id="1ed28-105">A non-trivial application may also display additional windows to do the following:</span></span>  
  
- <span data-ttu-id="1ed28-106">Visualizzazione di informazioni specifiche agli utenti.</span><span class="sxs-lookup"><span data-stu-id="1ed28-106">Display specific information to users.</span></span>  
  
- <span data-ttu-id="1ed28-107">Raccolta delle informazioni immesse dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="1ed28-107">Gather information from users.</span></span>  
  
- <span data-ttu-id="1ed28-108">Visualizzazione e raccolta di informazioni.</span><span class="sxs-lookup"><span data-stu-id="1ed28-108">Both display and gather information.</span></span>  
  
 <span data-ttu-id="1ed28-109">Questi tipi di finestre sono noti come finestre di *dialogo*e sono disponibili due tipi: modale e non modale.</span><span class="sxs-lookup"><span data-stu-id="1ed28-109">These types of windows are known as *dialog boxes*, and there are two types: modal and modeless.</span></span>  
  
 <span data-ttu-id="1ed28-110">Una finestra di dialogo *modale* viene visualizzata da una funzione quando la funzione richiede dati aggiuntivi da un utente per continuare.</span><span class="sxs-lookup"><span data-stu-id="1ed28-110">A *modal* dialog box is displayed by a function when the function needs additional data from a user to continue.</span></span> <span data-ttu-id="1ed28-111">Poiché la raccolta dei dati da parte della funzione dipende dalla finestra di dialogo modale, finché quest'ultima rimane aperta l'utente non potrà attivare altre finestre nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-111">Because the function depends on the modal dialog box to gather data, the modal dialog box also prevents a user from activating other windows in the application while it remains open.</span></span> <span data-ttu-id="1ed28-112">Nella maggior parte dei casi, una finestra di dialogo modale consente a un utente di segnalare una volta terminata la finestra di dialogo modale premendo un pulsante **OK** o **Annulla** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-112">In most cases, a modal dialog box allows a user to signal when they have finished with the modal dialog box by pressing either an **OK** or **Cancel** button.</span></span> <span data-ttu-id="1ed28-113">Premendo il pulsante **OK** si indica che un utente ha immesso i dati e desidera che la funzione continui l'elaborazione con tali dati.</span><span class="sxs-lookup"><span data-stu-id="1ed28-113">Pressing the **OK** button indicates that a user has entered data and wants the function to continue processing with that data.</span></span> <span data-ttu-id="1ed28-114">La pressione del pulsante **Annulla** indica che un utente vuole arrestare completamente l'esecuzione della funzione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-114">Pressing the **Cancel** button indicates that a user wants to stop the function from executing altogether.</span></span> <span data-ttu-id="1ed28-115">Gli esempi più comuni di finestre di dialogo modali sono dati dalle finestre di apertura, salvataggio e stampa dei dati.</span><span class="sxs-lookup"><span data-stu-id="1ed28-115">The most common examples of modal dialog boxes are shown to open, save, and print data.</span></span>  
  
 <span data-ttu-id="1ed28-116">Una finestra di dialogo non *modale* , d'altra parte, non impedisce a un utente di attivare altre finestre mentre è aperta.</span><span class="sxs-lookup"><span data-stu-id="1ed28-116">A *modeless* dialog box, on the other hand, does not prevent a user from activating other windows while it is open.</span></span> <span data-ttu-id="1ed28-117">Ad esempio, se un utente desidera cercare occorrenze di una determinata parola in un documento, dalla finestra principale verrà spesso aperta una finestra di dialogo in cui l'utente dovrà immettere la parola che desidera cercare.</span><span class="sxs-lookup"><span data-stu-id="1ed28-117">For example, if a user wants to find occurrences of a particular word in a document, a main window will often open a dialog box to ask a user what word they are looking for.</span></span> <span data-ttu-id="1ed28-118">Poiché la ricerca di una parola non impedisce all'utente di modificare il documento, la finestra di dialogo non deve essere modale.</span><span class="sxs-lookup"><span data-stu-id="1ed28-118">Since finding a word doesn't prevent a user from editing the document, however, the dialog box doesn't need to be modal.</span></span> <span data-ttu-id="1ed28-119">Una finestra di dialogo non modale fornisce almeno un pulsante **Chiudi** per chiudere la finestra di dialogo e può fornire pulsanti aggiuntivi per eseguire funzioni specifiche, ad esempio un pulsante **Trova successivo** per trovare la parola successiva corrispondente ai criteri di ricerca di una ricerca di parole.</span><span class="sxs-lookup"><span data-stu-id="1ed28-119">A modeless dialog box at least provides a **Close** button to close the dialog box, and may provide additional buttons to execute specific functions, such as a **Find Next** button to find the next word that matches the find criteria of a word search.</span></span>  
  
 <span data-ttu-id="1ed28-120">Windows Presentation Foundation (WPF) consente di creare diversi tipi di finestre di dialogo, incluse le finestre di messaggio, le finestre di dialogo comuni e le finestre di dialogo personalizzate.</span><span class="sxs-lookup"><span data-stu-id="1ed28-120">Windows Presentation Foundation (WPF) allows you to create several types of dialog boxes, including message boxes, common dialog boxes, and custom dialog boxes.</span></span> <span data-ttu-id="1ed28-121">In questo argomento vengono illustrati i singoli e l' [esempio della finestra di dialogo](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox) fornisce esempi corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="1ed28-121">This topic discusses each, and the [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox) provides matching examples.</span></span>  

<a name="Message_Boxes"></a>
## <a name="message-boxes"></a><span data-ttu-id="1ed28-122">Finestre di messaggio</span><span class="sxs-lookup"><span data-stu-id="1ed28-122">Message boxes</span></span>  
 <span data-ttu-id="1ed28-123">Una finestra di *messaggio* è una finestra di dialogo che può essere utilizzata per visualizzare le informazioni testuali e consentire agli utenti di prendere decisioni con i pulsanti.</span><span class="sxs-lookup"><span data-stu-id="1ed28-123">A *message box* is a dialog box that can be used to display textual information and to allow users to make decisions with buttons.</span></span> <span data-ttu-id="1ed28-124">Di seguito è illustrata una finestra di messaggio in cui vengono visualizzate informazioni di testo, viene posta una domanda e sono disponibili tre pulsanti per fornire una risposta.</span><span class="sxs-lookup"><span data-stu-id="1ed28-124">The following figure shows a message box that displays textual information, asks a question, and provides the user with three buttons to answer the question.</span></span>  
  
 ![Finestra di dialogo elaboratore di testo che chiede se si desidera salvare le modifiche apportate al documento prima che l'applicazione venga chiusa.](./media/dialog-boxes-overview/word-processor-dialog.png)  
  
 <span data-ttu-id="1ed28-126">Per creare una finestra di messaggio, usare la <xref:System.Windows.MessageBox> classe.</span><span class="sxs-lookup"><span data-stu-id="1ed28-126">To create a message box, you use the <xref:System.Windows.MessageBox> class.</span></span> <span data-ttu-id="1ed28-127"><xref:System.Windows.MessageBox>consente di configurare il testo, il titolo, l'icona e i pulsanti della finestra di messaggio usando un codice simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-127"><xref:System.Windows.MessageBox> lets you configure the message box text, title, icon, and buttons, using code like the following.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxconfigurecodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxconfigurecodebehind)]  
  
 <span data-ttu-id="1ed28-128">Per visualizzare una finestra di messaggio, chiamare il `static` <xref:System.Windows.MessageBox.Show%2A> metodo, come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-128">To show a message box, you call the `static`<xref:System.Windows.MessageBox.Show%2A> method, as demonstrated in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowcodebehind)]  
  
 <span data-ttu-id="1ed28-129">Quando il codice per la visualizzazione di una finestra di messaggio deve rilevare ed elaborare la decisione dell'utente (quale pulsante è stato premuto), può analizzare il risultato della finestra di messaggio, come illustrato nel codice riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1ed28-129">When code that shows a message box needs to detect and process the user's decision (which button was pressed), the code can inspect the message box result, as shown in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowandresultcodebehind1)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowandresultcodebehind1)]  
  
 <span data-ttu-id="1ed28-130">Per ulteriori informazioni sull'utilizzo delle finestre di messaggio, vedere l'esempio <xref:System.Windows.MessageBox> [MessageBox](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/MessageBox)e la finestra di [dialogo](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox).</span><span class="sxs-lookup"><span data-stu-id="1ed28-130">For more information on using message boxes, see <xref:System.Windows.MessageBox>, [MessageBox Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/MessageBox), and [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox).</span></span>  
  
 <span data-ttu-id="1ed28-131">Sebbene <xref:System.Windows.MessageBox> possa offrire una semplice esperienza utente della finestra di dialogo, il vantaggio dell'uso di <xref:System.Windows.MessageBox> è che è l'unico tipo di finestra che può essere visualizzato dalle applicazioni eseguite in una sandbox di sicurezza con attendibilità parziale (vedere [sicurezza](../security-wpf.md)), ad esempio le applicazioni browser XAML (XBAPs).</span><span class="sxs-lookup"><span data-stu-id="1ed28-131">Although <xref:System.Windows.MessageBox> may offer a simple dialog box user experience, the advantage of using <xref:System.Windows.MessageBox> is that is the only type of window that can be shown by applications that run within a partial trust security sandbox (see [Security](../security-wpf.md)), such as XAML browser applications (XBAPs).</span></span>  
  
 <span data-ttu-id="1ed28-132">Nella maggior parte delle finestre di dialogo vengono visualizzati e raggruppati dati più complessi del risultato di una finestra di messaggio, ad esempio testo, selezione (caselle di controllo), selezione a esclusione reciproca (pulsanti di opzione) e selezione in elenchi (caselle di riepilogo, caselle combinate, elenchi a discesa).</span><span class="sxs-lookup"><span data-stu-id="1ed28-132">Most dialog boxes display and gather more complex data than the result of a message box, including text, selection (check boxes), mutually exclusive selection (radio buttons), and list selection (list boxes, combo boxes, drop-down list boxes).</span></span> <span data-ttu-id="1ed28-133">Per queste, Windows Presentation Foundation (WPF) fornisce diverse finestre di dialogo comuni e consente di creare finestre di dialogo personalizzate, sebbene l'utilizzo di sia limitato alle applicazioni in esecuzione con attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="1ed28-133">For these, Windows Presentation Foundation (WPF) provides several common dialog boxes and allows you to create your own dialog boxes, although the use of either is limited to applications running with full trust.</span></span>  
  
<a name="Common_Dialogs"></a>
## <a name="common-dialog-boxes"></a><span data-ttu-id="1ed28-134">Finestre di dialogo comuni</span><span class="sxs-lookup"><span data-stu-id="1ed28-134">Common dialog boxes</span></span>  
 <span data-ttu-id="1ed28-135">Windows implementa diverse finestre di dialogo riutilizzabili comuni a tutte le applicazioni, incluse le finestre di dialogo per l'apertura di file, il salvataggio di file e la stampa.</span><span class="sxs-lookup"><span data-stu-id="1ed28-135">Windows implements a variety of reusable dialog boxes that are common to all applications, including dialog boxes for opening files, saving files, and printing.</span></span> <span data-ttu-id="1ed28-136">Poiché queste finestre di dialogo sono implementate dal sistema operativo, possono essere condivise da tutte le applicazioni eseguite nel sistema operativo, con notevoli vantaggi in termini della coerenza di utilizzo: se un utente utilizza con frequenza una finestra di dialogo basata sul sistema operativo in un'applicazione, non dovrà imparare a utilizzare la stessa finestra in altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="1ed28-136">Since these dialog boxes are implemented by the operating system, they can be shared among all the applications that run on the operating system, which helps user experience consistency; when users are familiar with the use of an operating system-provided dialog box in one application, they don't need to learn how to use that dialog box in other applications.</span></span> <span data-ttu-id="1ed28-137">Poiché queste finestre di dialogo sono disponibili per tutte le applicazioni e perché contribuiscono a garantire un'esperienza utente coerente, sono note come *finestre di dialogo comuni*.</span><span class="sxs-lookup"><span data-stu-id="1ed28-137">Because these dialog boxes are available to all applications and because they help provide a consistent user experience, they are known as *common dialog boxes*.</span></span>  
  
 <span data-ttu-id="1ed28-138">Windows Presentation Foundation (WPF) incapsula le finestre di dialogo Apri file, Salva file e stampa comuni e le espone come classi gestite da usare nelle applicazioni autonome.</span><span class="sxs-lookup"><span data-stu-id="1ed28-138">Windows Presentation Foundation (WPF) encapsulates the open file, save file, and print common dialog boxes and exposes them as managed classes for you to use in standalone applications.</span></span> <span data-ttu-id="1ed28-139">Questo argomento fornisce alcuni cenni preliminari su ognuna.</span><span class="sxs-lookup"><span data-stu-id="1ed28-139">This topic provides a brief overview of each.</span></span>  
  
<a name="Open_File_Dialog"></a>
### <a name="open-file-dialog"></a><span data-ttu-id="1ed28-140">Finestra di dialogo Apri file</span><span class="sxs-lookup"><span data-stu-id="1ed28-140">Open File dialog</span></span>  
 <span data-ttu-id="1ed28-141">La finestra di dialogo Apri illustrata di seguito viene utilizzata dalla funzionalità di apertura file per recuperare il nome di un file da aprire.</span><span class="sxs-lookup"><span data-stu-id="1ed28-141">The open file dialog box, shown in the following figure, is used by file opening functionality to retrieve the name of a file to open.</span></span>  
  
 ![Una finestra di dialogo aperta che mostra la posizione in cui recuperare il file.](./media/dialog-boxes-overview/open-file-dialog-box.png)  
  
 <span data-ttu-id="1ed28-143">La finestra di dialogo file aperto comune viene implementata come <xref:Microsoft.Win32.OpenFileDialog> classe e si trova nello <xref:Microsoft.Win32> spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-143">The common open file dialog box is implemented as the <xref:Microsoft.Win32.OpenFileDialog> class and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="1ed28-144">Il codice seguente illustra come creare, configurare e visualizzare questa finestra di dialogo, nonché come elaborare il relativo risultato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-144">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#openfiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#openfiledialogboxcodebehind)]  
  
 <span data-ttu-id="1ed28-145">Per ulteriori informazioni sulla finestra di dialogo Apri file, vedere <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-145">For more information on the open file dialog box, see <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ed28-146"><xref:Microsoft.Win32.OpenFileDialog>può essere usato per recuperare in modo sicuro i nomi di file dalle applicazioni eseguite con attendibilità parziale (vedere [sicurezza](../security-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="1ed28-146"><xref:Microsoft.Win32.OpenFileDialog> can be used to safely retrieve file names by applications running with partial trust (see [Security](../security-wpf.md)).</span></span>  
  
<a name="Save_File_Dialog"></a>
### <a name="save-file-dialog-box"></a><span data-ttu-id="1ed28-147">Salva file (finestra di dialogo)</span><span class="sxs-lookup"><span data-stu-id="1ed28-147">Save File dialog box</span></span>  
 <span data-ttu-id="1ed28-148">La finestra di dialogo Salva con nome illustrata di seguito viene utilizzata dalla funzionalità di salvataggio file per recuperare il nome di un file da salvare.</span><span class="sxs-lookup"><span data-stu-id="1ed28-148">The save file dialog box, shown in the following figure, is used by file saving functionality to retrieve the name of a file to save.</span></span>  
  
 ![Finestra di dialogo Salva con nome che mostra la posizione in cui salvare il file.](./media/dialog-boxes-overview/save-file-dialog-box.png)  
  
 <span data-ttu-id="1ed28-150">La finestra di dialogo Salva file comune viene implementata come <xref:Microsoft.Win32.SaveFileDialog> classe e si trova nello <xref:Microsoft.Win32> spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-150">The common save file dialog box is implemented as the <xref:Microsoft.Win32.SaveFileDialog> class, and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="1ed28-151">Il codice seguente illustra come creare, configurare e visualizzare questa finestra di dialogo, nonché come elaborare il relativo risultato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-151">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#savefiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#savefiledialogboxcodebehind)]  
  
 <span data-ttu-id="1ed28-152">Per ulteriori informazioni sulla finestra di dialogo Salva file, vedere <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-152">For more information on the save file dialog box, see <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>.</span></span>  
  
<a name="Print_Dialog"></a>
### <a name="print-dialog-box"></a><span data-ttu-id="1ed28-153">Finestra di dialogo Stampa</span><span class="sxs-lookup"><span data-stu-id="1ed28-153">Print dialog box</span></span>

<span data-ttu-id="1ed28-154">La finestra di dialogo Stampa illustrata di seguito viene utilizzata dalla funzionalità di stampa per la scelta e la configurazione della stampante su cui stampare dati.</span><span class="sxs-lookup"><span data-stu-id="1ed28-154">The print dialog box, shown in the following figure, is used by printing functionality to choose and configure the printer that a user would like to print data to.</span></span>  
  
![Screenshot che mostra una finestra di dialogo Stampa.](./media/dialog-boxes-overview/print-data-dialog-box.png)  
  
<span data-ttu-id="1ed28-156">La finestra di dialogo Stampa comune viene implementata come <xref:System.Windows.Controls.PrintDialog> classe e si trova nello <xref:System.Windows.Controls> spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-156">The common print dialog box is implemented as the <xref:System.Windows.Controls.PrintDialog> class, and is located in the <xref:System.Windows.Controls> namespace.</span></span> <span data-ttu-id="1ed28-157">Il codice seguente illustra come creare, configurare e visualizzare una finestra di dialogo di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-157">The following code shows how to create, configure, and show one.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#printdialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#printdialogboxcodebehind)]  
  
 <span data-ttu-id="1ed28-158">Per ulteriori informazioni sulla finestra di dialogo Stampa, vedere <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-158">For more information on the print dialog box, see <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1ed28-159">Per informazioni dettagliate sulla stampa in WPF, vedere [Cenni preliminari sulla stampa](../advanced/printing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1ed28-159">For detailed discussion of printing in WPF, see [Printing Overview](../advanced/printing-overview.md).</span></span>  
  
<a name="Custom_Dialog_Boxes"></a>
## <a name="custom-dialog-boxes"></a><span data-ttu-id="1ed28-160">Finestre di dialogo personalizzate</span><span class="sxs-lookup"><span data-stu-id="1ed28-160">Custom dialog boxes</span></span>

<span data-ttu-id="1ed28-161">Sebbene le finestre di dialogo comuni siano utili e debbano essere utilizzate quando possibile, non supportano i requisiti delle finestre di dialogo specifiche di vari domini.</span><span class="sxs-lookup"><span data-stu-id="1ed28-161">While common dialog boxes are useful, and should be used when possible, they do not support the requirements of domain-specific dialog boxes.</span></span> <span data-ttu-id="1ed28-162">In questi casi, è necessario creare finestre di dialogo personalizzate.</span><span class="sxs-lookup"><span data-stu-id="1ed28-162">In these cases, you need to create your own dialog boxes.</span></span> <span data-ttu-id="1ed28-163">Come verrà illustrato in seguito, una finestra di dialogo è una finestra con particolari comportamenti.</span><span class="sxs-lookup"><span data-stu-id="1ed28-163">As we'll see, a dialog box is a window with special behaviors.</span></span> <span data-ttu-id="1ed28-164"><xref:System.Windows.Window>implementa tali comportamenti e, di conseguenza, viene utilizzato <xref:System.Windows.Window> per creare finestre di dialogo modali e non modali personalizzate.</span><span class="sxs-lookup"><span data-stu-id="1ed28-164"><xref:System.Windows.Window> implements those behaviors and, consequently, you use <xref:System.Windows.Window> to create custom modal and modeless dialog boxes.</span></span>  
  
<a name="Creating_a_Modal_Custom_Dialog_Box"></a>
### <a name="creating-a-modal-custom-dialog-box"></a><span data-ttu-id="1ed28-165">Creazione di una finestra di dialogo modale personalizzata</span><span class="sxs-lookup"><span data-stu-id="1ed28-165">Creating a modal custom dialog box</span></span>

<span data-ttu-id="1ed28-166">In questo argomento viene illustrato come utilizzare <xref:System.Windows.Window> per creare un'implementazione tipica della finestra di dialogo modale, utilizzando la finestra di `Margins` dialogo come esempio (vedere l' [esempio](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)di finestra di dialogo).</span><span class="sxs-lookup"><span data-stu-id="1ed28-166">This topic shows how to use <xref:System.Windows.Window> to create a typical modal dialog box implementation, using the `Margins` dialog box as an example (see [Dialog Box Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)).</span></span> <span data-ttu-id="1ed28-167">La finestra `Margins` di dialogo è illustrata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-167">The `Margins` dialog box is shown in the following figure.</span></span>  
  
 ![Finestra di dialogo margini con campi per definire il margine sinistro, il margine superiore, il margine destro e il margine inferiore.](./media/dialog-boxes-overview/margin-size-dialog-box.png)  
  
#### <a name="configuring-a-modal-dialog-box"></a><span data-ttu-id="1ed28-169">Configurazione di una finestra di dialogo modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-169">Configuring a modal dialog box</span></span>

<span data-ttu-id="1ed28-170">L'interfaccia utente di una finestra di dialogo tipica include gli elementi riportati di seguito:</span><span class="sxs-lookup"><span data-stu-id="1ed28-170">The user interface for a typical dialog box includes the following:</span></span>  
  
- <span data-ttu-id="1ed28-171">I diversi controlli necessari per raccogliere i dati desiderati.</span><span class="sxs-lookup"><span data-stu-id="1ed28-171">The various controls that are required to gather the desired data.</span></span>  
  
- <span data-ttu-id="1ed28-172">Un pulsante **OK** su cui gli utenti fanno clic per chiudere la finestra di dialogo, tornare alla funzione e continuare l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-172">An **OK** button that users click to close the dialog box, return to the function, and continue processing.</span></span>  
  
- <span data-ttu-id="1ed28-173">Pulsante **Annulla** su cui gli utenti fanno clic per chiudere la finestra di dialogo e arrestare la funzione dall'ulteriore elaborazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-173">A **Cancel** button that users click to close the dialog box and stop the function from further processing.</span></span>  
  
- <span data-ttu-id="1ed28-174">Pulsante **Chiudi** nella barra del titolo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-174">A **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="1ed28-175">Un'icona.</span><span class="sxs-lookup"><span data-stu-id="1ed28-175">An icon.</span></span>  
  
- <span data-ttu-id="1ed28-176">Pulsanti **Riduci a icona**, **Ingrandisci**e **Ripristina** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-176">**Minimize**, **Maximize**, and **Restore** buttons.</span></span>  
  
- <span data-ttu-id="1ed28-177">Menu di **sistema** per ridurre a icona, ingrandire, ripristinare e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-177">A **System** menu to minimize, maximize, restore, and close the dialog box.</span></span>  
  
- <span data-ttu-id="1ed28-178">Una posizione sopra e al centro della finestra che ha aperto la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-178">A position above and in the center of the window that opened the dialog box.</span></span>  
  
- <span data-ttu-id="1ed28-179">Possibilità di ridimensionare laddove possibile per impedire che la finestra di dialogo sia troppo piccola e fornire all'utente una dimensione predefinita utile.</span><span class="sxs-lookup"><span data-stu-id="1ed28-179">The ability to be resized where possible to prevent the dialog box from being too small, and to provide the user with a useful default size.</span></span> <span data-ttu-id="1ed28-180">A tale scopo, è necessario impostare le dimensioni predefinite e minime.</span><span class="sxs-lookup"><span data-stu-id="1ed28-180">This requires that you set both the default and a minimum dimensions.</span></span>  
  
- <span data-ttu-id="1ed28-181">Tasto ESC come tasto di scelta rapida che determina la pressione del pulsante **Annulla** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-181">The ESC key as a keyboard shortcut that causes the **Cancel** button to be pressed.</span></span> <span data-ttu-id="1ed28-182">A tale scopo, impostare la <xref:System.Windows.Controls.Button.IsCancel%2A> proprietà del pulsante **Annulla** su `true` .</span><span class="sxs-lookup"><span data-stu-id="1ed28-182">You do this by setting the <xref:System.Windows.Controls.Button.IsCancel%2A> property of the **Cancel** button to `true`.</span></span>  
  
- <span data-ttu-id="1ed28-183">Tasto ENTER (o RETURN) come tasto di scelta rapida che determina la pressione del pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-183">The ENTER (or RETURN) key as a keyboard shortcut that causes the **OK** button to be pressed.</span></span> <span data-ttu-id="1ed28-184">A tale scopo, impostare la <xref:System.Windows.Controls.Button.IsDefault%2A> proprietà del pulsante **OK** `true` .</span><span class="sxs-lookup"><span data-stu-id="1ed28-184">You do this by setting the <xref:System.Windows.Controls.Button.IsDefault%2A> property of the **OK** button `true`.</span></span>  
  
<span data-ttu-id="1ed28-185">Il codice seguente illustra questa configurazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-185">The following code demonstrates this configuration.</span></span>  
  
[!code-xaml[MarginsDialogBox XAML file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,106-112)]  

[!code-csharp[MarginsDialogBox C# code-behind](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-12,67-68)]
[!code-vb[MarginsDialogBox VB code-behind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-11,61-62)]  
  
<span data-ttu-id="1ed28-186">L'esperienza utente relativa all'utilizzo di una finestra di dialogo si estende anche alla barra dei menu della finestra da cui viene aperta la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-186">The user experience for a dialog box also extends into the menu bar of the window that opens the dialog box.</span></span> <span data-ttu-id="1ed28-187">Quando una voce di menu attiva una funzione la cui elaborazione richiede interazione da parte dell'utente tramite una finestra di dialogo, nell'intestazione della voce di menu saranno visibili dei puntini di sospensione, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1ed28-187">When a menu item runs a function that requires user interaction through a dialog box before the function can continue, the menu item for the function will have an ellipsis in its header, as shown here.</span></span>  
  
[!code-xaml[Menu bar of MainWindow.Xaml file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L26-L27)]  
  
<span data-ttu-id="1ed28-188">Quando una voce di menu attiva una funzione che comporta la visualizzazione di una finestra di dialogo che non richiede interazione da parte dell'utente, ad esempio una finestra di dialogo Informazioni su, i puntini di sospensione non sono necessari.</span><span class="sxs-lookup"><span data-stu-id="1ed28-188">When a menu item runs a function that displays a dialog box which does not require user interaction, such as an About dialog box, an ellipsis is not required.</span></span>  
  
#### <a name="opening-a-modal-dialog-box"></a><span data-ttu-id="1ed28-189">Apertura di una finestra di dialogo modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-189">Opening a modal dialog box</span></span>

<span data-ttu-id="1ed28-190">Una finestra di dialogo viene in genere visualizzata in seguito alla selezione, da parte dell'utente, di una voce di menu per l'esecuzione di una funzione specifica di un dominio, ad esempio l'impostazione dei margini di un documento in un elaboratore di testo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-190">A dialog box is typically shown as a result of a user selecting a menu item to perform a domain-specific function, such as setting the margins of a document in a word processor.</span></span> <span data-ttu-id="1ed28-191">La visualizzazione di una finestra come una finestra di dialogo è simile alla visualizzazione di una normale finestra, sebbene richieda operazioni di configurazione specifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed28-191">Showing a window as a dialog box is similar to showing a normal window, although it requires additional dialog box-specific configuration.</span></span> <span data-ttu-id="1ed28-192">L'intero processo di creazione di un'istanza, configurazione e apertura di una finestra di dialogo viene illustrato nel codice riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1ed28-192">The entire process of instantiating, configuring, and opening a dialog box is shown in the following code.</span></span>  
  
[!code-csharp[Opening a modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-11,78-88,193-195)]
[!code-vb[Opening a modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58-67,130-132)]  

<span data-ttu-id="1ed28-193">In questo caso, il codice passa le informazioni predefinite (i margini correnti) alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-193">Here, the code passes default information (the current margins) to the dialog box.</span></span> <span data-ttu-id="1ed28-194">Imposta anche la <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> proprietà con un riferimento alla finestra che mostra la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-194">It also sets the <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> property with a reference to the window that is showing the dialog box.</span></span> <span data-ttu-id="1ed28-195">In generale, è sempre necessario impostare il proprietario di una finestra di dialogo per fornire comportamenti correlati allo stato della finestra comuni a tutte le finestre di dialogo. per ulteriori informazioni, vedere [Cenni preliminari sulle finestre WPF](wpf-windows-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="1ed28-195">In general, you should always set the owner for a dialog box to provide window state-related behaviors that are common to all dialog boxes (see [WPF Windows Overview](wpf-windows-overview.md) for more information).</span></span>

> [!NOTE]
> <span data-ttu-id="1ed28-196">È necessario fornire un proprietario per supportare l'automazione dell'interfaccia utente per le finestre di dialogo (vedere [Panoramica di automazione interfaccia](../../ui-automation/ui-automation-overview.md)utente).</span><span class="sxs-lookup"><span data-stu-id="1ed28-196">You must provide an owner to support user interface (UI) automation for dialog boxes (see [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span></span>

<span data-ttu-id="1ed28-197">Una volta configurata, la finestra di dialogo viene visualizzata in modo modale chiamando il <xref:System.Windows.Window.ShowDialog%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-197">After the dialog box is configured, it is shown modally by calling the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  
  
#### <a name="validating-user-provided-data"></a><span data-ttu-id="1ed28-198">Convalida dei dati forniti dall'utente</span><span class="sxs-lookup"><span data-stu-id="1ed28-198">Validating user-provided data</span></span>

<span data-ttu-id="1ed28-199">Quando viene aperta una finestra di dialogo e l'utente fornisce i dati necessari, la finestra di dialogo deve garantire che i dati forniti siano validi per i motivi riportati di seguito:</span><span class="sxs-lookup"><span data-stu-id="1ed28-199">When a dialog box is opened and the user provides the required data, a dialog box is responsible for ensuring that the provided data is valid for the following reasons:</span></span>  
  
- <span data-ttu-id="1ed28-200">Da un punto di vista della sicurezza, tutti gli input devono essere convalidati.</span><span class="sxs-lookup"><span data-stu-id="1ed28-200">From a security perspective, all input should be validated.</span></span>  
  
- <span data-ttu-id="1ed28-201">Da un punto di vista specifico del dominio, la convalida dei dati impedisce l'elaborazione di dati errati da parte del codice, che potrebbe potenzialmente generare eccezioni.</span><span class="sxs-lookup"><span data-stu-id="1ed28-201">From a domain-specific perspective, data validation prevents erroneous data from being processed by the code, which could potentially throw exceptions.</span></span>  
  
- <span data-ttu-id="1ed28-202">Da un punto di vista dell'esperienza utente, una finestra di dialogo può aiutare l'utente mostrandogli quali dati immessi non sono validi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-202">From a user-experience perspective, a dialog box can help users by showing them which data they have entered is invalid.</span></span>  
  
- <span data-ttu-id="1ed28-203">Da un punto di vista delle prestazioni, la convalida dei dati in un'applicazione a più livelli può ridurre il numero di round trip tra il client e i livelli dell'applicazione, in particolare se l'applicazione è composta da servizi Web o database basati su server.</span><span class="sxs-lookup"><span data-stu-id="1ed28-203">From a performance perspective, data validation in a multi-tier application can reduce the number of round trips between the client and the application tiers, particularly when the application is composed of Web services or server-based databases.</span></span>  

<span data-ttu-id="1ed28-204">Per convalidare un controllo associato in WPF, è necessario definire una regola di convalida e associarla all'associazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-204">To validate a bound control in WPF, you need to define a validation rule and associate it with the binding.</span></span> <span data-ttu-id="1ed28-205">Una regola di convalida è una classe personalizzata che deriva da <xref:System.Windows.Controls.ValidationRule> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-205">A validation rule is a custom class that derives from <xref:System.Windows.Controls.ValidationRule>.</span></span> <span data-ttu-id="1ed28-206">Nell'esempio seguente viene illustrata una regola di convalida, `MarginValidationRule` , che verifica che un valore associato sia un oggetto <xref:System.Double> e che si trovi all'interno di un intervallo specificato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-206">The following example shows a validation rule, `MarginValidationRule`, which checks that a bound value is a <xref:System.Double> and is within a specified range.</span></span>  

[!code-csharp[Margin validation rules](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginValidationRule.cs)]
[!code-vb[Margin validation rules](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginValidationRule.vb)]  

<span data-ttu-id="1ed28-207">In questo codice, la logica di convalida di una regola di convalida viene implementata eseguendo l'override del <xref:System.Windows.Controls.ValidationRule.Validate%2A> metodo, che convalida i dati e restituisce un oggetto appropriato <xref:System.Windows.Controls.ValidationResult> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-207">In this code, the validation logic of a validation rule is implemented by overriding the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method, which validates the data and returns an appropriate <xref:System.Windows.Controls.ValidationResult>.</span></span>  

<span data-ttu-id="1ed28-208">Per abbinare la regola di convalida al controllo associato, utilizzare il markup riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="1ed28-208">To associate the validation rule with the bound control, you use the following markup.</span></span>  
  
[!code-xaml[Associating a validation rule with a control](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,57-68,111-112)]

<span data-ttu-id="1ed28-209">Una volta associata la regola di convalida, WPF lo applicherà automaticamente quando i dati vengono immessi nel controllo associato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-209">Once the validation rule is associated, WPF will automatically apply it when data is entered into the bound control.</span></span> <span data-ttu-id="1ed28-210">Quando un controllo contiene dati non validi, in WPF viene visualizzato un bordo rosso intorno al controllo non valido, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-210">When a control contains invalid data, WPF will display a red border around the invalid control, as shown in the following figure.</span></span>  
  
![Una finestra di dialogo margini con un bordo rosso intorno al valore del margine sinistro non valido.](./media/dialog-boxes-overview/invalid-left-margin-dialog.png)  

<span data-ttu-id="1ed28-212">WPF non limita un utente al controllo non valido finché non vengono immessi dati validi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-212">WPF does not restrict a user to the invalid control until they have entered valid data.</span></span> <span data-ttu-id="1ed28-213">In questo modo, l'utente sarà libero di spostarsi tra i controlli della finestra di dialogo anche se i dati immessi non sono validi.</span><span class="sxs-lookup"><span data-stu-id="1ed28-213">This is good behavior for a dialog box; a user should be able to freely navigate the controls in a dialog box whether or not data is valid.</span></span> <span data-ttu-id="1ed28-214">Ciò significa tuttavia che un utente può immettere dati non validi e premere il pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-214">However, this means a user can enter invalid data and press the **OK** button.</span></span> <span data-ttu-id="1ed28-215">Per questo motivo, il codice deve anche convalidare tutti i controlli in una finestra di dialogo quando viene premuto il pulsante **OK** gestendo l' <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento.</span><span class="sxs-lookup"><span data-stu-id="1ed28-215">For this reason, your code also needs to validate all controls in a dialog box when the **OK** button is pressed by handling the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-csharp[Validating all controls in a dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,26-29,33-68)]
[!code-vb[Validating all controls in a dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27-29,33-62)]  

<span data-ttu-id="1ed28-216">Questo codice enumera tutti gli oggetti dipendenza in una finestra e, se non sono validi (restituiti da <xref:System.Windows.Controls.Validation.GetHasError%2A> , il controllo non valido ottiene lo stato attivo, il `IsValid` metodo restituisce `false` e la finestra viene considerata non valida.</span><span class="sxs-lookup"><span data-stu-id="1ed28-216">This code enumerates all dependency objects on a window and, if any are invalid (as returned by <xref:System.Windows.Controls.Validation.GetHasError%2A>, the invalid control gets the focus, the `IsValid` method returns `false`, and the window is considered invalid.</span></span>  
  
<span data-ttu-id="1ed28-217">Dopo essere stata ritenuta valida, la finestra di dialogo può essere chiusa.</span><span class="sxs-lookup"><span data-stu-id="1ed28-217">Once a dialog box is valid, it can safely close and return.</span></span> <span data-ttu-id="1ed28-218">Questo processo deve inoltre prevedere la restituzione di un risultato alla funzione chiamante.</span><span class="sxs-lookup"><span data-stu-id="1ed28-218">As part of the return process, it needs to return a result to the calling function.</span></span>  
  
#### <a name="setting-the-modal-dialog-result"></a><span data-ttu-id="1ed28-219">Impostazione del risultato della finestra di dialogo modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-219">Setting the modal dialog result</span></span>

<span data-ttu-id="1ed28-220">L'apertura di una finestra di dialogo mediante <xref:System.Windows.Window.ShowDialog%2A> è fondamentalmente simile alla chiamata a un metodo: il codice che ha aperto la finestra di dialogo mediante <xref:System.Windows.Window.ShowDialog%2A> attese fino alla <xref:System.Windows.Window.ShowDialog%2A> restituzione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-220">Opening a dialog box using <xref:System.Windows.Window.ShowDialog%2A> is fundamentally like calling a method: the code that opened the dialog box using <xref:System.Windows.Window.ShowDialog%2A> waits until <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span> <span data-ttu-id="1ed28-221">Quando <xref:System.Windows.Window.ShowDialog%2A> restituisce, il codice che lo ha chiamato deve decidere se continuare l'elaborazione o arrestare l'elaborazione, a seconda che l'utente abbia premuto il pulsante **OK** o il pulsante **Annulla** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-221">When <xref:System.Windows.Window.ShowDialog%2A> returns, the code that called it needs to decide whether to continue processing or stop processing, based on whether the user pressed the **OK** button or the **Cancel** button.</span></span> <span data-ttu-id="1ed28-222">Per semplificare questa decisione, la finestra di dialogo deve restituire la scelta dell'utente come <xref:System.Boolean> valore restituito dal <xref:System.Windows.Window.ShowDialog%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-222">To facilitate this decision, the dialog box needs to return the user's choice as a <xref:System.Boolean> value that is returned from the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  

<span data-ttu-id="1ed28-223">Quando si fa clic sul pulsante **OK** , <xref:System.Windows.Window.ShowDialog%2A> deve restituire `true` .</span><span class="sxs-lookup"><span data-stu-id="1ed28-223">When the **OK** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `true`.</span></span> <span data-ttu-id="1ed28-224">Questa operazione viene eseguita impostando la <xref:System.Windows.Window.DialogResult%2A> proprietà della finestra di dialogo quando si fa clic sul pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-224">This is achieved by setting the <xref:System.Windows.Window.DialogResult%2A> property of the dialog box when the **OK** button is clicked.</span></span>  

[!code-csharp[Responding to the OK button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,25-27,32-33,67-68)]
[!code-vb[Responding to the OK button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27,31-33,61-62)]  

<span data-ttu-id="1ed28-225">Si noti che l'impostazione della <xref:System.Windows.Window.DialogResult%2A> proprietà comporta la chiusura automatica della finestra, che attenua la necessità di chiamare in modo esplicito <xref:System.Windows.Window.Close%2A> .</span><span class="sxs-lookup"><span data-stu-id="1ed28-225">Note that setting the <xref:System.Windows.Window.DialogResult%2A> property also causes the window to close automatically, which alleviates the need to explicitly call <xref:System.Windows.Window.Close%2A>.</span></span>  
  
<span data-ttu-id="1ed28-226">Quando si fa clic sul pulsante **Annulla** , <xref:System.Windows.Window.ShowDialog%2A> deve restituire `false` , che richiede anche l'impostazione della <xref:System.Windows.Window.DialogResult%2A> Proprietà.</span><span class="sxs-lookup"><span data-stu-id="1ed28-226">When the **Cancel** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `false`, which also requires setting the <xref:System.Windows.Window.DialogResult%2A> property.</span></span>  
  
[!code-csharp[Responding to the Cancel button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,19-24,67-68)]
[!code-vb[Responding to the Cancel button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,22-25,61-62)]  

<span data-ttu-id="1ed28-227">Quando la proprietà di un pulsante <xref:System.Windows.Controls.Button.IsCancel%2A> è impostata su `true` e l'utente preme il pulsante **Annulla** o il tasto ESC, <xref:System.Windows.Window.DialogResult%2A> viene impostato automaticamente su `false` .</span><span class="sxs-lookup"><span data-stu-id="1ed28-227">When a button's <xref:System.Windows.Controls.Button.IsCancel%2A> property is set to `true` and the user presses either the **Cancel** button or the ESC key, <xref:System.Windows.Window.DialogResult%2A> is automatically set to `false`.</span></span> <span data-ttu-id="1ed28-228">Il markup seguente ha lo stesso effetto del codice precedente, senza la necessità di gestire l' <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento.</span><span class="sxs-lookup"><span data-stu-id="1ed28-228">The following markup has the same effect as the preceding code, without the need to handle the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-xaml[Markup instead of handling the Click event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml#L109-L109)]  

<span data-ttu-id="1ed28-229">Una finestra di dialogo viene restituita automaticamente `false` quando un utente preme il pulsante **Chiudi** nella barra del titolo oppure sceglie la voce di menu **Chiudi** dal menu di **sistema** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-229">A dialog box automatically returns `false` when a user presses the **Close** button in the title bar or chooses the **Close** menu item from the **System** menu.</span></span>  

#### <a name="processing-data-returned-from-a-modal-dialog-box"></a><span data-ttu-id="1ed28-230">Elaborazione dei dati restituiti da una finestra di dialogo modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-230">Processing data returned from a modal dialog box</span></span>  

<span data-ttu-id="1ed28-231">Quando <xref:System.Windows.Window.DialogResult%2A> viene impostato da una finestra di dialogo, la funzione che lo ha aperto può ottenere il risultato della finestra di dialogo controllando la <xref:System.Windows.Window.DialogResult%2A> proprietà quando <xref:System.Windows.Window.ShowDialog%2A> restituisce.</span><span class="sxs-lookup"><span data-stu-id="1ed28-231">When <xref:System.Windows.Window.DialogResult%2A> is set by a dialog box, the function that opened it can get the dialog box result by inspecting the <xref:System.Windows.Window.DialogResult%2A> property when <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span>  
  
[!code-csharp[Processing data returned from the modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,77-79,89-96,194-195)]
[!code-vb[Processing data returned from the modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58,69-73,131-132)]

<span data-ttu-id="1ed28-232">Se il risultato della finestra `true` di dialogo è, la funzione lo utilizza come spunto per recuperare ed elaborare i dati forniti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-232">If the dialog result is `true`, the function uses that as a cue to retrieve and process the data provided by the user.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ed28-233"><xref:System.Windows.Window.ShowDialog%2A>Una volta restituita, non è possibile riaprire una finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-233">After <xref:System.Windows.Window.ShowDialog%2A> has returned, a dialog box cannot be reopened.</span></span> <span data-ttu-id="1ed28-234">È invece necessario creare una nuova istanza.</span><span class="sxs-lookup"><span data-stu-id="1ed28-234">Instead, you need to create a new instance.</span></span>

<span data-ttu-id="1ed28-235">Se il risultato della finestra di dialogo è `false` , la funzione deve terminare l'elaborazione in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-235">If the dialog result is `false`, the function should end processing appropriately.</span></span>  
  
<a name="Creating_a_Modeless_Custom_Dialog_Box"></a>
### <a name="creating-a-modeless-custom-dialog-box"></a><span data-ttu-id="1ed28-236">Creazione di una finestra di dialogo personalizzata non modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-236">Creating a modeless custom dialog box</span></span>

<span data-ttu-id="1ed28-237">Una finestra di dialogo non modale, ad esempio la finestra di dialogo Trova illustrata di seguito, presenta sostanzialmente lo stesso aspetto di una finestra di dialogo modale.</span><span class="sxs-lookup"><span data-stu-id="1ed28-237">A modeless dialog box, such as the Find Dialog Box shown in the following figure, has the same fundamental appearance as the modal dialog box.</span></span>  

![Screenshot che mostra una finestra di dialogo Trova.](./media/dialog-boxes-overview/find-modeless-dialog-box.png)  

<span data-ttu-id="1ed28-239">Il comportamento è invece leggermente diverso, come descritto nelle sezioni riportate di seguito.</span><span class="sxs-lookup"><span data-stu-id="1ed28-239">However, the behavior is slightly different, as described in the following sections.</span></span>  
  
#### <a name="opening-a-modeless-dialog-box"></a><span data-ttu-id="1ed28-240">Apertura di una finestra di dialogo non modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-240">Opening a modeless dialog box</span></span>

<span data-ttu-id="1ed28-241">Una finestra di dialogo non modale viene aperta chiamando il <xref:System.Windows.Window.Show%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-241">A modeless dialog box is opened by calling the <xref:System.Windows.Window.Show%2A> method.</span></span>  

[!code-xaml[XAML to define a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L21-L22)]  

[!code-csharp[Opening a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,65-76,194-195)]
[!code-vb[Openng a modeless dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,18-23,131,132)]  

<span data-ttu-id="1ed28-242">Diversamente da <xref:System.Windows.Window.ShowDialog%2A> , viene <xref:System.Windows.Window.Show%2A> restituito immediatamente.</span><span class="sxs-lookup"><span data-stu-id="1ed28-242">Unlike <xref:System.Windows.Window.ShowDialog%2A>, <xref:System.Windows.Window.Show%2A> returns immediately.</span></span> <span data-ttu-id="1ed28-243">Di conseguenza, la finestra chiamante non può stabilire quando la finestra di dialogo non modale viene chiusa e pertanto non sa quando verificare il risultato della finestra di dialogo o quando ottenere dati dalla finestra di dialogo per continuare l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="1ed28-243">Consequently, the calling window cannot tell when the modeless dialog box is closed and, therefore, does not know when to check for a dialog box result or get data from the dialog box for further processing.</span></span> <span data-ttu-id="1ed28-244">La finestra di dialogo deve quindi disporre di un modo alternativo per restituire dati alla finestra chiamante.</span><span class="sxs-lookup"><span data-stu-id="1ed28-244">Instead, the dialog box needs to create an alternative way to return data to the calling window for processing.</span></span>  
  
#### <a name="processing-data-returned-from-a-modeless-dialog-box"></a><span data-ttu-id="1ed28-245">Elaborazione dei dati restituiti da una finestra di dialogo non modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-245">Processing data returned from a modeless dialog box</span></span>  

<span data-ttu-id="1ed28-246">In questo esempio, il `FindDialogBox` può restituire uno o più risultati della ricerca alla finestra principale, a seconda del testo cercato senza una frequenza specifica.</span><span class="sxs-lookup"><span data-stu-id="1ed28-246">In this example, the `FindDialogBox` may return one or more find results to the main window, depending on the text being searched for without any specific frequency.</span></span> <span data-ttu-id="1ed28-247">Come con una finestra di dialogo modale, una finestra di dialogo non modale può restituire risultati utilizzando le proprietà.</span><span class="sxs-lookup"><span data-stu-id="1ed28-247">As with a modal dialog box, a modeless dialog box can return results using properties.</span></span> <span data-ttu-id="1ed28-248">Tuttavia, la finestra proprietaria della finestra di dialogo deve sapere quando controllare tali proprietà.</span><span class="sxs-lookup"><span data-stu-id="1ed28-248">However, the window that owns the dialog box needs to know when to check those properties.</span></span> <span data-ttu-id="1ed28-249">A tal fine, la finestra di dialogo dovrebbe implementare un evento generato ogni volta che viene trovato il testo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-249">One way to enable this is for the dialog box to implement an event that is raised whenever text is found.</span></span> <span data-ttu-id="1ed28-250">`FindDialogBox`implementa `TextFoundEvent` per questo scopo, che richiede per prima cosa un delegato.</span><span class="sxs-lookup"><span data-stu-id="1ed28-250">`FindDialogBox` implements the `TextFoundEvent` for this purpose, which first requires a delegate.</span></span>  

[!code-csharp[The TextFoundEventHandler delegate](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/TextFoundEventHandler.cs)]
[!code-vb[The TextFoundEventHandler delegate](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/TextFoundEventHandler.vb)]  

<span data-ttu-id="1ed28-251">Utilizzando il `TextFoundEventHandler` delegato, `FindDialogBox` implementa `TextFoundEvent` .</span><span class="sxs-lookup"><span data-stu-id="1ed28-251">Using the `TextFoundEventHandler` delegate, `FindDialogBox` implements the `TextFoundEvent`.</span></span>
  
[!code-csharp[The TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-17,125-126)]
[!code-vb[The TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-15,102-103)]

<span data-ttu-id="1ed28-252">Di conseguenza, `Find` può generare l'evento quando viene trovato un risultato di ricerca.</span><span class="sxs-lookup"><span data-stu-id="1ed28-252">Consequently, `Find` can raise the event when a search result is found.</span></span>  
  
[!code-csharp[Raising the TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,50-52,91-94,124-127)]
[!code-vb[Raising the TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,15,60-64,102-103)]  

<span data-ttu-id="1ed28-253">La finestra proprietaria deve quindi eseguire la registrazione e gestire questo evento.</span><span class="sxs-lookup"><span data-stu-id="1ed28-253">The owner window then needs to register with and handle this event.</span></span>

[!code-csharp[Registering and handling the event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,184-195)]
[!code-vb[Registering and handling the event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,126-132)]  

#### <a name="closing-a-modeless-dialog-box"></a><span data-ttu-id="1ed28-254">Chiusura di una finestra di dialogo non modale</span><span class="sxs-lookup"><span data-stu-id="1ed28-254">Closing a modeless dialog box</span></span>

<span data-ttu-id="1ed28-255">Poiché non <xref:System.Windows.Window.DialogResult%2A> è necessario impostare, una finestra di dialogo non modale può essere chiusa usando i meccanismi di sistema, inclusi i seguenti:</span><span class="sxs-lookup"><span data-stu-id="1ed28-255">Because <xref:System.Windows.Window.DialogResult%2A> does not need to be set, a modeless dialog can be closed using system provide mechanisms, including the following:</span></span>  
  
- <span data-ttu-id="1ed28-256">Fare clic sul pulsante **Chiudi** nella barra del titolo.</span><span class="sxs-lookup"><span data-stu-id="1ed28-256">Clicking the **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="1ed28-257">ALT+F4.</span><span class="sxs-lookup"><span data-stu-id="1ed28-257">Pressing ALT+F4.</span></span>  
  
- <span data-ttu-id="1ed28-258">Scegliere **Chiudi** dal menu **sistema** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-258">Choosing **Close** from the **System** menu.</span></span>  
  
<span data-ttu-id="1ed28-259">In alternativa, il codice può chiamare <xref:System.Windows.Window.Close%2A> quando si fa clic sul pulsante **Chiudi** .</span><span class="sxs-lookup"><span data-stu-id="1ed28-259">Alternatively, your code can call <xref:System.Windows.Window.Close%2A> when the **Close** button is clicked.</span></span>  

[!code-csharp[Calling the Close method](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,119-126)]
[!code-vb[Calling the Close method](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,99-103)]  

## <a name="see-also"></a><span data-ttu-id="1ed28-260">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1ed28-260">See also</span></span>

- [<span data-ttu-id="1ed28-261">Cenni preliminari sul controllo Popup</span><span class="sxs-lookup"><span data-stu-id="1ed28-261">Popup Overview</span></span>](../controls/popup-overview.md)
- [<span data-ttu-id="1ed28-262">Esempio di finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1ed28-262">Dialog Box Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Windows/DialogBox)
