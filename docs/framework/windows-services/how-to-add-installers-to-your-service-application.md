---
title: "Procedura: aggiungere programmi di installazione all'applicazione di servizio"
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Service applications, deploying
- installation components, adding to services
- installers, adding to services
- Windows Service applications, adding installers
- services, adding installers
- ServiceInstaller class, adding installers to services
- ServiceProcessInstaller class, adding installers to services
ms.assetid: 8b698e9a-b88e-4f44-ae45-e0c5ea0ae5a8
author: ghogen
ms.openlocfilehash: 99e2376c50f0b47cc21002b2926818707188805e
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/17/2019
ms.locfileid: "71053644"
---
# <a name="how-to-add-installers-to-your-service-application"></a><span data-ttu-id="befcc-102">Procedura: aggiungere programmi di installazione all'applicazione di servizio</span><span class="sxs-lookup"><span data-stu-id="befcc-102">How to: Add Installers to Your Service Application</span></span>
<span data-ttu-id="befcc-103">Visual Studio include componenti di installazione che consentono di installare le risorse associate alle applicazioni di servizio.</span><span class="sxs-lookup"><span data-stu-id="befcc-103">Visual Studio ships installation components that can install resources associated with your service applications.</span></span> <span data-ttu-id="befcc-104">I componenti di installazione registrano un singolo servizio nel sistema in cui viene installato e informazione Gestione controllo servizi dell'esistenza del servizio.</span><span class="sxs-lookup"><span data-stu-id="befcc-104">Installation components register an individual service on the system to which it is being installed and let the Services Control Manager know that the service exists.</span></span> <span data-ttu-id="befcc-105">Quando si lavora con un'applicazione di servizio, è possibile selezionare un collegamento nella finestra Proprietà per aggiungere automaticamente i programmi di installazione appropriati al progetto.</span><span class="sxs-lookup"><span data-stu-id="befcc-105">When you work with a service application, you can select a link in the Properties window to automatically add the appropriate installers to your project.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="befcc-106">I valori delle proprietà per il servizio vengono copiati dalla classe del servizio alla classe del programma di installazione.</span><span class="sxs-lookup"><span data-stu-id="befcc-106">Property values for your service are copied from the service class to the installer class.</span></span> <span data-ttu-id="befcc-107">Se si aggiornano i valori delle proprietà nella classe del servizio, essi non vengono aggiornati automaticamente nel programma di installazione.</span><span class="sxs-lookup"><span data-stu-id="befcc-107">If you update the property values on the service class, they are not automatically updated in the installer.</span></span>  
  
 <span data-ttu-id="befcc-108">Quando si aggiunge un programma di installazione al progetto, nel progetto viene creata una nuova classe (denominata `ProjectInstaller` per impostazione predefinita) e all'interno di tale classe vengono create le istanze dei componenti di installazione appropriati.</span><span class="sxs-lookup"><span data-stu-id="befcc-108">When you add an installer to your project, a new class (which, by default, is named `ProjectInstaller`) is created in the project, and instances of the appropriate installation components are created within it.</span></span> <span data-ttu-id="befcc-109">Questa classe funge da punto centrale per tutti i componenti di installazione richiesti dal progetto.</span><span class="sxs-lookup"><span data-stu-id="befcc-109">This class acts as a central point for all of the installation components your project needs.</span></span> <span data-ttu-id="befcc-110">Ad esempio, se si aggiunge un secondo servizio all'applicazione e si fa clic sul collegamento Aggiungi programma di installazione, non viene creata una seconda classe per il programma di installazione, ma il componente di installazione aggiuntivo necessario per il secondo servizio viene invece aggiunto alla classe esistente.</span><span class="sxs-lookup"><span data-stu-id="befcc-110">For example, if you add a second service to your application and click the Add Installer link, a second installer class is not created; instead, the necessary additional installation component for the second service is added to the existing class.</span></span>  
  
 <span data-ttu-id="befcc-111">Non è necessario codice specifico all'interno dei programmi di installazione per installare correttamente i servizi.</span><span class="sxs-lookup"><span data-stu-id="befcc-111">You do not need to do any special coding within the installers to make your services install correctly.</span></span> <span data-ttu-id="befcc-112">Tuttavia, in alcuni casi potrebbe essere necessario modificare il contenuto dei programmi di installazione se è necessario aggiungere funzionalità speciali al processo di installazione.</span><span class="sxs-lookup"><span data-stu-id="befcc-112">However, you may occasionally need to modify the contents of the installers if you need to add special functionality to the installation process.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="befcc-113">È possibile che le finestre di dialogo e i comandi di menu visualizzati varino da quelli descritti nella Guida a seconda delle impostazioni attive o dell'edizione del programma.</span><span class="sxs-lookup"><span data-stu-id="befcc-113">The dialog boxes and menu commands you see might differ from those described in Help depending on your active settings or edition.</span></span> <span data-ttu-id="befcc-114">Per modificare le impostazioni, scegliere **Importa/Esporta impostazioni** dal menu **Strumenti** .</span><span class="sxs-lookup"><span data-stu-id="befcc-114">To change your settings, choose **Import and Export Settings** on the **Tools** menu.</span></span> <span data-ttu-id="befcc-115">Per altre informazioni, vedere [personalizzare l'IDE di Visual Studio](/visualstudio/ide/personalizing-the-visual-studio-ide).</span><span class="sxs-lookup"><span data-stu-id="befcc-115">For more information, see [Personalize the Visual Studio IDE](/visualstudio/ide/personalizing-the-visual-studio-ide).</span></span>  
  
### <a name="to-add-installers-to-your-service-application"></a><span data-ttu-id="befcc-116">Per aggiungere programmi di installazione all'applicazione di servizio</span><span class="sxs-lookup"><span data-stu-id="befcc-116">To add installers to your service application</span></span>  
  
1. <span data-ttu-id="befcc-117">In **Esplora soluzioni** accedere alla visualizzazione **Progettazione** per il servizio per il quale si vuole aggiungere un componente di installazione.</span><span class="sxs-lookup"><span data-stu-id="befcc-117">In **Solution Explorer**, access **Design** view for the service for which you want to add an installation component.</span></span>  
  
2. <span data-ttu-id="befcc-118">Fare clic sullo sfondo della finestra di progettazione per selezionare il servizio anziché il suo contenuto.</span><span class="sxs-lookup"><span data-stu-id="befcc-118">Click the background of the designer to select the service itself, rather than any of its contents.</span></span>  
  
3. <span data-ttu-id="befcc-119">Con la finestra di progettazione attiva, fare clic con il pulsante destro del mouse su **Aggiungi programma di installazione**.</span><span class="sxs-lookup"><span data-stu-id="befcc-119">With the designer in focus, right-click, and then click **Add Installer**.</span></span>  
  
     <span data-ttu-id="befcc-120">Al progetto vengono aggiunti una nuova classe `ProjectInstaller` e due componenti di installazione, <xref:System.ServiceProcess.ServiceProcessInstaller> e <xref:System.ServiceProcess.ServiceInstaller>, quindi i valori delle proprietà per il servizio vengono copiati nei componenti.</span><span class="sxs-lookup"><span data-stu-id="befcc-120">A new class, `ProjectInstaller`, and two installation components, <xref:System.ServiceProcess.ServiceProcessInstaller> and <xref:System.ServiceProcess.ServiceInstaller>, are added to your project, and property values for the service are copied to the components.</span></span>  
  
4. <span data-ttu-id="befcc-121">Fare clic sul componente <xref:System.ServiceProcess.ServiceInstaller> e verificare che il valore della proprietà <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> sia impostato sullo stesso valore della proprietà <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> del servizio stesso.</span><span class="sxs-lookup"><span data-stu-id="befcc-121">Click the <xref:System.ServiceProcess.ServiceInstaller> component and verify that the value of the <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> property is set to the same value as the <xref:System.ServiceProcess.ServiceInstaller.ServiceName%2A> property on the service itself.</span></span>  
  
5. <span data-ttu-id="befcc-122">Per determinare come verrà avviato il servizio, fare clic sul componente <xref:System.ServiceProcess.ServiceInstaller> e impostare la proprietà <xref:System.ServiceProcess.ServiceInstaller.StartType%2A> sul valore appropriato.</span><span class="sxs-lookup"><span data-stu-id="befcc-122">To determine how your service will be started, click the <xref:System.ServiceProcess.ServiceInstaller> component and set the <xref:System.ServiceProcess.ServiceInstaller.StartType%2A> property to the appropriate value.</span></span>  
  
    |<span data-ttu-id="befcc-123">valore</span><span class="sxs-lookup"><span data-stu-id="befcc-123">Value</span></span>|<span data-ttu-id="befcc-124">Risultato</span><span class="sxs-lookup"><span data-stu-id="befcc-124">Result</span></span>|  
    |-----------|------------|  
    |<xref:System.ServiceProcess.ServiceStartMode.Manual>|<span data-ttu-id="befcc-125">Il servizio deve essere avviato manualmente dopo l'installazione.</span><span class="sxs-lookup"><span data-stu-id="befcc-125">The service must be manually started after installation.</span></span> <span data-ttu-id="befcc-126">Per altre informazioni, vedere [Procedura: Avviare servizi](how-to-start-services.md).</span><span class="sxs-lookup"><span data-stu-id="befcc-126">For more information, see [How to: Start Services](how-to-start-services.md).</span></span>|  
    |<xref:System.ServiceProcess.ServiceStartMode.Automatic>|<span data-ttu-id="befcc-127">Il servizio verrà avviato automaticamente a ogni riavvio del computer.</span><span class="sxs-lookup"><span data-stu-id="befcc-127">The service will start by itself whenever the computer reboots.</span></span>|  
    |<xref:System.ServiceProcess.ServiceStartMode.Disabled>|<span data-ttu-id="befcc-128">Impossibile avviare il servizio.</span><span class="sxs-lookup"><span data-stu-id="befcc-128">The service cannot be started.</span></span>|  
  
6. <span data-ttu-id="befcc-129">Per determinare il contesto di sicurezza in cui verrà eseguito il servizio, fare clic sul componente <xref:System.ServiceProcess.ServiceProcessInstaller> e impostare i valori di proprietà appropriati.</span><span class="sxs-lookup"><span data-stu-id="befcc-129">To determine the security context in which your service will run, click the <xref:System.ServiceProcess.ServiceProcessInstaller> component and set the appropriate property values.</span></span> <span data-ttu-id="befcc-130">Per altre informazioni, vedere [Procedura: Specificare il contesto di sicurezza per i servizi](how-to-specify-the-security-context-for-services.md).</span><span class="sxs-lookup"><span data-stu-id="befcc-130">For more information, see [How to: Specify the Security Context for Services](how-to-specify-the-security-context-for-services.md).</span></span>  
  
7. <span data-ttu-id="befcc-131">Eseguire l'override degli eventuali metodi che richiedono un'elaborazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="befcc-131">Override any methods for which you need to perform custom processing.</span></span>  
  
8. <span data-ttu-id="befcc-132">Eseguire i passaggi da 1 a 7 per ogni servizio aggiuntivo nel progetto.</span><span class="sxs-lookup"><span data-stu-id="befcc-132">Perform steps 1 through 7 for each additional service in your project.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="befcc-133">Per ogni servizio aggiuntivo nel progetto, è necessario aggiungere un ulteriore componente <xref:System.ServiceProcess.ServiceInstaller> alla classe `ProjectInstaller` del progetto.</span><span class="sxs-lookup"><span data-stu-id="befcc-133">For each additional service in your project, you must add an additional <xref:System.ServiceProcess.ServiceInstaller> component to the project's `ProjectInstaller` class.</span></span> <span data-ttu-id="befcc-134">Il componente <xref:System.ServiceProcess.ServiceProcessInstaller> aggiunto nel passaggio 3 funziona con tutti i programmi di installazione dei singoli servizi nel progetto.</span><span class="sxs-lookup"><span data-stu-id="befcc-134">The <xref:System.ServiceProcess.ServiceProcessInstaller> component added in step three works with all of the individual service installers in the project.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="befcc-135">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="befcc-135">See also</span></span>

- [<span data-ttu-id="befcc-136">Introduzione alle applicazioni di servizio Windows</span><span class="sxs-lookup"><span data-stu-id="befcc-136">Introduction to Windows Service Applications</span></span>](introduction-to-windows-service-applications.md)
- [<span data-ttu-id="befcc-137">Procedura: installare e disinstallare servizi</span><span class="sxs-lookup"><span data-stu-id="befcc-137">How to: Install and Uninstall Services</span></span>](how-to-install-and-uninstall-services.md)
- [<span data-ttu-id="befcc-138">Procedura: avviare servizi</span><span class="sxs-lookup"><span data-stu-id="befcc-138">How to: Start Services</span></span>](how-to-start-services.md)
- [<span data-ttu-id="befcc-139">Procedura: specificare il contesto di sicurezza per i servizi</span><span class="sxs-lookup"><span data-stu-id="befcc-139">How to: Specify the Security Context for Services</span></span>](how-to-specify-the-security-context-for-services.md)
