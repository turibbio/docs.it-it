---
title: Linee guida per la creazione di componenti per l'esecuzione affiancata di più versioni
description: Esaminare le linee guida per la creazione di componenti per l'esecuzione side-by-side. Ad esempio, associare l'identità del tipo a una determinata versione di file o usare l'archiviazione con supporto della versione.
ms.date: 03/30/2017
helpviewer_keywords:
- side-by-side execution, multiple application versions
- side-by-side execution, multiple component versions
ms.assetid: 5c540161-6e40-42e9-be92-6175aee2c46a
ms.openlocfilehash: f0d25984f2444d29d9fc0edb3add23b6adc04c62
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2020
ms.locfileid: "85622640"
---
# <a name="guidelines-for-creating-components-for-side-by-side-execution"></a><span data-ttu-id="c4c01-104">Linee guida per la creazione di componenti per l'esecuzione affiancata di più versioni</span><span class="sxs-lookup"><span data-stu-id="c4c01-104">Guidelines for Creating Components for Side-by-Side Execution</span></span>
<span data-ttu-id="c4c01-105">Per creare applicazioni o componenti gestiti progettati per l'esecuzione affiancata, seguire le indicazioni generali riportate di seguito.</span><span class="sxs-lookup"><span data-stu-id="c4c01-105">Follow these general guidelines to create managed applications or components designed for side-by-side execution:</span></span>  
  
- <span data-ttu-id="c4c01-106">Associare l'identità del tipo a una determinata versione di un file.</span><span class="sxs-lookup"><span data-stu-id="c4c01-106">Bind type identity to a particular version of a file.</span></span>  
  
     <span data-ttu-id="c4c01-107">In Common Language Runtime, l'identità del tipo viene associata a una determinata versione di file con assembly con nome sicuro.</span><span class="sxs-lookup"><span data-stu-id="c4c01-107">The common language runtime binds type identity to a particular file version by using strong-named assemblies.</span></span> <span data-ttu-id="c4c01-108">Per creare un'applicazione o un componente per l'esecuzione affiancata, è necessario assegnare a tutti gli assembly un nome sicuro.</span><span class="sxs-lookup"><span data-stu-id="c4c01-108">To create an application or component for side-by-side execution, you must give all assemblies a strong name.</span></span> <span data-ttu-id="c4c01-109">In questo modo, viene creata una precisa identità del tipo e viene garantito che qualsiasi risoluzione del tipo verrà reindirizzata al file corretto.</span><span class="sxs-lookup"><span data-stu-id="c4c01-109">This creates precise type identity and ensures that any type resolution is directed to the correct file.</span></span> <span data-ttu-id="c4c01-110">Un assembly con nome sicuro contiene informazioni sulla versione, sulle impostazioni cultura e sull'editore che vengono usate dal runtime per trovare il file corretto in risposta a una richiesta di binding.</span><span class="sxs-lookup"><span data-stu-id="c4c01-110">A strong-named assembly contains version, culture, and publisher information that the runtime uses to locate the correct file to fulfill a binding request.</span></span>  
  
- <span data-ttu-id="c4c01-111">Usare l'archiviazione con supporto della versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-111">Use version-aware storage.</span></span>  
  
     <span data-ttu-id="c4c01-112">Per fornire l'archiviazione con supporto della versione, nel runtime viene usata la Global Assembly Cache,</span><span class="sxs-lookup"><span data-stu-id="c4c01-112">The runtime uses the global assembly cache to provide version-aware storage.</span></span> <span data-ttu-id="c4c01-113">che rappresenta una struttura di directory con supporto della versione che viene installata su qualsiasi computer in cui viene usato .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4c01-113">The global assembly cache is a version-aware directory structure installed on every computer that uses the .NET Framework.</span></span> <span data-ttu-id="c4c01-114">Gli assembly installati nella Global Assembly Cache non vengono sovrascritti in caso di installazione di una nuova versione dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="c4c01-114">Assemblies installed in the global assembly cache are not overwritten when a new version of that assembly is installed.</span></span>  
  
- <span data-ttu-id="c4c01-115">Creare un'applicazione o un componente che viene eseguito in modalità isolata.</span><span class="sxs-lookup"><span data-stu-id="c4c01-115">Create an application or component that runs in isolation.</span></span>  
  
     <span data-ttu-id="c4c01-116">Un'applicazione o un componente eseguito in modalità isolata deve riuscire a gestire le risorse in modo da evitare conflitti quando due istanze dell'applicazione o del componente vengono eseguite contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="c4c01-116">An application or component that runs in isolation must manage resources to avoid conflicts when two instances of the application or component are running simultaneously.</span></span> <span data-ttu-id="c4c01-117">L'applicazione o il componente deve usare anche una struttura di file specifica della versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-117">The application or component must also use a version-specific file structure.</span></span>  
  
## <a name="application-and-component-isolation"></a><span data-ttu-id="c4c01-118">Isolamento di applicazioni e componenti</span><span class="sxs-lookup"><span data-stu-id="c4c01-118">Application and Component Isolation</span></span>  
 <span data-ttu-id="c4c01-119">L'isolamento costituisce un fattore determinante per la corretta progettazione di un'applicazione o di un componente per l'esecuzione affiancata.</span><span class="sxs-lookup"><span data-stu-id="c4c01-119">One key to successfully designing an application or component for side-by-side execution is isolation.</span></span> <span data-ttu-id="c4c01-120">L'applicazione o il componente deve riuscire a gestire tutte le risorse, in particolare l'I/O di file, in modo isolato.</span><span class="sxs-lookup"><span data-stu-id="c4c01-120">The application or component must manage all resources, particularly file I/O, in an isolated manner.</span></span> <span data-ttu-id="c4c01-121">Per assicurarsi che l'applicazione o il componente venga eseguito in modalità isolata, seguire le indicazioni riportate di seguito.</span><span class="sxs-lookup"><span data-stu-id="c4c01-121">Follow these guidelines to make sure your application or component runs in isolation:</span></span>  
  
- <span data-ttu-id="c4c01-122">Scrivere i valori nel Registro di sistema in base alla versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-122">Write to the registry in a version-specific way.</span></span> <span data-ttu-id="c4c01-123">Archiviare i valori in hive o chiavi in cui viene indicata la versione e non condividere le informazioni o lo stato tra più versioni di un componente.</span><span class="sxs-lookup"><span data-stu-id="c4c01-123">Store values in hives or keys that indicate the version, and do not share information or state across versions of a component.</span></span> <span data-ttu-id="c4c01-124">Viene così impedita la sovrascrittura di informazioni da parte di due applicazioni eseguite contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="c4c01-124">This prevents two applications or components running at the same time from overwriting information.</span></span>  
  
- <span data-ttu-id="c4c01-125">Impostare gli oggetti denominati del kernel in base alla versione, affinché non si verifichi una race condition.</span><span class="sxs-lookup"><span data-stu-id="c4c01-125">Make named kernel objects version-specific so that a race condition does not occur.</span></span> <span data-ttu-id="c4c01-126">Una race condition si verifica ad esempio quando due semafori di due versioni della stessa applicazione si trovano in stato di reciproca attesa.</span><span class="sxs-lookup"><span data-stu-id="c4c01-126">For example, a race condition occurs when two semaphores from two versions of the same application wait on each other.</span></span>  
  
- <span data-ttu-id="c4c01-127">Usare nomi di file e directory che tengono conto delle informazioni sulla versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-127">Make file and directory names version-aware.</span></span> <span data-ttu-id="c4c01-128">Le strutture di file devono essere basate sulle informazioni relative alla versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-128">This means that file structures should rely on version information.</span></span>  
  
- <span data-ttu-id="c4c01-129">Creare account utente e gruppi in base alla versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-129">Create user accounts and groups in a version-specific manner.</span></span> <span data-ttu-id="c4c01-130">Gli account utente e i gruppi creati da un'applicazione devono essere identificati in base alla versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-130">User accounts and groups created by an application should be identified by version.</span></span> <span data-ttu-id="c4c01-131">Non condividere account utente e gruppi tra versioni diverse di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-131">Do not share user accounts and groups between versions of an application.</span></span>  
  
## <a name="installing-and-uninstalling-versions"></a><span data-ttu-id="c4c01-132">Installazione o disinstallazione delle versioni</span><span class="sxs-lookup"><span data-stu-id="c4c01-132">Installing and Uninstalling Versions</span></span>  
 <span data-ttu-id="c4c01-133">In occasione della progettazione di un'applicazione per l'esecuzione affiancata, seguire le indicazioni relative all'installazione e alla disinstallazione delle versioni:</span><span class="sxs-lookup"><span data-stu-id="c4c01-133">When designing an application for side-by-side execution, follow these guidelines concerning installing and uninstalling versions:</span></span>  
  
- <span data-ttu-id="c4c01-134">Non eliminare dal Registro di sistema informazioni che potrebbero essere necessarie per altre applicazioni eseguite con una diversa versione di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4c01-134">Do not delete information from the registry that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="c4c01-135">Non sostituire informazioni del Registro di sistema che potrebbero essere necessarie per altre applicazioni eseguite con una diversa versione di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4c01-135">Do not replace information in the registry that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="c4c01-136">Non annullare la registrazione di componenti COM che potrebbero essere necessari per altre applicazioni eseguite con una diversa versione di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4c01-136">Do not unregister COM components that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="c4c01-137">Non modificare **InprocServer32** o altre voci del Registro di sistema per un server COM già registrato.</span><span class="sxs-lookup"><span data-stu-id="c4c01-137">Do not change **InprocServer32** or other registry entries for a COM server that was already registered.</span></span>  
  
- <span data-ttu-id="c4c01-138">Non eliminare account utente o gruppi che potrebbero essere necessari per altre applicazioni eseguite con una diversa versione di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c4c01-138">Do not delete user accounts or groups that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="c4c01-139">Non aggiungere nel Registro di sistema informazioni contenenti un percorso che non tenga conto della versione.</span><span class="sxs-lookup"><span data-stu-id="c4c01-139">Do not add anything to the registry that contains an unversioned path.</span></span>  
  
## <a name="file-version-number-and-assembly-version-number"></a><span data-ttu-id="c4c01-140">Numero di versione di file e assembly</span><span class="sxs-lookup"><span data-stu-id="c4c01-140">File Version Number and Assembly Version Number</span></span>  
 <span data-ttu-id="c4c01-141">La versione dei file costituisce una risorsa di versione Win32 non usata dal runtime.</span><span class="sxs-lookup"><span data-stu-id="c4c01-141">File version is a Win32 version resource that is not used by the runtime.</span></span> <span data-ttu-id="c4c01-142">In generale, la versione dei file viene aggiornata anche per un aggiornamento sul posto.</span><span class="sxs-lookup"><span data-stu-id="c4c01-142">In general, you update the file version even for an in-place update.</span></span> <span data-ttu-id="c4c01-143">Due file identici possono disporre di informazioni sulla versione del file diverse e due file diversi possono disporre delle stesse informazioni sulla versione del file.</span><span class="sxs-lookup"><span data-stu-id="c4c01-143">Two identical files can have different file version information, and two different files can have the same file version information.</span></span>  
  
 <span data-ttu-id="c4c01-144">La versione degli assembly viene usata dal runtime per il binding di assembly.</span><span class="sxs-lookup"><span data-stu-id="c4c01-144">The assembly version is used by the runtime for assembly binding.</span></span> <span data-ttu-id="c4c01-145">Due assembly identici con numeri di versione diversi vengono gestiti dal runtime come due assembly diversi.</span><span class="sxs-lookup"><span data-stu-id="c4c01-145">Two identical assemblies with different version numbers are treated as two different assemblies by the runtime.</span></span>  
  
 <span data-ttu-id="c4c01-146">Lo [strumento Global Assembly Cache (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md) consente di sostituire un assembly solo quando il numero di versione del file è più recente.</span><span class="sxs-lookup"><span data-stu-id="c4c01-146">The [Global Assembly Cache tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md) allows you to replace an assembly when only the file version number is newer.</span></span> <span data-ttu-id="c4c01-147">Windows Installer in genere non esegue l'installazione su un assembly a meno che il numero di versione dell'assembly non sia superiore.</span><span class="sxs-lookup"><span data-stu-id="c4c01-147">The installer generally does not install over an assembly unless the assembly version number is greater.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c4c01-148">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c4c01-148">See also</span></span>

- [<span data-ttu-id="c4c01-149">Esecuzione side-by-side</span><span class="sxs-lookup"><span data-stu-id="c4c01-149">Side-by-Side Execution</span></span>](side-by-side-execution.md)
- [<span data-ttu-id="c4c01-150">Procedura: Abilitare e disabilitare il reindirizzamento di associazione automatico</span><span class="sxs-lookup"><span data-stu-id="c4c01-150">How to: Enable and Disable Automatic Binding Redirection</span></span>](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md)
