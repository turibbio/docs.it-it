---
title: Problemi di migrazione di .NET Framework 4
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: 8e83859733f021afbe074a7b4818b155d74efdff
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/15/2020
ms.locfileid: "83420461"
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="38647-102">Problemi di migrazione di .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="38647-102">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="38647-103">In questo articolo vengono descritti i problemi di migrazione tra .NET Framework versione 3,5 Service Pack 1 e .NET Framework versione 4, incluse le correzioni, le modifiche per la conformità agli standard e la sicurezza e le modifiche in base ai suggerimenti dei clienti.</span><span class="sxs-lookup"><span data-stu-id="38647-103">This article describes migration issues between .NET Framework version 3.5 Service Pack 1 and .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="38647-104">La maggior parte di queste modifiche non richiede alcuna modifica a livello di codice delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="38647-104">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="38647-105">Per coloro che possono comportare modifiche, vedere la colonna **modifiche consigliate** della tabella.</span><span class="sxs-lookup"><span data-stu-id="38647-105">For those that may involve modifications, see the **Recommended changes** column of the table.</span></span> <span data-ttu-id="38647-106">Le modifiche rilevanti vengono suddivise in base all'area, ad esempio ASP.NET e Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="38647-106">Notable changes are broken down by area, for example, ASP.NET and Windows Presentation Foundation (WPF).</span></span>

<span data-ttu-id="38647-107">Per una panoramica più dettagliata dei problemi in questo articolo, vedere [Guida alla migrazione a .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="38647-107">For a higher-level overview of the issues in this article, see [Migration Guide to .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span></span>

<span data-ttu-id="38647-108">Per informazioni sulle nuove funzionalità, vedere Novità [di .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="38647-108">For information about new features, see [What's New in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="38647-109">ASP.NET e Web</span><span class="sxs-lookup"><span data-stu-id="38647-109">ASP.NET and Web</span></span>

<span data-ttu-id="38647-110">Spazi dei nomi: <xref:System.Web> , <xref:System.Web.Mobile> , <xref:System.Web.Security> ,<xref:System.Web.UI.WebControls></span><span class="sxs-lookup"><span data-stu-id="38647-110">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls></span></span>

<span data-ttu-id="38647-111">Assembly: System. Web (in System. Web. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-111">Assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="38647-112">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-112">Feature</span></span>  | <span data-ttu-id="38647-113">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-113">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-114">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-114">Recommended changes</span></span> |
| -------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-115">**File di definizione del browser**</span><span class="sxs-lookup"><span data-stu-id="38647-115">**Browser definition files**</span></span> | <span data-ttu-id="38647-116">I file di definizione del browser sono stati aggiornati per includere informazioni su browser e dispositivi nuovi e aggiornati.</span><span class="sxs-lookup"><span data-stu-id="38647-116">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="38647-117">Sono stati rimossi browser e dispositivi precedenti come Netscape Navigator e sono stati aggiunti browser e dispositivi più recenti come Google Chrome e Apple iPhone.</span><span class="sxs-lookup"><span data-stu-id="38647-117">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="38647-118">Se l'applicazione in uso contiene definizioni del browser personalizzate che derivano da una delle definizioni del browser rimosse, viene visualizzato un errore.</span><span class="sxs-lookup"><span data-stu-id="38647-118">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="38647-119">L'oggetto <xref:System.Web.HttpBrowserCapabilities> esposto dalla proprietà `Request.Browse` della pagina è gestito dai file di definizione del browser.</span><span class="sxs-lookup"><span data-stu-id="38647-119">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="38647-120">Pertanto le informazioni restituite mediante accesso a una proprietà di quest'oggetto in ASP.NET 4 possono essere diverse dalle informazioni restituite in una versione precedente di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-120">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="38647-121">Se l'applicazione si basa sui file di definizione del browser precedenti è possibile copiarli dalla seguente cartella:</span><span class="sxs-lookup"><span data-stu-id="38647-121">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="38647-122">*Browser di configurazione di Windows \\ Microsoft.NET \\ Framework \\ v 2.0.50727 \\ \\*</span><span class="sxs-lookup"><span data-stu-id="38647-122">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="38647-123">Copiare i file nella cartella corrispondente dei \* \\ \\ browser di configurazione\* per ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="38647-123">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="38647-124">Dopo la copia dei file eseguire lo strumento della riga di comando [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="38647-124">After you copy the files, run the [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) command-line tool.</span></span> <span data-ttu-id="38647-125">Per ulteriori informazioni, vedere il [https://www.asp.net/mobile](/aspnet/mobile/overview) sito Web.</span><span class="sxs-lookup"><span data-stu-id="38647-125">For more information, see the [https://www.asp.net/mobile](/aspnet/mobile/overview) Web site.</span></span> |
| <span data-ttu-id="38647-126">**Applicazioni figlio in esecuzione in versioni diverse di ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="38647-126">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="38647-127">Le applicazioni ASP.NET 4 configurate come elementi figlio di applicazioni che eseguono versioni precedenti di ASP.NET potrebbero non avviarsi a causa di errori di compilazione o di configurazione.</span><span class="sxs-lookup"><span data-stu-id="38647-127">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="38647-128">Gli errori specifici variano a seconda che l'applicazione sia eseguita in IIS 6.0, in IIS 7 o in IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="38647-128">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="38647-129">È possibile apportare modifiche ai file di configurazione delle applicazioni interessate in modo che il sistema di configurazione riconosca correttamente l'applicazione ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="38647-129">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="38647-130">Per informazioni sulle modifiche da apportare, vedere la sezione "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" (Le applicazioni figlio ASP.NET 4 non si avviano se dipendono da applicazioni ASP.NET 2.0 o ASP.NET 3.5) nel documento [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) (Modifiche di rilievo in ASP.NET 4) sul sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-130">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="38647-131">**Modifiche a ClientID**</span><span class="sxs-lookup"><span data-stu-id="38647-131">**ClientID changes**</span></span> | <span data-ttu-id="38647-132">La nuova impostazione `clientIDMode` in ASP.NET 4 consente di specificare la modalità con cui ASP.NET genera l'attributo `id` per gli elementi HTML.</span><span class="sxs-lookup"><span data-stu-id="38647-132">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="38647-133">Nelle versioni precedenti di ASP.NET il comportamento predefinito era equivalente all'impostazione `AutoID` di `clientIDMode`.</span><span class="sxs-lookup"><span data-stu-id="38647-133">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="38647-134">L'impostazione predefinita è ora `Predictable`.</span><span class="sxs-lookup"><span data-stu-id="38647-134">The default setting is now `Predictable`.</span></span> <span data-ttu-id="38647-135">Per altre informazioni, vedere [ASP.NET Web Server Control Identification](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29) (Identificazione del controllo server Web ASP.NET).</span><span class="sxs-lookup"><span data-stu-id="38647-135">For more information, see [ASP.NET Web Server Control Identification](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span></span> | <span data-ttu-id="38647-136">Se si usa Visual Studio per aggiornare l'applicazione da ASP.NET 2,0 o ASP.NET 3,5, lo strumento aggiunge automaticamente un'impostazione al file Web. config che conserva il comportamento delle versioni precedenti di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38647-136">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of .NET Framework.</span></span> <span data-ttu-id="38647-137">Tuttavia, se si aggiorna un'applicazione modificando il pool di applicazioni in IIS impostando come destinazione .NET Framework 4, per impostazione predefinita ASP.NET utilizzerà la nuova modalità.</span><span class="sxs-lookup"><span data-stu-id="38647-137">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="38647-138">Per disattivare la nuova modalità ID client, aggiungere l'impostazione seguente al file Web.config:</span><span class="sxs-lookup"><span data-stu-id="38647-138">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="38647-139">**Sicurezza dall'accesso di codice (CAS)**</span><span class="sxs-lookup"><span data-stu-id="38647-139">**Code access security (CAS)**</span></span> | <span data-ttu-id="38647-140">Le funzionalità .NET di ASP.NET 2.0 aggiunte in ASP.NET 3.5 usano il modello di sicurezza dall'accesso di codice .NET Framework 1.1 e .NET Framework 2.0.</span><span class="sxs-lookup"><span data-stu-id="38647-140">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="38647-141">Tuttavia l'implementazione di CAS in ASP.NET 4 è stata modificata in modo sostanziale.</span><span class="sxs-lookup"><span data-stu-id="38647-141">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="38647-142">Di conseguenza le applicazioni ASP.NET con attendibilità parziale che si basano su codice attendibile in esecuzione nella Global Assembly Cache possono bloccarsi, generando diverse eccezioni di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="38647-142">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="38647-143">Le applicazioni parzialmente attendibili che si basano su modifiche estese ai criteri CAS del computer potrebbe a loro volta bloccarsi e generare eccezioni di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="38647-143">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="38647-144">È possibile ripristinare il comportamento di ASP.NET 1.1 e 2.0 per le applicazioni ASP.NET 4 con attendibilità parziale usando il nuovo attributo `legacyCasModel` nell'elemento di configurazione `trust`, come visualizzato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-144">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="38647-145">Importante: il ripristino del modello di sicurezza CAS meno recente può comportare una riduzione della protezione.</span><span class="sxs-lookup"><span data-stu-id="38647-145">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="38647-146">Per altre informazioni sul nuovo modello di sicurezza dall'accesso di codice di ASP.NET 4, vedere [Sicurezza dall'accesso di codice per applicazioni ASP.NET 4](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="38647-146">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span></span> |
| <span data-ttu-id="38647-147">**File di configurazione**</span><span class="sxs-lookup"><span data-stu-id="38647-147">**Configuration files**</span></span> | <span data-ttu-id="38647-148">I file di configurazione radice (il file Machine. config e il file Web. config radice) per .NET Framework e ASP.NET 4 sono stati aggiornati in modo da includere la maggior parte delle informazioni di configurazione standard trovate nei file Web. config dell'applicazione in ASP.NET 3,5.</span><span class="sxs-lookup"><span data-stu-id="38647-148">The root configuration files (the machine.config file and the root Web.config file) for .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="38647-149">Data la complessità dei sistemi di configurazione gestiti IIS 7 e IIS 7.5 l'esecuzione di applicazioni ASP.NET 3.5 in ASP.NET 4 e in IIS 7 e IIS 7.5 può determinare errori ASP.NET o errori IIS.</span><span class="sxs-lookup"><span data-stu-id="38647-149">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="38647-150">Aggiornare le applicazioni ASP.NET 3.5 ad ASP.NET 4 con gli strumenti di aggiornamento progetto di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="38647-150">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio.</span></span> <span data-ttu-id="38647-151">Visual Studio 2010 modifica automaticamente il file Web.config dell'applicazione ASP.NET 3.5 in modo che contenga le impostazioni appropriate per ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="38647-151">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="38647-152">Tuttavia, è possibile eseguire le applicazioni ASP.NET 3,5 usando .NET Framework 4 senza ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="38647-152">However, you can run ASP.NET 3.5 applications using .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="38647-153">In tal caso, potrebbe essere necessario modificare manualmente il file Web. config dell'applicazione prima di eseguire l'applicazione in .NET Framework 4 e in IIS 7 o IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="38647-153">In that case, you might have to manually modify the application's Web.config file before you run the application under .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="38647-154">La modifica specifica da apportare dipende dalla combinazione di software in uso, inclusi i Service Pack (SP).</span><span class="sxs-lookup"><span data-stu-id="38647-154">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="38647-155">Per informazioni sulle possibili combinazioni di software interessate da questa modifica e sulla risoluzione dei problemi con combinazioni specifiche, vedere la sezione "Configuration Errors Related to New ASP.NET 4 Root Configuration" (Errori di configurazione associati alla nuova configurazione radice di ASP.NET 4) nel documento [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) (Modifiche di rilievo in ASP.NET 4) sul sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-155">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="38647-156">**Rendering dei controlli**</span><span class="sxs-lookup"><span data-stu-id="38647-156">**Control rendering**</span></span> | <span data-ttu-id="38647-157">Nelle versioni precedenti di ASP.NET alcuni controlli generavano markup che non era possibile disabilitare.</span><span class="sxs-lookup"><span data-stu-id="38647-157">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="38647-158">Per impostazione predefinita i markup di questo tipo non vengono generati in ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="38647-158">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="38647-159">Le modifiche per il rendering interessano i controlli seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-159">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="38647-160">\*I `Image` `ImageButton` controlli e non eseguono più il rendering di un `border="0"` attributo.</span><span class="sxs-lookup"><span data-stu-id="38647-160">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="38647-161">\*La `BaseValidator` classe e i controlli di convalida che derivano da esso non eseguono più il rendering del testo rosso per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="38647-161">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="38647-162">\*Il `HtmlForm` controllo non esegue il rendering di un `name` attributo.</span><span class="sxs-lookup"><span data-stu-id="38647-162">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="38647-163">\*Il `Table` controllo non esegue più il rendering di un `border="0"` attributo.</span><span class="sxs-lookup"><span data-stu-id="38647-163">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="38647-164">I controlli non progettati per l'input utente (ad esempio il controllo `Label`) non eseguono più il rendering dell'attributo `disabled="disabled"` se la loro proprietà `Enabled` è impostata su `false` (o se ereditano questa impostazione da un controllo contenitore).</span><span class="sxs-lookup"><span data-stu-id="38647-164">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="38647-165">Se si usa Visual Studio per aggiornare l'applicazione da ASP.NET 2.0 o ASP.NET 3.5, lo strumento aggiunge automaticamente al file Web.config un'impostazione che mantiene il rendering delle versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="38647-165">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="38647-166">Tuttavia, se si aggiorna un'applicazione modificando il pool di applicazioni in IIS impostando come destinazione .NET Framework 4, ASP.NET usa la nuova modalità di rendering per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="38647-166">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="38647-167">Per disattivare la nuova modalità di rendering aggiungere l'impostazione seguente al file Web.config:</span><span class="sxs-lookup"><span data-stu-id="38647-167">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="38647-168">**Gestori eventi nei documenti predefiniti**</span><span class="sxs-lookup"><span data-stu-id="38647-168">**Event handlers in default documents**</span></span> | <span data-ttu-id="38647-169">In ASP.NET 4, nell'elemento HTML `form` il rendering del valore dell'attributo `action` restituisce una stringa vuota quando viene effettuata una richiesta a un URL senza estensione al quale è mappato un documento predefinito.</span><span class="sxs-lookup"><span data-stu-id="38647-169">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="38647-170">Nelle versioni precedenti di ASP.NET una richiesta a `http://contoso.com` dava come risultato una richiesta a Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="38647-170">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="38647-171">In tale documento il tag di apertura `form` veniva restituito come nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-171">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="38647-172">Anche in ASP.NET 4 una richiesta a `http://contoso.com` restituisce una richiesta a Default.aspx, ma ora in ASP.NET il tag di apertura HTML `form` viene restituito come nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-172">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="38647-173">Quando l'attributo `action` è una stringa vuota, l'oggetto `DefaultDocumentModule` IIS crea una richiesta figlio a Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="38647-173">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="38647-174">Nella maggior parte dei casi la richiesta figlio è trasparente per il codice dell'applicazione e la pagina Default.aspx viene eseguita normalmente.</span><span class="sxs-lookup"><span data-stu-id="38647-174">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="38647-175">Tuttavia una potenziale interazione tra il codice gestito e la modalità integrata di IIS 7 o IIS 7.5 può interrompere il funzionamento corretto delle pagine gestite con estensione aspx durante la richiesta figlio.</span><span class="sxs-lookup"><span data-stu-id="38647-175">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="38647-176">La richiesta figlio a un documento predefinito con estensione aspx restituisce un errore o un comportamento imprevisto se si verificano le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-176">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="38647-177">\*Una pagina aspx viene inviata al browser con l'attributo dell' `form` elemento `action` impostato su "".</span><span class="sxs-lookup"><span data-stu-id="38647-177">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="38647-178">\*Viene eseguito il postback del modulo a ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-178">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="38647-179">\*Un modulo HTTP gestito legge una parte del corpo dell'entità, ad esempio `Request.Form` o `Request.Params` .</span><span class="sxs-lookup"><span data-stu-id="38647-179">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="38647-180">Di conseguenza il corpo dell'entità della richiesta POST viene letto nella memoria gestita.</span><span class="sxs-lookup"><span data-stu-id="38647-180">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="38647-181">Pertanto il corpo dell'entità non è più disponibile per i moduli di codice nativo che sono in esecuzione in modalità integrata IIS 7 o IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="38647-181">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="38647-182">\*L' `DefaultDocumentModule` oggetto IIS viene infine eseguito e crea una richiesta figlio al documento default. aspx.</span><span class="sxs-lookup"><span data-stu-id="38647-182">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="38647-183">Tuttavia poiché il corpo dell'entità è già stato letto da un frammento di codice gestito, non è disponibile alcun corpo di entità da inviare alla richiesta figlio.</span><span class="sxs-lookup"><span data-stu-id="38647-183">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="38647-184">\*Quando la pipeline HTTP viene eseguita per la richiesta figlio, il gestore per i file con estensione aspx viene eseguito durante la fase di esecuzione del gestore.</span><span class="sxs-lookup"><span data-stu-id="38647-184">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="38647-185">Poiché non è presente nessun corpo dell'entità, non sono presenti variabili del modulo né uno stato di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="38647-185">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="38647-186">Di conseguenza il gestore della pagina con estensione aspx non dispone di informazioni per determinare quale evento vada eventualmente generato.</span><span class="sxs-lookup"><span data-stu-id="38647-186">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="38647-187">Pertanto non viene eseguito nessun gestore dell'evento di postback per la pagina con estensione aspx interessata.</span><span class="sxs-lookup"><span data-stu-id="38647-187">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="38647-188">Per informazioni sulla risoluzione dei problemi che possono verificarsi in seguito a questa modifica, vedere "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" (I gestori eventi potrebbero non essere attivati in un documento predefinito in modalità integrata IIS 7 o IIS 7.5) nel documento [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) (Modifiche di rilievo in ASP.NET 4) sul sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-188">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="38647-189">**Algoritmo hash**</span><span class="sxs-lookup"><span data-stu-id="38647-189">**Hashing algorithm**</span></span> | <span data-ttu-id="38647-190">Per la protezione di dati come i cookie di autenticazione modulo e lo stato di visualizzazione, ASP.NET usa sia la crittografia che gli algoritmi hash.</span><span class="sxs-lookup"><span data-stu-id="38647-190">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="38647-191">Per impostazione predefinita, ASP.NET 4 usa l'algoritmo <xref:System.Security.Cryptography.HMACSHA256> per le operazioni di hash sui cookie e lo stato di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="38647-191">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="38647-192">Le versioni precedenti di ASP.NET usano l'algoritmo meno recente <xref:System.Security.Cryptography.HMACSHA1>.</span><span class="sxs-lookup"><span data-stu-id="38647-192">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="38647-193">Se si eseguono applicazioni che combinano ASP.NET 2.0 e ASP.NET 4 in cui i dati quali i cookie di autenticazione moduli devono funzionare con tutte le versioni di .NET Framework, è possibile configurare un'applicazione Web ASP.NET 4 per l'uso dell'algoritmo meno recente <xref:System.Security.Cryptography.HMACSHA1> aggiungendo la seguente impostazione nel file Web.config:</span><span class="sxs-lookup"><span data-stu-id="38647-193">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="38647-194">**Hosting di controlli in Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="38647-194">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="38647-195">Non è più possibile eseguire l'hosting di controlli Windows Form in Internet Explorer, perché esistono soluzioni migliori per l'hosting di controlli sul Web.</span><span class="sxs-lookup"><span data-stu-id="38647-195">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="38647-196">Gli assembly IEHost. dll e IEExec. exe, quindi, sono stati rimossi da .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38647-196">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from .NET Framework.</span></span> | <span data-ttu-id="38647-197">Per lo sviluppo di controlli personalizzati è possibile usare le tecnologie seguenti nelle applicazioni Web:</span><span class="sxs-lookup"><span data-stu-id="38647-197">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="38647-198">\*È possibile creare un'applicazione Silverlight e configurarla per l'esecuzione all'esterno del browser.</span><span class="sxs-lookup"><span data-stu-id="38647-198">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="38647-199">Per altre informazioni, vedere [Out-of-Browser Support](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29) (Supporto out-of-browser).</span><span class="sxs-lookup"><span data-stu-id="38647-199">For more information, see [Out-of-Browser Support](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span></span><br><span data-ttu-id="38647-200">\*È possibile creare un'applicazione browser XAML (XBAP) per sfruttare le funzionalità di WPF (richiede .NET Framework nei computer client).</span><span class="sxs-lookup"><span data-stu-id="38647-200">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires .NET Framework on client machines).</span></span> <span data-ttu-id="38647-201">Per altre informazioni, vedere [Panoramica delle applicazioni browser XAML di WPF](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="38647-201">For more information, see [WPF XAML Browser Applications Overview](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span></span> |
| <span data-ttu-id="38647-202">**Metodi HtmlEncode e UrlEncode**</span><span class="sxs-lookup"><span data-stu-id="38647-202">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="38647-203">I metodi `HtmlEncode` e `UrlEncode` delle classi <xref:System.Web.HttpUtility> e <xref:System.Web.HttpServerUtility> sono stati aggiornati per codificare il carattere virgoletta singola (') come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="38647-203">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="38647-204">\*Il `HtmlEncode` metodo codifica le istanze delle virgolette singole come`&#39;`</span><span class="sxs-lookup"><span data-stu-id="38647-204">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="38647-205">\*Il `UrlEncode` metodo codifica le istanze delle virgolette singole come`%27`</span><span class="sxs-lookup"><span data-stu-id="38647-205">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="38647-206">Esaminare le aree del codice in cui si usano i metodi `HtmlEncode` e `UrlEncode` e verificare che la variazione della codifica non produca alterazioni che possono avere effetto sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-206">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="38647-207">**Errori HttpException nelle applicazioni ASP.NET 2.0**</span><span class="sxs-lookup"><span data-stu-id="38647-207">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="38647-208">Dopo l'abilitazione di ASP.NET 4 in IIS 6, le applicazioni ASP.NET 2.0 in esecuzione su IIS 6 (in Windows Server 2003 o Windows Server 2003 R2) possono generare errori come il seguente: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="38647-208">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="38647-209">\* Se ASP.NET 4 non è necessario per l'esecuzione del sito Web, modificare il mapping del sito e abilitare l'uso di ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="38647-209">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="38647-210">-oppure-</span><span class="sxs-lookup"><span data-stu-id="38647-210">-or-</span></span><br><br><span data-ttu-id="38647-211">\*Se è necessario ASP.NET 4 per eseguire il sito Web, spostare le directory virtuali ASP.NET 2,0 figlio in un sito Web diverso mappato a ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="38647-211">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="38647-212">-oppure-</span><span class="sxs-lookup"><span data-stu-id="38647-212">-or-</span></span><br><br><span data-ttu-id="38647-213">\*Disabilitare gli URL con estensione.</span><span class="sxs-lookup"><span data-stu-id="38647-213">\* Disable extensionless URLs.</span></span> <span data-ttu-id="38647-214">Per altre informazioni, vedere "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" (Le applicazioni ASP.NET 2.0 possono generare errori HttpException con riferimenti a eurl.axd) nel documento [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) (Modifiche di rilievo in ASP.NET 4) nel sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-214">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="38647-215">**Tipi di appartenenza**</span><span class="sxs-lookup"><span data-stu-id="38647-215">**Membership types**</span></span> | <span data-ttu-id="38647-216">Alcuni tipi (ad esempio <xref:System.Web.Security.MembershipProvider>) usati nell'appartenenza di ASP.NET sono stati spostati da System.Web.dll a System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="38647-216">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="38647-217">I tipi sono stati spostati per risolvere dipendenze dei livelli di architettura tra i tipi nel client e negli SKU estesi di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38647-217">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="38647-218">La compilazione di librerie di classi aggiornate da versioni precedenti di ASP.NET che usano tipi di appartenenza spostati potrebbe non riuscire quando tali librerie vengono usate in un progetto ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="38647-218">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="38647-219">In questo caso aggiungere un riferimento a System.Web.ApplicationServices.dll nel progetto della libreria di classi.</span><span class="sxs-lookup"><span data-stu-id="38647-219">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="38647-220">**Modifiche al controllo Menu**</span><span class="sxs-lookup"><span data-stu-id="38647-220">**Menu control changes**</span></span> | <span data-ttu-id="38647-221">Le modifiche apportate al controllo <xref:System.Web.UI.WebControls.Menu> danno origine al comportamento seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-221">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="38647-222">\*Se <xref:System.Web.UI.WebControls.MenuRenderingMode> è impostato su `List` o se <xref:System.Web.UI.WebControls.MenuRenderingMode> è impostato su `Default` e <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> è impostato su `4.0` o versione successiva, la <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> proprietà non ha alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="38647-222">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="38647-223">\*Se il percorso impostato nelle <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> proprietà e contiene una barra rovesciata ( \\ ), non viene eseguito il rendering delle immagini.</span><span class="sxs-lookup"><span data-stu-id="38647-223">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="38647-224">Nelle versioni precedenti di ASP.NET il percorso poteva includere una barra rovesciata.</span><span class="sxs-lookup"><span data-stu-id="38647-224">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="38647-225">\* Anziché impostare la proprietà <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> per singole voci di menu, impostare <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> o <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> del controllo <xref:System.Web.UI.WebControls.Menu> padre.</span><span class="sxs-lookup"><span data-stu-id="38647-225">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="38647-226">-oppure-</span><span class="sxs-lookup"><span data-stu-id="38647-226">-or-</span></span><br><br><span data-ttu-id="38647-227">Impostare <xref:System.Web.UI.WebControls.MenuRenderingMode> su `Table` o impostare <xref:System.Web.UI.WebControls.MenuRenderingMode> su `Default` e impostare <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> su `3.5`.</span><span class="sxs-lookup"><span data-stu-id="38647-227">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="38647-228">Con queste impostazioni il controllo <xref:System.Web.UI.WebControls.Menu> usa il layout basato su tabella HTML che usava anche nelle versioni precedenti di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-228">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="38647-229">\*Se il percorso nella <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> proprietà o <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> contiene una barra rovesciata ( \\ ), sostituire un carattere barra (/).</span><span class="sxs-lookup"><span data-stu-id="38647-229">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="38647-230">**Assembly Mobile nel file Web.config**</span><span class="sxs-lookup"><span data-stu-id="38647-230">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="38647-231">Nelle versioni precedenti di ASP.NET un riferimento all'assembly System.Web.Mobile.dll è incluso nel file Web.config radice nella sezione `assemblies`, sotto `system.web`/`compilation`.</span><span class="sxs-lookup"><span data-stu-id="38647-231">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="38647-232">Per migliorare le prestazioni, il riferimento a questo assembly è stato rimosso.</span><span class="sxs-lookup"><span data-stu-id="38647-232">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="38647-233">Nota: l'assembly System.Web.Mobile.dll e i controlli mobili ASP.NET sono inclusi in ASP.NET 4, ma sono deprecati.</span><span class="sxs-lookup"><span data-stu-id="38647-233">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="38647-234">Per usare tipi di questo assembly aggiungere un riferimento all'assembly nel file Web.config radice o in un file Web.config dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-234">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="38647-235">**Memorizzazione dell'output nella cache**</span><span class="sxs-lookup"><span data-stu-id="38647-235">**Output caching**</span></span> | <span data-ttu-id="38647-236">In ASP.NET 1,0, un bug ha causato le pagine memorizzate nella cache che hanno specificato `Location="ServerAndClient"` come output l' &euro; impostazione della cache per emettere un' `Vary:*` intestazione HTTP nella risposta.</span><span class="sxs-lookup"><span data-stu-id="38647-236">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output&euro;"cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="38647-237">Questa intestazione comunicava ai browser client di non memorizzare mai la pagina nella cache in locale.</span><span class="sxs-lookup"><span data-stu-id="38647-237">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="38647-238">In ASP.NET 1.1 è stato aggiunto il metodo <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> che può essere chiamato per eliminare l'intestazione `Vary:*`.</span><span class="sxs-lookup"><span data-stu-id="38647-238">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="38647-239">Tuttavia i report sui bug indicano che gli sviluppatori non sono a conoscenza del comportamento `SetOmitVaryStar` esistente.</span><span class="sxs-lookup"><span data-stu-id="38647-239">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="38647-240">In ASP.NET 4 l'intestazione HTTP `Vary:*` non viene più generata dalle risposte che specificano la direttiva seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-240">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="38647-241">Di conseguenza il metodo <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> non è più necessario per eliminare l'intestazione `Vary:*`.</span><span class="sxs-lookup"><span data-stu-id="38647-241">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="38647-242">Nelle applicazioni che specificano "ServerAndClient" come attributo `Location` le pagine possono essere memorizzate nella cache del browser senza che sia necessario chiamare <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span><span class="sxs-lookup"><span data-stu-id="38647-242">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="38647-243">Se è necessario che le pagine dell'applicazione emettano `Vary:*`, chiamare il metodo <xref:System.Web.HttpResponse.AppendHeader%2A> come illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-243">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="38647-244">In alternativa è possibile impostare su "Server" il valore dell'attributo di memorizzazione nella cache dell'output `Location`.</span><span class="sxs-lookup"><span data-stu-id="38647-244">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="38647-245">**Analisi della pagina**</span><span class="sxs-lookup"><span data-stu-id="38647-245">**Page parsing**</span></span> | <span data-ttu-id="38647-246">Il parser di pagina per le pagine Web (file con estensione aspx) e i controlli utente (file con estensione ascx) di ASP.NET è più restrittivo in ASP.NET 4 rispetto alle versioni precedenti di ASP.NET e rileva una quantità di markup non valido superiore a quella rilevata nelle versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="38647-246">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="38647-247">Esaminare i messaggi di errore generati durante l'esecuzione di una pagina e correggere gli errori risultanti da markup non valido.</span><span class="sxs-lookup"><span data-stu-id="38647-247">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="38647-248">**Tipi Passport**</span><span class="sxs-lookup"><span data-stu-id="38647-248">**Passport types**</span></span> | <span data-ttu-id="38647-249">Il supporto per Passport incorporato in ASP.NET 2.0 è obsoleto e non è più riconosciuto a causa delle modifiche apportate a Passport (ora denominato SDK Live ID).</span><span class="sxs-lookup"><span data-stu-id="38647-249">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="38647-250">Di conseguenza i tipi associati a Passport in <xref:System.Web.Security> ora sono contrassegnati con l'attributo `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="38647-250">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="38647-251">Modificare il codice che utilizza i tipi Passport nello <xref:System.Web.Security> spazio dei nomi (ad esempio, <xref:System.Web.Security.PassportIdentity> ) per utilizzare Windows Live ID SDK.</span><span class="sxs-lookup"><span data-stu-id="38647-251">Change any code that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the Windows Live ID SDK.</span></span> |
| <span data-ttu-id="38647-252">**Informazioni PathInfo nella proprietà FilePath**</span><span class="sxs-lookup"><span data-stu-id="38647-252">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="38647-253">In ASP.NET 4 il valore `PathInfo` non è più incluso nei valori restituiti da proprietà quali <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath> e <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span><span class="sxs-lookup"><span data-stu-id="38647-253">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="38647-254">Le informazioni `PathInfo` ora sono disponibili in <xref:System.Web.HttpRequest.PathInfo>.</span><span class="sxs-lookup"><span data-stu-id="38647-254">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="38647-255">Considerare ad esempio il frammento di URL seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-255">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="38647-256">Nelle versioni precedenti di ASP.NET le proprietà <xref:System.Web.HttpRequest> hanno i valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-256">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="38647-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="38647-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="38647-258">\*<xref:System.Web.HttpRequest.PathInfo>: (vuoto)</span><span class="sxs-lookup"><span data-stu-id="38647-258">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="38647-259">In ASP.NET 4 invece i valori delle proprietà <xref:System.Web.HttpRequest> sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-259">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="38647-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="38647-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="38647-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="38647-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="38647-262">Esaminare le aree del codice che usano le proprietà della classe <xref:System.Web.HttpRequest> per restituire informazioni sul percorso e modificare il codice in modo che rifletta le modifiche delle modalità di restituzione delle informazioni sul percorso.</span><span class="sxs-lookup"><span data-stu-id="38647-262">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="38647-263">**Convalida delle richieste**</span><span class="sxs-lookup"><span data-stu-id="38647-263">**Request validation**</span></span> | <span data-ttu-id="38647-264">Per migliorare la convalida delle richieste, la convalida della richiesta ASP.NET viene chiamata in una fase precedente del ciclo di vita della richiesta.</span><span class="sxs-lookup"><span data-stu-id="38647-264">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="38647-265">Di conseguenza la convalida delle richieste viene eseguita per richieste che non sono destinate a file con estensione aspx, ad esempio per chiamate al servizio Web e per gestori personalizzati.</span><span class="sxs-lookup"><span data-stu-id="38647-265">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="38647-266">La convalida delle richieste resta attiva anche quando nella pipeline di elaborazione richieste sono in esecuzione moduli HTTP personalizzati.</span><span class="sxs-lookup"><span data-stu-id="38647-266">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="38647-267">In seguito a questa modifica le richieste di risorse diverse da file con estensione aspx possono generare errori di convalida delle richieste.</span><span class="sxs-lookup"><span data-stu-id="38647-267">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="38647-268">Anche il codice personalizzato eseguito nella pipeline delle richieste (ad esempio moduli HTTP personalizzati) può generare errori di convalida delle richieste.</span><span class="sxs-lookup"><span data-stu-id="38647-268">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="38647-269">Se necessario è possibile ripristinare il comportamento precedente in cui la convalida richieste veniva attivata solo dalle pagine con estensione aspx. Per fare ciò usare l'impostazione seguente nel file di configurazione Web:</span><span class="sxs-lookup"><span data-stu-id="38647-269">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="38647-270">Avviso: se si ripristina il comportamento precedente, assicurarsi che tutto il codice in gestori, moduli e altro codice personalizzato esistenti esegua controlli per gli input HTTP potenzialmente non sicuri che potrebbero essere vettori di attacco XSS.</span><span class="sxs-lookup"><span data-stu-id="38647-270">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.</span></span> |
| <span data-ttu-id="38647-271">**Routing.**</span><span class="sxs-lookup"><span data-stu-id="38647-271">**Routing**</span></span> | <span data-ttu-id="38647-272">Se si crea un sito Web di file system in Visual Studio 2010 e il sito Web si trova in una cartella il cui nome contiene un punto (.), il routing dell'URL non funziona in modo affidabile.</span><span class="sxs-lookup"><span data-stu-id="38647-272">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="38647-273">Alcuni percorsi virtuali restituiscono un errore HTTP 404.</span><span class="sxs-lookup"><span data-stu-id="38647-273">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="38647-274">Questo errore si verifica perché Visual Studio 2010 avvia Visual Studio Development Server usando un percorso non corretto per la directory radice virtuale.</span><span class="sxs-lookup"><span data-stu-id="38647-274">This occurs because Visual Studio 2010 launches the Visual Studio Development Server using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="38647-275">\* Nella pagina **Proprietà** del sito Web basato su file impostare l'attributo **Percorso virtuale** su "/".</span><span class="sxs-lookup"><span data-stu-id="38647-275">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="38647-276">-oppure-</span><span class="sxs-lookup"><span data-stu-id="38647-276">-or-</span></span><br><br><span data-ttu-id="38647-277">\*Creare un progetto di applicazione Web invece di un progetto di sito Web.</span><span class="sxs-lookup"><span data-stu-id="38647-277">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="38647-278">I progetti di applicazione Web non presentano questo problema e il routing di URL funziona anche se il nome della cartella del progetto contiene un punto.</span><span class="sxs-lookup"><span data-stu-id="38647-278">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="38647-279">-oppure-</span><span class="sxs-lookup"><span data-stu-id="38647-279">-or-</span></span><br><br><span data-ttu-id="38647-280">\*Creare un sito Web basato su HTTP ospitato in IIS.</span><span class="sxs-lookup"><span data-stu-id="38647-280">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="38647-281">Sia il percorso virtuale sia la cartella del file di progetto dei siti Web ospitati in IIS possono includere punti.</span><span class="sxs-lookup"><span data-stu-id="38647-281">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="38647-282">**Siti di SharePoint**</span><span class="sxs-lookup"><span data-stu-id="38647-282">**SharePoint sites**</span></span> | <span data-ttu-id="38647-283">Se si prova a eseguire un sito Web ASP.NET 4 distribuito come figlio di un sito Web SharePoint che contiene un livello di attendibilità parziale personalizzato denominato `WSS_Minimal`, viene visualizzato l'errore seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-283">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="38647-284">Attualmente nessuna versione di SharePoint è compatibile con ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="38647-284">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="38647-285">Pertanto evitare di eseguire un sito Web ASP.NET 4 come figlio di un sito Web SharePoint.</span><span class="sxs-lookup"><span data-stu-id="38647-285">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="38647-286">**Standard XHTML 1.1**</span><span class="sxs-lookup"><span data-stu-id="38647-286">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="38647-287">Per abilitare la conformità XHTML 1,1 per i nuovi siti Web, i controlli ASP.NET in .NET Framework 4 genereranno codice HTML conforme a XHTML 1,1.</span><span class="sxs-lookup"><span data-stu-id="38647-287">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="38647-288">Il rendering viene abilitato con l'opzione seguente nel file Web.config all'interno dell'elemento `<system.Web>`:</span><span class="sxs-lookup"><span data-stu-id="38647-288">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="38647-289">L'impostazione predefinita di questa opzione è 4.0.</span><span class="sxs-lookup"><span data-stu-id="38647-289">This option is set by default to 4.0.</span></span> <span data-ttu-id="38647-290">Nei progetti Web aggiornati da Visual Studio 2008 l'impostazione attivata è 3.5, per garantire la compatibilità.</span><span class="sxs-lookup"><span data-stu-id="38647-290">Web projects that are upgraded from Visual Studio 2008 have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="38647-291">No.</span><span class="sxs-lookup"><span data-stu-id="38647-291">None.</span></span> |

## <a name="core"></a><span data-ttu-id="38647-292">Core</span><span class="sxs-lookup"><span data-stu-id="38647-292">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="38647-293">Funzionalità generali</span><span class="sxs-lookup"><span data-stu-id="38647-293">General features</span></span>

| <span data-ttu-id="38647-294">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-294">Feature</span></span> | <span data-ttu-id="38647-295">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-295">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-296">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-296">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-297">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="38647-297">**CardSpace**</span></span> | <span data-ttu-id="38647-298">Windows CardSpace non è più incluso in .NET Framework; viene fornito separatamente.</span><span class="sxs-lookup"><span data-stu-id="38647-298">Windows CardSpace is no longer included in .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="38647-299">È possibile scaricare Windows CardSpace nell'[Area download Microsoft](https://go.microsoft.com/fwlink/?LinkId=199868).</span><span class="sxs-lookup"><span data-stu-id="38647-299">Download Windows CardSpace from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="38647-300">**File di configurazione**</span><span class="sxs-lookup"><span data-stu-id="38647-300">**Configuration files**</span></span> | <span data-ttu-id="38647-301">Sono state apportate correzioni per il modo in cui .NET Framework accede ai file di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-301">Corrections have been made in how .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="38647-302">Se il file di configurazione dell'applicazione è denominato *Application-Name. config*, rinominarlo in *Application-Name. exe. config*. Ad esempio, rinominare *MyApp. config* in *MyApp. exe. config*.</span><span class="sxs-lookup"><span data-stu-id="38647-302">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="38647-303">**Compilatore di codice C#**</span><span class="sxs-lookup"><span data-stu-id="38647-303">**C# code compiler**</span></span> | <span data-ttu-id="38647-304">Le `Compiler` `CompilerError` classi, e `ErrorLevel` <xref:Microsoft.CSharp> incluse nello spazio dei nomi non sono più disponibili e il relativo assembly (cscompmgd. dll) non è più incluso in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="38647-304">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in .NET Framework.</span></span> | <span data-ttu-id="38647-305">Usare la classe <xref:System.CodeDom.Compiler.CodeDomProvider> e le altre classi dello spazio dei nomi <xref:System.CodeDom.Compiler>.</span><span class="sxs-lookup"><span data-stu-id="38647-305">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="38647-306">Per altre informazioni, vedere [Uso di CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="38647-306">For more information, see [Using the CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span></span> |
| <span data-ttu-id="38647-307">**Hosting** (API non gestite)</span><span class="sxs-lookup"><span data-stu-id="38647-307">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="38647-308">Per migliorare le funzionalità di hosting, alcune API di attivazione hosting sono state deprecate.</span><span class="sxs-lookup"><span data-stu-id="38647-308">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="38647-309">Le funzionalità di esecuzione side-by-side in-process consentono a un'applicazione di caricare e avviare più versioni di .NET Framework nello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="38647-309">In-process side-by-side execution features enable an application to load and start multiple versions of .NET Framework in the same process.</span></span> <span data-ttu-id="38647-310">È ad esempio possibile eseguire applicazioni che caricano componenti aggiuntivi (o componenti) basati su .NET Framework 2,0 SP1 e componenti aggiuntivi basati su .NET Framework 4 nello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="38647-310">For example, you can run applications that load add-ins (or components) that are based on .NET Framework 2.0 SP1 and add-ins that are based on .NET Framework 4 in the same process.</span></span> <span data-ttu-id="38647-311">I componenti di versioni precedenti continuano a usare la versione precedente di .NET Framework e i nuovi componenti usano la nuova versione.</span><span class="sxs-lookup"><span data-stu-id="38647-311">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="38647-312">Usare le configurazioni descritte in [Esecuzione side-by-side in-process](../deployment/in-process-side-by-side-execution.md).</span><span class="sxs-lookup"><span data-stu-id="38647-312">Use the configurations described in [In-Process Side-by-Side Execution](../deployment/in-process-side-by-side-execution.md).</span></span> |
| <span data-ttu-id="38647-313">**Nuovo modello di sicurezza**</span><span class="sxs-lookup"><span data-stu-id="38647-313">**New security model**</span></span> | <span data-ttu-id="38647-314">I criteri di sicurezza dall'accesso di codice sono stati disattivati e sostituiti con un modello semplificato, come descritto in [modifiche della sicurezza in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="38647-314">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span></span> | <span data-ttu-id="38647-315">Se le applicazioni usano i criteri di sicurezza dall'accesso di codice può risultare necessario apportare modifiche.</span><span class="sxs-lookup"><span data-stu-id="38647-315">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="38647-316">Per altre informazioni, vedere [Migrazione e compatibilità dei criteri di sicurezza dall'accesso di codice](../misc/code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="38647-316">For more information, see [Code Access Security Policy Compatibility and Migration](../misc/code-access-security-policy-compatibility-and-migration.md).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="38647-317">Date e Time</span><span class="sxs-lookup"><span data-stu-id="38647-317">Date and time</span></span>

<span data-ttu-id="38647-318">Namespace<xref:System></span><span class="sxs-lookup"><span data-stu-id="38647-318">Namespace: <xref:System></span></span>

<span data-ttu-id="38647-319">Assembly: mscorlib (in mscorlib. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-319">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="38647-320">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-320">Feature</span></span> | <span data-ttu-id="38647-321">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-321">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-322">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-322">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-323">**Ora legale**</span><span class="sxs-lookup"><span data-stu-id="38647-323">**Daylight savings**</span></span> | <span data-ttu-id="38647-324">Per garantire la coerenza con l'orologio di sistema, le proprietà di ora (ad esempio <xref:System.TimeZoneInfo.Local> e <xref:System.DateTime.Now>) adottano le regole del sistema operativo anziché altri dati di .NET Framework per le operazioni con ora legale.</span><span class="sxs-lookup"><span data-stu-id="38647-324">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="38647-325">No.</span><span class="sxs-lookup"><span data-stu-id="38647-325">None.</span></span> |
| <span data-ttu-id="38647-326">**Formattazione di stringhe**</span><span class="sxs-lookup"><span data-stu-id="38647-326">**Formatting strings**</span></span> | <span data-ttu-id="38647-327">Per supportare una formattazione che rileva le impostazioni cultura, la struttura <xref:System.TimeSpan> include nuovi overload dei metodi `ToString`, `Parse` e `TryParse` oltre ai nuovi metodi `ParseExact` e `TryParseExact`.</span><span class="sxs-lookup"><span data-stu-id="38647-327">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="38647-328">No.</span><span class="sxs-lookup"><span data-stu-id="38647-328">None.</span></span> |

### <a name="globalization"></a><span data-ttu-id="38647-329">Globalizzazione</span><span class="sxs-lookup"><span data-stu-id="38647-329">Globalization</span></span>

<span data-ttu-id="38647-330">Per l'elenco delle nuove impostazioni cultura neutre e specifiche, vedere [What's New in Globalization and Localization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29) (Novità relative alla globalizzazione e alla localizzazione).</span><span class="sxs-lookup"><span data-stu-id="38647-330">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span></span>

<span data-ttu-id="38647-331">Namespace<xref:System.Globalization></span><span class="sxs-lookup"><span data-stu-id="38647-331">Namespace: <xref:System.Globalization></span></span>

<span data-ttu-id="38647-332">Assembly: mscorlib (in mscorlib. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-332">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="38647-333">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-333">Feature</span></span> | <span data-ttu-id="38647-334">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-334">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-335">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-335">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-336">**Nomi delle impostazioni cultura**</span><span class="sxs-lookup"><span data-stu-id="38647-336">**Culture names**</span></span> | <span data-ttu-id="38647-337">Le seguenti modifiche di nome interessano le impostazioni cultura Divehi, Tedesco e Afrikaans:</span><span class="sxs-lookup"><span data-stu-id="38647-337">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="38647-338">\*<xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Il nome della valuta per le impostazioni cultura tedesche (Svizzera) (de-ch) è stato modificato da "SFR".</span><span class="sxs-lookup"><span data-stu-id="38647-338">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switzerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="38647-339">a "Fr.".</span><span class="sxs-lookup"><span data-stu-id="38647-339">to "Fr.".</span></span><br><span data-ttu-id="38647-340">\*<xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Il modello di data estesa per le impostazioni cultura Divehi (Maldive) (DV-MV) è stato modificato da "gg/MMMM/aaaa" a "gg/mm/aaaa".</span><span class="sxs-lookup"><span data-stu-id="38647-340">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="38647-341">\*<xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: Le 19:00</span><span class="sxs-lookup"><span data-stu-id="38647-341">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="38647-342">delle impostazioni cultura Afrikaans (Sud Africa) (af-ZA) è stato cambiato da "nm" a "PM".</span><span class="sxs-lookup"><span data-stu-id="38647-342">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="38647-343">Prendere nota delle modifiche dei nomi delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="38647-343">Note culture name changes.</span></span> |
| <span data-ttu-id="38647-344">**Parametro LCID**</span><span class="sxs-lookup"><span data-stu-id="38647-344">**LCID parameter**</span></span> | <span data-ttu-id="38647-345">Per coerenza con il comportamento previsto nelle impostazioni del server di automazione, CLR non trasferisce più le impostazioni cultura correnti per il parametro `LCID` alle applicazioni basate su COM non gestite.</span><span class="sxs-lookup"><span data-stu-id="38647-345">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="38647-346">Ora vengono trasferite le impostazioni cultura 1033 (en-US).</span><span class="sxs-lookup"><span data-stu-id="38647-346">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="38647-347">Non sono necessarie modifiche, salvo per le applicazioni native che richiedono impostazioni cultura specifiche.</span><span class="sxs-lookup"><span data-stu-id="38647-347">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="38647-348">**Tipi di impostazioni cultura obsoleti**</span><span class="sxs-lookup"><span data-stu-id="38647-348">**Obsolete culture types**</span></span> | <span data-ttu-id="38647-349">I tipi di impostazioni cultura <xref:System.Globalization.CultureTypes> e <xref:System.Globalization.CultureTypes> sono obsoleti.</span><span class="sxs-lookup"><span data-stu-id="38647-349">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="38647-350">Per garantire la compatibilità con le versioni precedenti, <xref:System.Globalization.CultureTypes> ora restituisce le impostazioni cultura neutre e specifiche incluse con la versione precedente di .NET Framework e <xref:System.Globalization.CultureTypes> ora restituisce un elenco vuoto.</span><span class="sxs-lookup"><span data-stu-id="38647-350">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="38647-351">Usare altri valori dell'enumerazione <xref:System.Globalization.CultureTypes>.</span><span class="sxs-lookup"><span data-stu-id="38647-351">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="38647-352">**Recupero delle impostazioni cultura**</span><span class="sxs-lookup"><span data-stu-id="38647-352">**Retrieving culture**</span></span> | <span data-ttu-id="38647-353">A partire da Windows 7, .NET Framework 4 recupera le informazioni sulle impostazioni cultura dal sistema operativo anziché archiviare i dati stessi.</span><span class="sxs-lookup"><span data-stu-id="38647-353">Beginning with Windows 7, .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="38647-354">Inoltre, .NET Framework viene sincronizzato con Windows per l'ordinamento e la combinazione di maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="38647-354">In addition, .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="38647-355">No.</span><span class="sxs-lookup"><span data-stu-id="38647-355">None.</span></span> |
| <span data-ttu-id="38647-356">**Standard Unicode 5.1**</span><span class="sxs-lookup"><span data-stu-id="38647-356">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="38647-357">.NET Framework supporta ora tutti i caratteri Unicode 5,1, ovvero un'aggiunta di circa 1400 caratteri.</span><span class="sxs-lookup"><span data-stu-id="38647-357">.NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="38647-358">I caratteri aggiuntivi includono nuovi simboli, frecce, segni diacritici, punteggiatura, simboli matematici, tratti CJK e ideogrammi, caratteri numerici aggiuntivi Malayalam e Telugu e vari caratteri latini, arabi, greci, mongoli, cirillici e birmani.</span><span class="sxs-lookup"><span data-stu-id="38647-358">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="38647-359">Unicode 5.1 supporta ora anche gli alfabeti seguenti: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, Malayalam e Cham.</span><span class="sxs-lookup"><span data-stu-id="38647-359">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="38647-360">No.</span><span class="sxs-lookup"><span data-stu-id="38647-360">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="38647-361">Eccezioni</span><span class="sxs-lookup"><span data-stu-id="38647-361">Exceptions</span></span>

<span data-ttu-id="38647-362">Spazi dei nomi: <xref:System> ,<xref:System.Runtime.ExceptionServices></span><span class="sxs-lookup"><span data-stu-id="38647-362">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices></span></span>

<span data-ttu-id="38647-363">Assembly: mscorlib (in mscorlib. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-363">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="38647-364">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-364">Feature</span></span> | <span data-ttu-id="38647-365">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-365">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-366">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-366">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-367">**Eccezioni per lo stato di processo danneggiato**</span><span class="sxs-lookup"><span data-stu-id="38647-367">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="38647-368">CLR non trasmette più eccezioni per lo stato di processo danneggiato ai gestori di eccezioni nel codice gestito.</span><span class="sxs-lookup"><span data-stu-id="38647-368">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="38647-369">Queste eccezioni indicano che lo stato di un processo è danneggiato.</span><span class="sxs-lookup"><span data-stu-id="38647-369">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="38647-370">Se viene segnalato questo stato non è consigliabile eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-370">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="38647-371">Per ulteriori informazioni, vedere <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> e la voce relativa alla [gestione delle eccezioni di stato danneggiato](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) in MSDN Magazine.</span><span class="sxs-lookup"><span data-stu-id="38647-371">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) in the MSDN magazine.</span></span> |
| <span data-ttu-id="38647-372">**Eccezioni del motore di esecuzione**</span><span class="sxs-lookup"><span data-stu-id="38647-372">**Execution engine exceptions**</span></span> | <span data-ttu-id="38647-373"><xref:System.ExecutionEngineException> è obsoleta perché un'eccezione intercettabile consente di continuare l'esecuzione di un processo instabile.</span><span class="sxs-lookup"><span data-stu-id="38647-373"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="38647-374">Questa modifica migliora la prevedibilità e l'affidabilità in fase di runtime.</span><span class="sxs-lookup"><span data-stu-id="38647-374">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="38647-375">Usare <xref:System.InvalidOperationException> per segnalare la condizione.</span><span class="sxs-lookup"><span data-stu-id="38647-375">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="38647-376">Reflection</span><span class="sxs-lookup"><span data-stu-id="38647-376">Reflection</span></span>

<span data-ttu-id="38647-377">Namespace<xref:System.Reflection></span><span class="sxs-lookup"><span data-stu-id="38647-377">Namespace: <xref:System.Reflection></span></span>

<span data-ttu-id="38647-378">Assembly: mscorlib (in mscorlib. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-378">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="38647-379">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-379">Feature</span></span> | <span data-ttu-id="38647-380">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-380">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-381">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-381">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-382">**Algoritmi hash degli assembly**</span><span class="sxs-lookup"><span data-stu-id="38647-382">**Assembly hash algorithms**</span></span> | <span data-ttu-id="38647-383">La proprietà <xref:System.Reflection.AssemblyName.HashAlgorithm> ora restituisce <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm> perché il runtime non conosce l'algoritmo hash dell'assembly di riferimento quando l'assembly non è caricato.</span><span class="sxs-lookup"><span data-stu-id="38647-383">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="38647-384">Questa voce si riferisce all'uso della proprietà in un assembly di riferimento, ad esempio quello restituito dal metodo <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A>.</span><span class="sxs-lookup"><span data-stu-id="38647-384">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="38647-385">No.</span><span class="sxs-lookup"><span data-stu-id="38647-385">None.</span></span> |
| <span data-ttu-id="38647-386">**Caricamento degli assembly**</span><span class="sxs-lookup"><span data-stu-id="38647-386">**Assembly loading**</span></span> | <span data-ttu-id="38647-387">Per evitare il caricamento ridondante di assembly e per risparmiare spazio degli indirizzi virtuali, CLR ora carica gli assembly usando solo la funzione `MapViewOfFile` Win32.</span><span class="sxs-lookup"><span data-stu-id="38647-387">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="38647-388">La funzione `LoadLibrary` non viene più chiamata.</span><span class="sxs-lookup"><span data-stu-id="38647-388">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="38647-389">Questa modifica influisce sulle applicazioni di diagnostica nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-389">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="38647-390">\*Un oggetto <xref:System.Diagnostics.ProcessModuleCollection> non conterrà più moduli da una libreria di classi (file con estensione dll), come ottenuto da una chiamata a `Process.GetCurrentProcess().Modules` .</span><span class="sxs-lookup"><span data-stu-id="38647-390">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="38647-391">\*Le applicazioni Win32 che usano la `EnumProcessModules` funzione non vedranno tutti i moduli gestiti elencati.</span><span class="sxs-lookup"><span data-stu-id="38647-391">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="38647-392">No.</span><span class="sxs-lookup"><span data-stu-id="38647-392">None.</span></span> |
| <span data-ttu-id="38647-393">**Tipo dichiarante**</span><span class="sxs-lookup"><span data-stu-id="38647-393">**Declaring type**</span></span> | <span data-ttu-id="38647-394">La proprietà <xref:System.Type.DeclaringType> ora restituisce correttamente null quando il tipo non dispone di un tipo dichiarante.</span><span class="sxs-lookup"><span data-stu-id="38647-394">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="38647-395">No.</span><span class="sxs-lookup"><span data-stu-id="38647-395">None.</span></span> |
| <span data-ttu-id="38647-396">**Delegati**</span><span class="sxs-lookup"><span data-stu-id="38647-396">**Delegates**</span></span> | <span data-ttu-id="38647-397">Un delegato ora genera un'eccezione <xref:System.ArgumentNullException> anziché un'eccezione <xref:System.NullReferenceException> quando viene passato un valore null al costruttore del delegato.</span><span class="sxs-lookup"><span data-stu-id="38647-397">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="38647-398">Verificare che la gestione delle eccezioni rilevi <xref:System.ArgumentNullException>.</span><span class="sxs-lookup"><span data-stu-id="38647-398">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="38647-399">**Modifica del percorso della Global Assembly Cache**</span><span class="sxs-lookup"><span data-stu-id="38647-399">**Global assembly cache location change**</span></span> | <span data-ttu-id="38647-400">Per gli assembly di .NET Framework 4, la Global Assembly Cache è stata spostata dalla directory di Windows (%WINDIR%) alla sottodirectory di Microsoft.Net (*%WINDIR%\\Microsoft.Net*).</span><span class="sxs-lookup"><span data-stu-id="38647-400">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="38647-401">Gli assembly delle versioni precedenti rimangono nella directory precedente.</span><span class="sxs-lookup"><span data-stu-id="38647-401">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="38647-402">L'enumerazione [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) non gestita contiene il nuovo flag `ASM_CACHE_ROOT_EX`.</span><span class="sxs-lookup"><span data-stu-id="38647-402">The unmanaged [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="38647-403">Il flag ottiene il percorso della cache per gli assembly di .NET Framework 4, che può essere ottenuto con la funzione [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md).</span><span class="sxs-lookup"><span data-stu-id="38647-403">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) function.</span></span> | <span data-ttu-id="38647-404">Nessuno a condizione che le applicazioni non usino percorsi espliciti per gli assembly, una procedura sconsigliata.</span><span class="sxs-lookup"><span data-stu-id="38647-404">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="38647-405">**Strumento Global Assembly Cache**</span><span class="sxs-lookup"><span data-stu-id="38647-405">**Global assembly cache tool**</span></span> | <span data-ttu-id="38647-406">Lo strumento Global Assembly Cache ([Gacutil.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29)) non supporta più il visualizzatore plug-in della shell.</span><span class="sxs-lookup"><span data-stu-id="38647-406">The [Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="38647-407">No.</span><span class="sxs-lookup"><span data-stu-id="38647-407">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="38647-408">Interoperabilità</span><span class="sxs-lookup"><span data-stu-id="38647-408">Interoperability</span></span>

<span data-ttu-id="38647-409">Namespace<xref:System.Runtime.InteropServices></span><span class="sxs-lookup"><span data-stu-id="38647-409">Namespace: <xref:System.Runtime.InteropServices></span></span>

<span data-ttu-id="38647-410">Assembly: mscorlib (in mscorlib. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-410">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="38647-411">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-411">Feature</span></span> | <span data-ttu-id="38647-412">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-412">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-413">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-413">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-414">**Lunghezza del buffer** (API non gestita)</span><span class="sxs-lookup"><span data-stu-id="38647-414">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="38647-415">Per risparmiare memoria, la funzionalità del parametro `pBufferLengthOffset` per il metodo [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) è stata modificata e ora corrisponde a quella del parametro `pStringLengthOffset`.</span><span class="sxs-lookup"><span data-stu-id="38647-415">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="38647-416">Ora entrambi i parametri puntano alla posizione di offset della lunghezza della stringa.</span><span class="sxs-lookup"><span data-stu-id="38647-416">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="38647-417">La lunghezza del buffer è stata rimossa dalla rappresentazione della classe String.</span><span class="sxs-lookup"><span data-stu-id="38647-417">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="38647-418">Rimuovere qualsiasi dipendenza della lunghezza del buffer.</span><span class="sxs-lookup"><span data-stu-id="38647-418">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="38647-419">**Debug JIT**</span><span class="sxs-lookup"><span data-stu-id="38647-419">**JIT debugging**</span></span> | <span data-ttu-id="38647-420">Per semplificare la registrazione per il debug JIT, il debugger di .NET Framework ora usa solo la chiave del Registro di sistema AeDebug, che controlla il comportamento di debug JIT per il codice nativo.</span><span class="sxs-lookup"><span data-stu-id="38647-420">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="38647-421">I risultati cambiano nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-421">This change results in the following:</span></span><br><br><span data-ttu-id="38647-422">\*Non è più possibile registrare due diversi debugger per il codice gestito e il codice nativo.</span><span class="sxs-lookup"><span data-stu-id="38647-422">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="38647-423">\*Non è più possibile avviare il debugger automaticamente per un processo non interattivo, ma è possibile richiedere all'utente un processo interattivo.</span><span class="sxs-lookup"><span data-stu-id="38647-423">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="38647-424">\*Non si riceve più una notifica quando l'avvio del debugger non riesce o quando non è presente alcun debugger registrato da avviare.</span><span class="sxs-lookup"><span data-stu-id="38647-424">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="38647-425">\*I criteri di avvio automatico che dipendono dall'interattività dell'applicazione non sono più supportati.</span><span class="sxs-lookup"><span data-stu-id="38647-425">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="38647-426">Modificare di conseguenza le operazioni di debug.</span><span class="sxs-lookup"><span data-stu-id="38647-426">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="38647-427">**Platform Invoke**</span><span class="sxs-lookup"><span data-stu-id="38647-427">**Platform invoke**</span></span> | <span data-ttu-id="38647-428">Per migliorare le prestazioni di interoperabilità con il codice non gestito, le convenzioni di chiamata errate in un platform invoke ora causano l'arresto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-428">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="38647-429">Nelle versioni precedenti il livello di marshalling risolveva questi errori a monte nello stack.</span><span class="sxs-lookup"><span data-stu-id="38647-429">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="38647-430">Il debug delle applicazioni in Microsoft Visual Studio segnala questi errori all'utente e ne consente la correzione.</span><span class="sxs-lookup"><span data-stu-id="38647-430">Debugging your applications in Microsoft Visual Studio alerts you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="38647-431">Se si dispone di file binari che non possono essere aggiornati, è possibile includere l'elemento [ \< NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) nel file di configurazione dell'applicazione per consentire la risoluzione degli errori di chiamata per lo stack come nelle versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="38647-431">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="38647-432">Tuttavia questa impostazione può ridurre le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38647-432">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="38647-433">**Interfacce rimosse** (API non gestita)</span><span class="sxs-lookup"><span data-stu-id="38647-433">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="38647-434">Per evitare di confondere gli sviluppatori le interfacce seguenti sono state rimosse, perché non offrono alcuno scenario di runtime utile e il CLR non offre né accetta nessuna implementazione:</span><span class="sxs-lookup"><span data-stu-id="38647-434">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="38647-435">\* **INativeImageINativeImageDependency**</span><span class="sxs-lookup"><span data-stu-id="38647-435">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="38647-436">\* **INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="38647-436">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="38647-437">\* **INativeImageEvaluate**</span><span class="sxs-lookup"><span data-stu-id="38647-437">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="38647-438">\* **INativeImageConverter**</span><span class="sxs-lookup"><span data-stu-id="38647-438">\* **INativeImageConverter**</span></span><br><span data-ttu-id="38647-439">\* **ICorModule**</span><span class="sxs-lookup"><span data-stu-id="38647-439">\* **ICorModule**</span></span><br><span data-ttu-id="38647-440">\* **IMetaDataConverter**</span><span class="sxs-lookup"><span data-stu-id="38647-440">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="38647-441">No.</span><span class="sxs-lookup"><span data-stu-id="38647-441">None.</span></span> |

## <a name="data"></a><span data-ttu-id="38647-442">Data</span><span class="sxs-lookup"><span data-stu-id="38647-442">Data</span></span>

<span data-ttu-id="38647-443">In questa sezione vengono descritti i problemi di migrazione per l'uso di set di dati e SQL Client, Entity Framework, LINQ to SQL e WCF Data Servers (denominato in precedenza ADO.NET Data Services).</span><span class="sxs-lookup"><span data-stu-id="38647-443">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="38647-444">Set di dati e SQL Client</span><span class="sxs-lookup"><span data-stu-id="38647-444">DataSet and SQL Client</span></span>

<span data-ttu-id="38647-445">La tabella seguente presenta i miglioramenti apportati a funzionalità che in precedenza avevano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-445">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="38647-446">Spazi dei nomi: <xref:System.Data> , <xref:System.Data.Objects.DataClasses> ,<xref:System.Data.SqlClient></span><span class="sxs-lookup"><span data-stu-id="38647-446">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient></span></span>

<span data-ttu-id="38647-447">Assembly: System. Data (in System. Data. dll), System. Data. Entity (in System. Data. Entity. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-447">Assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="38647-448">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-448">Feature</span></span> | <span data-ttu-id="38647-449">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-449">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-450">**Scenari POCO**</span><span class="sxs-lookup"><span data-stu-id="38647-450">**POCO Scenarios**</span></span> | <span data-ttu-id="38647-451">L'interfaccia <xref:System.Data.Objects.DataClasses.IRelatedEnd> dispone di nuovi metodi per migliorare l'usabilità negli scenari POCO (Plain Old CLR Object).</span><span class="sxs-lookup"><span data-stu-id="38647-451">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="38647-452">I nuovi metodi accettano come parametro un'entità <xref:System.Object> anziché un'entità <xref:System.Data.Objects.DataClasses.IEntityWithRelationships>.</span><span class="sxs-lookup"><span data-stu-id="38647-452">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="38647-453">**Modifica di righe**</span><span class="sxs-lookup"><span data-stu-id="38647-453">**Editing Rows**</span></span> | <span data-ttu-id="38647-454">Il metodo <xref:System.Collections.IList.IndexOf%2A> implementato dalla classe <xref:System.Data.DataView> ora restituisce correttamente il valore di una riga modificata, anziché restituire -1.</span><span class="sxs-lookup"><span data-stu-id="38647-454">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="38647-455">**Events**</span><span class="sxs-lookup"><span data-stu-id="38647-455">**Events**</span></span> | <span data-ttu-id="38647-456">L'evento <xref:System.Data.DataRowView.PropertyChanged> ora viene generato quando una riga è in uno stato modificato e viene chiamato il metodo <xref:System.Data.DataRow.RejectChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="38647-456">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="38647-457">Questa modifica rende più semplice la creazione di controlli dell'interfaccia utente che espongono il contenuto di un oggetto <xref:System.Data.DataSet>.</span><span class="sxs-lookup"><span data-stu-id="38647-457">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="38647-458">**Eccezioni**</span><span class="sxs-lookup"><span data-stu-id="38647-458">**Exceptions**</span></span> | <span data-ttu-id="38647-459">Il metodo <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> ora genera un'eccezione <xref:System.InvalidOperationException> anziché <xref:System.NullReferenceException> quando una connessione non è impostata o aperta.</span><span class="sxs-lookup"><span data-stu-id="38647-459">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="38647-460">**Mapping delle visualizzazioni**</span><span class="sxs-lookup"><span data-stu-id="38647-460">**Mapping Views**</span></span> | <span data-ttu-id="38647-461">Gli errori di mapping della visualizzazione di query vengono ora rilevati in fase di progettazione anziché generare un'eccezione <xref:System.NullReferenceException> in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="38647-461">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="38647-462">La convalida di mapping ora rileva l'errore per il quale in Conceptual Schema Definition Language (CSDL) viene eseguito il mapping di due set di associazioni sulla stessa colonna.</span><span class="sxs-lookup"><span data-stu-id="38647-462">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="38647-463">**Transazioni**</span><span class="sxs-lookup"><span data-stu-id="38647-463">**Transactions**</span></span> | <span data-ttu-id="38647-464">Se un'applicazione prova a eseguire un'istruzione su una connessione dopo che una transazione è stata completata (anche se interrotta o sottoposta a rollback), ora viene generata un'eccezione <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="38647-464">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="38647-465">Nelle versioni precedenti non veniva generata un'eccezione ed era possibile eseguire comandi aggiuntivi anche se una transazione veniva interrotta.</span><span class="sxs-lookup"><span data-stu-id="38647-465">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="38647-466">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="38647-466">Entity Framework</span></span>

<span data-ttu-id="38647-467">La tabella seguente presenta i miglioramenti apportati a funzionalità che in precedenza avevano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-467">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="38647-468">Spazi dei nomi: <xref:System.Data> , <xref:System.Data.Objects> ,<xref:System.Data.Objects.DataClasses></span><span class="sxs-lookup"><span data-stu-id="38647-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses></span></span>

<span data-ttu-id="38647-469">Assembly: System. Data. Entity (in System. Data. Entity. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-469">Assemblies: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="38647-470">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-470">Feature</span></span> | <span data-ttu-id="38647-471">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-471">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-472">**Oggetti entità**</span><span class="sxs-lookup"><span data-stu-id="38647-472">**Entity objects**</span></span> | <span data-ttu-id="38647-473">Ora è presente la parità tra il metodo <xref:System.Data.Objects.ObjectContext.Detach%2A> e lo stato dell'oggetto entità quando viene chiamato il metodo <xref:System.Data.Objects.ObjectContext.SaveChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="38647-473">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="38647-474">Questo miglioramento della coerenza evita la generazione di eccezioni impreviste.</span><span class="sxs-lookup"><span data-stu-id="38647-474">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="38647-475">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="38647-475">**Entity SQL**</span></span> | <span data-ttu-id="38647-476">Sono state migliorate le regole per la risoluzione di identificatori in Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="38647-476">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="38647-477">Il parser Entity SQL dispone di logica migliorata per la risoluzione di identificatori a più parti.</span><span class="sxs-lookup"><span data-stu-id="38647-477">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="38647-478">**Annotazioni strutturali**</span><span class="sxs-lookup"><span data-stu-id="38647-478">**Structural annotations**</span></span> | <span data-ttu-id="38647-479">Entity Framework ora riconosce le annotazioni strutturali.</span><span class="sxs-lookup"><span data-stu-id="38647-479">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="38647-480">**Query**</span><span class="sxs-lookup"><span data-stu-id="38647-480">**Queries**</span></span> | <span data-ttu-id="38647-481">Sono stati apportati i seguenti miglioramenti alle query:</span><span class="sxs-lookup"><span data-stu-id="38647-481">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="38647-482">\*Una `GroupBy` query che usa una chiave null su una raccolta vuota non restituirà alcuna riga, indipendentemente dalla presenza di altre selezioni nella query.</span><span class="sxs-lookup"><span data-stu-id="38647-482">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="38647-483">\*Le query SQL generate nelle query LINQ e Entity-SQL ora considerano i parametri di stringa come valori non Unicode per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="38647-483">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="38647-484">LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="38647-484">LINQ to SQL</span></span>

<span data-ttu-id="38647-485">La tabella seguente presenta i miglioramenti apportati a funzionalità che in precedenza avevano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-485">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="38647-486">Namespace<xref:System.Data.Linq></span><span class="sxs-lookup"><span data-stu-id="38647-486">Namespace: <xref:System.Data.Linq></span></span>

<span data-ttu-id="38647-487">Assembly: System. Data. Linq (in System. Data. Linq. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-487">Assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="38647-488">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-488">Feature</span></span> | <span data-ttu-id="38647-489">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-489">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-490">**Events**</span><span class="sxs-lookup"><span data-stu-id="38647-490">**Events**</span></span> | <span data-ttu-id="38647-491">Una raccolta <xref:System.Data.Linq.EntitySet%601> attiva ora l'evento <xref:System.Data.Linq.EntitySet%601.ListChanged> per operazioni di aggiunta e rimozione se <xref:System.Data.Linq.EntitySet%601> viene scaricata, oltre ad attivare l'evento quando la raccolta viene caricata.</span><span class="sxs-lookup"><span data-stu-id="38647-491">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="38647-492">**Query**</span><span class="sxs-lookup"><span data-stu-id="38647-492">**Queries**</span></span> | <span data-ttu-id="38647-493">`Skip(0)` non viene più ignorato nelle query LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="38647-493">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="38647-494">Di conseguenza è possibile che le query con questo metodo funzionino in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="38647-494">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="38647-495">In alcuni casi, ad esempio, `OrderBy` è richiesta una clausola con `Skip(0)` e la query genera ora un' <xref:System.NotSupportedException> eccezione se la `OrderBy` clausola non è inclusa.</span><span class="sxs-lookup"><span data-stu-id="38647-495">For example, in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="38647-496">WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="38647-496">WCF Data Services</span></span>

<span data-ttu-id="38647-497">La tabella seguente presenta i miglioramenti apportati a funzionalità che in precedenza avevano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-497">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="38647-498">Spazi dei nomi: <xref:System.Data.Services> , <xref:System.Data.Services.Client> , <xref:System.Data.Services.Common> ,<xref:System.Data.Services.Providers></span><span class="sxs-lookup"><span data-stu-id="38647-498">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers></span></span>

<span data-ttu-id="38647-499">Assembly: System. Data. Services (in System. Data. Services. dll), System. Data. Services. client (in System. Data. Services. client. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-499">Assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="38647-500">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-500">Feature</span></span> | <span data-ttu-id="38647-501">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-501">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-502">**Contenuto binario in batch**</span><span class="sxs-lookup"><span data-stu-id="38647-502">**Batched Binary Content**</span></span> | <span data-ttu-id="38647-503">WCF Data Services ora supporta il contenuto binario in batch nelle richieste e nelle risposte.</span><span class="sxs-lookup"><span data-stu-id="38647-503">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="38647-504">**Intercettori di modifiche**</span><span class="sxs-lookup"><span data-stu-id="38647-504">**Change interceptors**</span></span> | <span data-ttu-id="38647-505">Gli intercettori di modifiche ora vengono eseguiti per le richieste DELETE.</span><span class="sxs-lookup"><span data-stu-id="38647-505">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="38647-506">Un intercettore di modifiche è un metodo che viene eseguito ogni volta che il server riceve una richiesta di modifica di un'entità del set di entità.</span><span class="sxs-lookup"><span data-stu-id="38647-506">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="38647-507">Viene eseguito prima della richiesta in arrivo.</span><span class="sxs-lookup"><span data-stu-id="38647-507">It runs before the incoming request is executed.</span></span> <span data-ttu-id="38647-508">L'intercettore di modifiche offre l'accesso all'entità che viene modificata e all'operazione da eseguire su tale entità.</span><span class="sxs-lookup"><span data-stu-id="38647-508">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="38647-509">**Eccezioni**</span><span class="sxs-lookup"><span data-stu-id="38647-509">**Exceptions**</span></span> | <span data-ttu-id="38647-510">Le condizioni seguenti ora generano eccezioni più utili di <xref:System.NullReferenceException>:</span><span class="sxs-lookup"><span data-stu-id="38647-510">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="38647-511">\*Oggetto <xref:System.ServiceProcess.TimeoutException> quando si verifica il timeout di una chiamata a un servizio dati.</span><span class="sxs-lookup"><span data-stu-id="38647-511">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="38647-512">\*Oggetto <xref:System.Data.Services.Client.DataServiceRequestException> quando viene effettuata una richiesta non valida a un servizio dati.</span><span class="sxs-lookup"><span data-stu-id="38647-512">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="38647-513">Nelle applicazioni è consigliabile modificare la gestione delle eccezioni per intercettare le nuove eccezioni.</span><span class="sxs-lookup"><span data-stu-id="38647-513">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="38647-514">**Intestazioni**</span><span class="sxs-lookup"><span data-stu-id="38647-514">**Headers**</span></span> | <span data-ttu-id="38647-515">Sono stati apportati i seguenti miglioramenti alle intestazioni:</span><span class="sxs-lookup"><span data-stu-id="38647-515">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="38647-516">\*WCF Data Services ora rifiuta correttamente un' `eTag` intestazione con un valore non specificato.</span><span class="sxs-lookup"><span data-stu-id="38647-516">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="38647-517">\*WCF Data Services ora restituisce un errore e non esegue la richiesta di una richiesta DELETE a un collegamento quando un' `if-*` intestazione è presente nella richiesta.</span><span class="sxs-lookup"><span data-stu-id="38647-517">\* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="38647-518">\*WCF Data Services ora restituisce un errore al client nel formato (Atom, JSON) specificato dal client nell'intestazione Accept.</span><span class="sxs-lookup"><span data-stu-id="38647-518">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="38647-519">**Lettore JSON**</span><span class="sxs-lookup"><span data-stu-id="38647-519">**JSON Reader**</span></span> | <span data-ttu-id="38647-520">Il lettore JavaScript Object Notation (JSON) ora restituisce correttamente un errore quando legge il carattere di escape barra rovesciata singola ("\\") durante l'elaborazione di payload JSON inviati a un servizio WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="38647-520">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="38647-521">**Unioni**</span><span class="sxs-lookup"><span data-stu-id="38647-521">**Merges**</span></span> | <span data-ttu-id="38647-522">Sono stati apportati i seguenti miglioramenti all'enumerazione <xref:System.Data.Services.Client.MergeOption>:</span><span class="sxs-lookup"><span data-stu-id="38647-522">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="38647-523">\*L' <xref:System.Data.Services.Client.MergeOption> opzione Merge non modifica più l'entità nel client in seguito a una risposta successiva da un servizio dati.</span><span class="sxs-lookup"><span data-stu-id="38647-523">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="38647-524">\*L' <xref:System.Data.Services.Client.MergeOption> opzione è ora coerente tra gli aggiornamenti SQL dinamici e basati su stored procedure.</span><span class="sxs-lookup"><span data-stu-id="38647-524">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="38647-525">**Requests**</span><span class="sxs-lookup"><span data-stu-id="38647-525">**Requests**</span></span> | <span data-ttu-id="38647-526">Prima dell'elaborazione di una richiesta a un servizio dati ora viene chiamato un metodo <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A>.</span><span class="sxs-lookup"><span data-stu-id="38647-526">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="38647-527">In questo modo la richiesta funziona correttamente per i servizi <xref:System.Data.Services.Providers.ServiceOperation>.</span><span class="sxs-lookup"><span data-stu-id="38647-527">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="38647-528">**Flussi**</span><span class="sxs-lookup"><span data-stu-id="38647-528">**Streams**</span></span> | <span data-ttu-id="38647-529">WCF Data Services non chiude più il flusso sottostante per operazioni di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="38647-529">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="38647-530">**URI**</span><span class="sxs-lookup"><span data-stu-id="38647-530">**URIs**</span></span> | <span data-ttu-id="38647-531">L'escape di URI da parte del client WCF Data Services è stato corretto.</span><span class="sxs-lookup"><span data-stu-id="38647-531">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="38647-532">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="38647-532">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="38647-533">La tabella seguente presenta i miglioramenti apportati a funzionalità che in precedenza avevano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-533">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="38647-534">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-534">Feature</span></span> | <span data-ttu-id="38647-535">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-535">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-536">**File di configurazione**</span><span class="sxs-lookup"><span data-stu-id="38647-536">**Configuration files**</span></span> | <span data-ttu-id="38647-537">Per abilitare l'ereditarietà dei comportamenti attraverso la gerarchia di file di configurazione, WCF ora supporta l'unione tra i file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="38647-537">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="38647-538">Il modello di ereditarietà di configurazione è stato espanso e consente agli utenti di definire i comportamenti che verranno applicati a tutti i servizi in esecuzione nel computer.</span><span class="sxs-lookup"><span data-stu-id="38647-538">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="38647-539">Se sono presenti comportamenti con lo stesso nome a livelli diversi della gerarchia è possibile che si riscontrino differenze a livello di comportamento.</span><span class="sxs-lookup"><span data-stu-id="38647-539">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="38647-540">**Hosting del servizio**</span><span class="sxs-lookup"><span data-stu-id="38647-540">**Service hosting**</span></span> | <span data-ttu-id="38647-541">Non è più possibile specificare l'elemento di configurazione `<serviceHostingEnvironment>` a livello di servizio aggiungendo l'attributo `allowDefinition="MachineToApplication"` alla definizione dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="38647-541">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="38647-542">La specifica dell'elemento `<serviceHostingEnvironment>` a livello di servizio è tecnicamente errata e determina un comportamento incoerente.</span><span class="sxs-lookup"><span data-stu-id="38647-542">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="38647-543">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="38647-543">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="38647-544">Applicazioni</span><span class="sxs-lookup"><span data-stu-id="38647-544">Applications</span></span>

<span data-ttu-id="38647-545">Spazi dei nomi: <xref:System.Windows> ,<xref:System.Windows.Controls></span><span class="sxs-lookup"><span data-stu-id="38647-545">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls></span></span>

<span data-ttu-id="38647-546">Assembly: PresentationFramework (in PresentationFramework. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-546">Assemblies: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="38647-547">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-547">Feature</span></span> | <span data-ttu-id="38647-548">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-548">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-549">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-549">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-550">**Gestione delle eccezioni**</span><span class="sxs-lookup"><span data-stu-id="38647-550">**Exception handling**</span></span> | <span data-ttu-id="38647-551">Per abilitare un rilevamento più rapido degli errori, WPF genera un <xref:System.Reflection.TargetInvocationException> e imposta la proprietà <xref:System.Exception.InnerException> per eccezioni critiche come <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException> e <xref:System.Security.SecurityException> anziché rilevare l'eccezione originale.</span><span class="sxs-lookup"><span data-stu-id="38647-551">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="38647-552">No.</span><span class="sxs-lookup"><span data-stu-id="38647-552">None.</span></span> |
| <span data-ttu-id="38647-553">**Linked Resources**</span><span class="sxs-lookup"><span data-stu-id="38647-553">**Linked resources**</span></span> | <span data-ttu-id="38647-554">Per semplificare il collegamento, quando l'applicazione viene compilata i file di risorse (ad esempio immagini) che si trovano in un percorso diverso dalla struttura di cartelle del progetto usano come ID di risorsa il percorso completo del file di risorse anziché il solo nome file.</span><span class="sxs-lookup"><span data-stu-id="38647-554">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="38647-555">L'applicazione sarà in grado di trovare i file in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="38647-555">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="38647-556">No.</span><span class="sxs-lookup"><span data-stu-id="38647-556">None.</span></span> |
| <span data-ttu-id="38647-557">**Applicazioni con attendibilità parziale**</span><span class="sxs-lookup"><span data-stu-id="38647-557">**Partial-trust applications**</span></span> | <span data-ttu-id="38647-558">Per motivi di sicurezza, le applicazioni per Windows eseguite con attendibilità parziale che contengono un controllo <xref:System.Windows.Controls.WebBrowser> o un controllo <xref:System.Windows.Controls.Frame> con codice HTML generano un <xref:System.Security.SecurityException> al momento della creazione del controllo.</span><span class="sxs-lookup"><span data-stu-id="38647-558">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="38647-559">Le applicazioni browser generano un'eccezione e visualizzano un messaggio se vengono soddisfatte tutte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-559">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="38647-560">\*L'applicazione è in esecuzione in Firefox.</span><span class="sxs-lookup"><span data-stu-id="38647-560">\* The application is running in Firefox.</span></span><br><span data-ttu-id="38647-561">\*L'applicazione è in esecuzione in attendibilità parziale nell'area Internet da siti non attendibili.</span><span class="sxs-lookup"><span data-stu-id="38647-561">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="38647-562">\*L'applicazione contiene un <xref:System.Windows.Controls.WebBrowser> controllo o un <xref:System.Windows.Controls.Frame> controllo che contiene codice HTML.</span><span class="sxs-lookup"><span data-stu-id="38647-562">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="38647-563">Le applicazioni che vengono eseguite da siti attendibili o dall'area Intranet non saranno interessate.</span><span class="sxs-lookup"><span data-stu-id="38647-563">Applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="38647-564">Nelle applicazioni browser è possibile attenuare l'effetto di questa modifica eseguendo una di queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="38647-564">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="38647-565">\*Eseguire l'applicazione browser con attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="38647-565">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="38647-566">\*Chiedere ai clienti di aggiungere il sito dell'applicazione all'area siti attendibili.</span><span class="sxs-lookup"><span data-stu-id="38647-566">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="38647-567">\*Chiedere ai clienti di eseguire l'applicazione in Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="38647-567">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="38647-568">**Dizionari risorse**</span><span class="sxs-lookup"><span data-stu-id="38647-568">**Resource dictionaries**</span></span> | <span data-ttu-id="38647-569">Per migliorare i dizionari risorse a livello di tema e impedirne la modifica, le risorse bloccabili definite in un dizionario risorse e unite in un dizionario a livello di tema ora sono sempre contrassegnate come bloccate e non sono modificabili.</span><span class="sxs-lookup"><span data-stu-id="38647-569">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="38647-570">Questo è il comportamento previsto per le risorse bloccabili.</span><span class="sxs-lookup"><span data-stu-id="38647-570">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="38647-571">Le applicazioni che modificano una risorsa definita in un dizionario unito a livello di tema devono duplicare la risorsa e modificare la copia duplicata.</span><span class="sxs-lookup"><span data-stu-id="38647-571">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="38647-572">In alternativa è possibile contrassegnare la risorsa come `x:Shared="false"` in modo che <xref:System.Windows.ResourceDictionary> crei una nuova copia ogni volta che viene eseguita una query sulla risorsa.</span><span class="sxs-lookup"><span data-stu-id="38647-572">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="38647-573">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="38647-573">**Windows 7**</span></span> | <span data-ttu-id="38647-574">Per migliorare il funzionamento delle applicazioni WPF in Windows 7 sono stati apportati i miglioramenti seguenti per correggere il comportamento delle finestre:</span><span class="sxs-lookup"><span data-stu-id="38647-574">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="38647-575">\*Gli Stati di ancoraggio e movimento ora funzionano come previsto in base alle interazioni dell'utente.</span><span class="sxs-lookup"><span data-stu-id="38647-575">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="38647-576">\*I comandi della barra delle applicazioni propagano le **finestre, visualizzano**le finestre in pila e **visualizzano le finestre affiancate** ora hanno il comportamento corretto e aggiornano le proprietà appropriate.</span><span class="sxs-lookup"><span data-stu-id="38647-576">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="38647-577">\*Le `Top` `Left` proprietà,, `Width` e `Height` per una finestra ingrandita o ridotta a icona ora contengono il percorso di ripristino corretto della finestra anziché altri valori, a seconda del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="38647-577">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="38647-578">No.</span><span class="sxs-lookup"><span data-stu-id="38647-578">None.</span></span> |
| <span data-ttu-id="38647-579">**Stile di Windows e trasparenza**</span><span class="sxs-lookup"><span data-stu-id="38647-579">**Windows style and transparency**</span></span> | <span data-ttu-id="38647-580">Viene generata un'eccezione <xref:System.InvalidOperationException> se si prova a impostare <xref:System.Windows.Window.WindowStyle> su un valore diverso da <xref:System.Windows.WindowStyle> quando <xref:System.Windows.Window.AllowsTransparency> è `true` e <xref:System.Windows.WindowState> è <xref:System.Windows.WindowState>.</span><span class="sxs-lookup"><span data-stu-id="38647-580">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="38647-581">Se è necessario modificare <xref:System.Windows.Window.WindowStyle> quando <xref:System.Windows.Window.AllowsTransparency> è `true`, è possibile chiamare la funzione Win32 `SetWindowLongPtr`.</span><span class="sxs-lookup"><span data-stu-id="38647-581">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="38647-582">**XPS Viewer**</span><span class="sxs-lookup"><span data-stu-id="38647-582">**XPS Viewer**</span></span> | <span data-ttu-id="38647-583">WPF non include Microsoft XML Paper Specification Essentials Pack (XPSEP).</span><span class="sxs-lookup"><span data-stu-id="38647-583">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="38647-584">XPSEP è incluso in Windows 7 e Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="38647-584">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="38647-585">In un computer in cui è in esecuzione Windows XP senza .NET Framework 3,5 SP1 installato, la stampa tramite un'API WPF diversa da quella in <xref:System.Windows.Controls.PrintDialog> si basa su winspool.</span><span class="sxs-lookup"><span data-stu-id="38647-585">On a computer that is running Windows XP without .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="38647-586">Alcune funzionalità della stampante non vengono comunicate e alcune impostazioni della stampante non vengono applicate durante la stampa.</span><span class="sxs-lookup"><span data-stu-id="38647-586">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="38647-587">Se necessario, installare [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span><span class="sxs-lookup"><span data-stu-id="38647-587">If needed, install the [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span></span> |

### <a name="controls"></a><span data-ttu-id="38647-588">Controlli</span><span class="sxs-lookup"><span data-stu-id="38647-588">Controls</span></span>

<span data-ttu-id="38647-589">Spazi dei nomi: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="38647-589">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="38647-590">Assembly: PresentationFramework (in PresentationFramework. dll), PresentationCore (in PresentationCore. dll), WindowsBase (in WindowsBase. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-590">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="38647-591">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-591">Feature</span></span> | <span data-ttu-id="38647-592">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-592">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-593">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-593">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-594">**Finestre di dialogo**</span><span class="sxs-lookup"><span data-stu-id="38647-594">**Dialog boxes**</span></span> | <span data-ttu-id="38647-595">Per migliorare l'affidabilità, il metodo <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> viene chiamato sullo stesso thread che ha creato il controllo <xref:Microsoft.Win32.FileDialog>.</span><span class="sxs-lookup"><span data-stu-id="38647-595">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="38647-596">Assicurarsi di creare un controllo <xref:Microsoft.Win32.FileDialog> e di chiamare il metodo <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> sullo stesso thread.</span><span class="sxs-lookup"><span data-stu-id="38647-596">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="38647-597">**Finestre mobili**</span><span class="sxs-lookup"><span data-stu-id="38647-597">**Floating windows**</span></span> | <span data-ttu-id="38647-598">Per correggere la logica di ripristino dello stato attivo che continua a riattivare in modo errato una finestra mobile (rendendola simile a una finestra di dialogo modale), il ripristino dello stato attivo ora viene bloccato se la destinazione non è un elemento figlio della finestra.</span><span class="sxs-lookup"><span data-stu-id="38647-598">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="38647-599">No.</span><span class="sxs-lookup"><span data-stu-id="38647-599">None.</span></span> |
| <span data-ttu-id="38647-600">**Elementi di raccolte**</span><span class="sxs-lookup"><span data-stu-id="38647-600">**Items in collections**</span></span> | <span data-ttu-id="38647-601">Quando un elemento viene spostato o aggiunto a una raccolta sottostante, appare in <xref:System.Windows.Data.CollectionView> nello stesso percorso relativo se <xref:System.Windows.Data.CollectionView> non è ordinata.</span><span class="sxs-lookup"><span data-stu-id="38647-601">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="38647-602">Ciò garantisce la coerenza tra la posizione dell'elemento nella raccolta e nella <xref:System.Windows.Data.CollectionView> associata.</span><span class="sxs-lookup"><span data-stu-id="38647-602">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="38647-603">Usare il metodo <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> o <xref:System.Windows.Data.CollectionView.IndexOf%2A> per trovare il percorso di un elemento in una <xref:System.Windows.Data.CollectionView> anziché basarsi sul percorso fisso dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="38647-603">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="38647-604">**Layout**</span><span class="sxs-lookup"><span data-stu-id="38647-604">**Layouts**</span></span> | <span data-ttu-id="38647-605">Per eliminare rigenerazioni di layout non necessarie, la modifica di <xref:System.Windows.Controls.Page.ShowsNavigationUI> non imposta più il layout come non valido e non attiva un altro passaggio di layout.</span><span class="sxs-lookup"><span data-stu-id="38647-605">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="38647-606">Se è previsto che la modifica di <xref:System.Windows.Controls.Page.ShowsNavigationUI> attivi un altro passaggio di layout, chiamare <xref:System.Windows.UIElement.InvalidateVisual%2A> dopo l'impostazione della proprietà.</span><span class="sxs-lookup"><span data-stu-id="38647-606">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="38647-607">**Menu**</span><span class="sxs-lookup"><span data-stu-id="38647-607">**Menus**</span></span> | <span data-ttu-id="38647-608">Per abilitare il testo ClearType nei menu popup sono state apportate modifiche alla classe <xref:System.Windows.Controls.ControlTemplate>, al controllo <xref:System.Windows.Controls.MenuItem> e ad altri controlli.</span><span class="sxs-lookup"><span data-stu-id="38647-608">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="38647-609">È consigliabile evitare che le applicazioni dipendano dalla struttura visiva dei modelli di controllo.</span><span class="sxs-lookup"><span data-stu-id="38647-609">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="38647-610">Nel contratto pubblico sono incluse solo le parti denominate di un <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="38647-610">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="38647-611">Se un'applicazione deve trovare un determinato oggetto in un <xref:System.Windows.Controls.ControlTemplate> è consigliabile eseguire la ricerca di un tipo specifico nella struttura ad albero visuale anziché basarsi sul percorso fisso di un oggetto nella struttura ad albero.</span><span class="sxs-lookup"><span data-stu-id="38647-611">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="38647-612">**Esplorazione**</span><span class="sxs-lookup"><span data-stu-id="38647-612">**Navigating**</span></span> | <span data-ttu-id="38647-613">Se un <xref:System.Windows.Controls.Frame> passa direttamente a un percorso, la proprietà <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> è `true` dopo l'esplorazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="38647-613">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="38647-614">Questa modifica impedisce l'attivazione di eventi aggiuntivi negli scenari di avvio.</span><span class="sxs-lookup"><span data-stu-id="38647-614">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="38647-615">No.</span><span class="sxs-lookup"><span data-stu-id="38647-615">None.</span></span> |
| <span data-ttu-id="38647-616">**Popup**</span><span class="sxs-lookup"><span data-stu-id="38647-616">**Pop-ups**</span></span> | <span data-ttu-id="38647-617">Il delegato <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> ora può essere chiamato più volte (anziché una sola volta) durante un passaggio di layout.</span><span class="sxs-lookup"><span data-stu-id="38647-617">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="38647-618">Se il delegato <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> calcola la posizione di un <xref:System.Windows.Controls.Primitives.Popup> in base alla posizione precedente, ricalcolare la posizione solo se cambiano i valori dei parametri `popupSize`, `targetSize`, o `offset`.</span><span class="sxs-lookup"><span data-stu-id="38647-618">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="38647-619">**Valori delle proprietà**</span><span class="sxs-lookup"><span data-stu-id="38647-619">**Property values**</span></span> | <span data-ttu-id="38647-620">Il <xref:System.Windows.DependencyObject.SetCurrentValue%2A> metodo consente ora di impostare una proprietà su un valore effettivo, sebbene continui a rispettare qualsiasi binding, stile o trigger che influisca sulla proprietà.</span><span class="sxs-lookup"><span data-stu-id="38647-620">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respect any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="38647-621">È consigliabile che gli autori di controlli usino <xref:System.Windows.DependencyObject.SetCurrentValue%2A> ogni volta che il valore della proprietà viene modificato come effetto secondario di un'altra azione, tra cui una modifica apportata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="38647-621">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="38647-622">**Caselle di testo**</span><span class="sxs-lookup"><span data-stu-id="38647-622">**Text boxes**</span></span> | <span data-ttu-id="38647-623">Per motivi di sicurezza i metodi <xref:System.Windows.Forms.TextBoxBase.Copy%2A> e <xref:System.Windows.Forms.TextBoxBase.Cut%2A> chiamati con attendibilità parziale si interrompono senza avvisi.</span><span class="sxs-lookup"><span data-stu-id="38647-623">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="38647-624">Con l'attendibilità parziale viene anche bloccata l'esecuzione a livello di codice della proprietà <xref:System.Windows.Input.ApplicationCommands.Copy> o <xref:System.Windows.Input.ApplicationCommands.Cut> su un controllo che eredita da <xref:System.Windows.Controls.Primitives.TextBoxBase>.</span><span class="sxs-lookup"><span data-stu-id="38647-624">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="38647-625">Funzionano invece i comandi di tipo copia e incolla avviati dall'utente, ad esempio il clic su un pulsante la cui proprietà <xref:System.Windows.Controls.Primitives.ButtonBase.Command> è associata a uno di questi comandi.</span><span class="sxs-lookup"><span data-stu-id="38647-625">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="38647-626">Le operazioni copia e incolla con scelte rapide da tastiera o con le opzioni del menu contestuale funzionano nel modo consueto con l'attendibilità parziale.</span><span class="sxs-lookup"><span data-stu-id="38647-626">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="38647-627">Impostare il binding del comando <xref:System.Windows.Input.ApplicationCommands.Copy> o <xref:System.Windows.Input.ApplicationCommands.Cut> a un'azione avviata dall'utente, ad esempio un clic su un pulsante.</span><span class="sxs-lookup"><span data-stu-id="38647-627">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="38647-628">Grafica</span><span class="sxs-lookup"><span data-stu-id="38647-628">Graphics</span></span>

<span data-ttu-id="38647-629">Spazi dei nomi: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> , <xref:System.Windows.Input> ,<xref:System.Windows.Media.Effects></span><span class="sxs-lookup"><span data-stu-id="38647-629">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects></span></span>

<span data-ttu-id="38647-630">Assembly: PresentationFramework (in PresentationFramework. dll), PresentationCore (in PresentationCore. dll), WindowsBase (in WindowsBase. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-630">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="38647-631">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-631">Feature</span></span> | <span data-ttu-id="38647-632">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-632">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-633">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-633">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-634">**Effetti bitmap**</span><span class="sxs-lookup"><span data-stu-id="38647-634">**Bitmap effects**</span></span> | <span data-ttu-id="38647-635">Per migliorare le prestazioni, la classe <xref:System.Windows.Media.Effects.BitmapEffect> e le classi che ereditano dalla classe <xref:System.Windows.Media.Effects.BitmapEffect> sono ancora presenti ma disattivate.</span><span class="sxs-lookup"><span data-stu-id="38647-635">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="38647-636">Il rendering dell'effetto verrà eseguito tramite la pipeline di rendering con accelerazione hardware se sono soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-636">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="38647-637">\*Nell'applicazione viene utilizzato un oggetto <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> o <xref:System.Windows.Media.Effects.BlurBitmapEffect> con una proprietà RADIUS impostata su un valore inferiore a 100 DIU.</span><span class="sxs-lookup"><span data-stu-id="38647-637">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="38647-638">\*La scheda video del computer che esegue l'applicazione supporta pixel shader 2,0.</span><span class="sxs-lookup"><span data-stu-id="38647-638">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="38647-639">Se non vengono soddisfatte queste condizioni, un oggetto <xref:System.Windows.Media.Effects.BitmapEffect> non ha alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="38647-639">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="38647-640">Visual Studio produce un avviso del compilatore anche quando rileva l'oggetto <xref:System.Windows.Media.Effects.BitmapEffect> o una sottoclasse.</span><span class="sxs-lookup"><span data-stu-id="38647-640">Also, Visual Studio produces a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="38647-641">Il metodo <xref:System.Windows.Media.DrawingContext.PushEffect%2A> è contrassegnato come obsoleto.</span><span class="sxs-lookup"><span data-stu-id="38647-641">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="38647-642">È consigliabile evitare di usare la classe legacy <xref:System.Windows.Media.Effects.BitmapEffect> e le classi derivate e usare invece le nuove classi derivate da <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect> e <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="38647-642">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="38647-643">È anche possibile creare effetti personalizzati con l'ereditarietà dalla classe <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="38647-643">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="38647-644">**Fotogrammi bitmap**</span><span class="sxs-lookup"><span data-stu-id="38647-644">**Bitmap frames**</span></span> | <span data-ttu-id="38647-645">Gli oggetti <xref:System.Windows.Media.Imaging.BitmapFrame> clonati ora ricevono gli eventi <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> e <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed>.</span><span class="sxs-lookup"><span data-stu-id="38647-645">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="38647-646">In questo modo le immagini scaricate dal Web e applicate al controllo <xref:System.Windows.Controls.Image> con un <xref:System.Windows.Style> vengono elaborate correttamente.</span><span class="sxs-lookup"><span data-stu-id="38647-646">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="38647-647">Si rileva una modifica del comportamento solo se tutte le affermazioni seguenti sono vere:</span><span class="sxs-lookup"><span data-stu-id="38647-647">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="38647-648">\*Si sottoscrive l' <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> evento, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> o <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> .</span><span class="sxs-lookup"><span data-stu-id="38647-648">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="38647-649">\*L'origine del <xref:System.Windows.Media.Imaging.BitmapFrame> è dal Web.</span><span class="sxs-lookup"><span data-stu-id="38647-649">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="38647-650">\*<xref:System.Windows.Media.Imaging.BitmapFrame>Viene clonato mentre il download è ancora in corso.</span><span class="sxs-lookup"><span data-stu-id="38647-650">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="38647-651">Controllare il mittente nel gestore dell'evento e intervenire solo se il mittente è il <xref:System.Windows.Media.Imaging.BitmapFrame> originale.</span><span class="sxs-lookup"><span data-stu-id="38647-651">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="38647-652">**Decodifica di immagini**</span><span class="sxs-lookup"><span data-stu-id="38647-652">**Decoding images**</span></span> | <span data-ttu-id="38647-653">Per evitare che un <xref:System.IO.IOException> non venga gestito quando non è possibile decodificare le immagini, la classe <xref:System.Windows.Media.Imaging.BitmapSource> genera l'evento <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> quando non decodifica un'immagine.</span><span class="sxs-lookup"><span data-stu-id="38647-653">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="38647-654">Rimuovere la gestione eccezioni per <xref:System.IO.IOException> e usare l'evento <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> per verificare la presenza di errori di decodifica.</span><span class="sxs-lookup"><span data-stu-id="38647-654">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="38647-655">Input</span><span class="sxs-lookup"><span data-stu-id="38647-655">Input</span></span>

<span data-ttu-id="38647-656">Spazi dei nomi: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="38647-656">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="38647-657">Assembly: PresentationFramework (in PresentationFramework. dll), PresentationCore (in PresentationCore. dll), WindowsBase (in WindowsBase. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-657">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="38647-658">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-658">Feature</span></span> | <span data-ttu-id="38647-659">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-659">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-660">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-660">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-661">**Binding di istanze di comandi**</span><span class="sxs-lookup"><span data-stu-id="38647-661">**Binding command instances**</span></span> | <span data-ttu-id="38647-662">Per offrire un meccanismo per il binding di istanze di comandi basate su View-Model a movimenti di input basati su View, la classe <xref:System.Windows.Input.InputBinding> ora eredita da <xref:System.Windows.Freezable> anziché da <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="38647-662">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="38647-663">Le proprietà seguenti sono ora proprietà di dipendenza:</span><span class="sxs-lookup"><span data-stu-id="38647-663">The following properties are now dependency properties:</span></span><br><br><span data-ttu-id="38647-664">\* <xref:System.Windows.Input.InputBinding.Command></span><span class="sxs-lookup"><span data-stu-id="38647-664">\* <xref:System.Windows.Input.InputBinding.Command></span></span><br><span data-ttu-id="38647-665">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span><span class="sxs-lookup"><span data-stu-id="38647-665">\* <xref:System.Windows.Input.InputBinding.CommandParameter></span></span><br><span data-ttu-id="38647-666">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span><span class="sxs-lookup"><span data-stu-id="38647-666">\* <xref:System.Windows.Input.InputBinding.CommandTarget></span></span><br><br><span data-ttu-id="38647-667">I risultati cambiano nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="38647-667">This change results in the following:</span></span><br><br><span data-ttu-id="38647-668">\*Un <xref:System.Windows.Input.InputBinding> oggetto è ora bloccato quando viene registrato anziché rimanere modificabile.</span><span class="sxs-lookup"><span data-stu-id="38647-668">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="38647-669">\*Non è possibile accedere a oggetti a livello di istanza <xref:System.Windows.Input.InputBinding> da più thread, a causa delle restrizioni della <xref:System.Windows.DependencyObject> classe.</span><span class="sxs-lookup"><span data-stu-id="38647-669">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="38647-670">\*Non è possibile modificare le associazioni di input a livello di classe dopo la registrazione, a causa delle restrizioni della <xref:System.Windows.Freezable> classe.</span><span class="sxs-lookup"><span data-stu-id="38647-670">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="38647-671">\*Non è possibile specificare Binding di input in istanze di comandi create in un modello di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="38647-671">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="38647-672">Se i binding devono essere modificabili, creare istanze distinte di una classe <xref:System.Windows.Input.InputBinding> su thread separati oppure bloccarle in un altro modo.</span><span class="sxs-lookup"><span data-stu-id="38647-672">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="38647-673">Non modificare un <xref:System.Windows.Input.InputBinding> statico di livello classe dopo che è stato registrato.</span><span class="sxs-lookup"><span data-stu-id="38647-673">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="38647-674">**Applicazioni browser**</span><span class="sxs-lookup"><span data-stu-id="38647-674">**Browser applications**</span></span> | <span data-ttu-id="38647-675">Le applicazioni browser WPF (con estensione xbap) ora elaborano gli eventi chiave come le applicazioni WPF standalone, per cui gli oggetti ricevono eventi chiave indirizzati nell'ordine corretto.</span><span class="sxs-lookup"><span data-stu-id="38647-675">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="38647-676">No.</span><span class="sxs-lookup"><span data-stu-id="38647-676">None.</span></span> |
| <span data-ttu-id="38647-677">**Combinazioni di tasti a cui non è associata alcuna funzione**</span><span class="sxs-lookup"><span data-stu-id="38647-677">**Dead key combinations**</span></span> | <span data-ttu-id="38647-678">WPF disattiva i tasti a cui non è associata alcuna funzione che non producono caratteri visibili, ma indica che il tasto va combinato con il tasto lettera contiguo per produrre un carattere.</span><span class="sxs-lookup"><span data-stu-id="38647-678">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="38647-679">Gli eventi di input dei tasti, ad esempio l'evento <xref:System.Windows.Input.Keyboard.KeyDownEvent>, segnalano quando un tasto non è associato ad alcuna funzione impostando la proprietà <xref:System.Windows.Input.KeyEventArgs.Key> sul valore <xref:System.Windows.Input.Key>.</span><span class="sxs-lookup"><span data-stu-id="38647-679">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="38647-680">Questo comportamento è in genere previsto perché le applicazioni non rispondono a input da tastiera che creano un carattere combinato.</span><span class="sxs-lookup"><span data-stu-id="38647-680">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="38647-681">Le applicazioni che prevedono la lettura di tasti che fanno parte di un carattere combinato possono ottenere il tasto disattivato usando la proprietà <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey>.</span><span class="sxs-lookup"><span data-stu-id="38647-681">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="38647-682">**Gestione dello stato attivo**</span><span class="sxs-lookup"><span data-stu-id="38647-682">**Focus manager**</span></span> | <span data-ttu-id="38647-683">Quando il metodo <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> riceve un elemento la cui proprietà associata [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) è impostata su `true` restituisce un elemento corrispondente all'ultimo elemento attivato da tastiera nell'ambito di attivazione corrente solo se l'elemento restituito appartiene allo stesso oggetto <xref:System.Windows.PresentationSource> al quale appartiene l'elemento passato al metodo.</span><span class="sxs-lookup"><span data-stu-id="38647-683">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="38647-684">No.</span><span class="sxs-lookup"><span data-stu-id="38647-684">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="38647-685">Automazione interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="38647-685">UI Automation</span></span>

<span data-ttu-id="38647-686">Spazio dei nomi: <xref:System.Windows> , <xref:System.Windows.Automation.Peers> , <xref:System.Windows.Automation.Provider> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="38647-686">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="38647-687">Assembly: PresentationFramework (in PresentationFramework. dll), PresentationCore (in PresentationCore. dll), UIAutomationProvider (in UIAutomationProvider. dll), WindowsBase (in WindowsBase. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-687">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="38647-688">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-688">Feature</span></span> | <span data-ttu-id="38647-689">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-689">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-690">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-690">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-691">**Gerarchia di classi delle viste**</span><span class="sxs-lookup"><span data-stu-id="38647-691">**Class hierarchy of views**</span></span> | <span data-ttu-id="38647-692">Le classi <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> e <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> ereditano da <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> anziché da <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="38647-692">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="38647-693">Se si eredita dalle classi <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> e si esegue l'override del metodo <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> considerare la possibilità di restituire un oggetto che eredita dalla nuova classe <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="38647-693">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="38647-694">**Contenitori fuori schermo**</span><span class="sxs-lookup"><span data-stu-id="38647-694">**Containers off screen**</span></span> | <span data-ttu-id="38647-695">Per la correzione di un valore restituito errato, il metodo <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> ora restituisce correttamente `false` per i contenitori di elementi che vengono fatti scorrere fuori dalla vista.</span><span class="sxs-lookup"><span data-stu-id="38647-695">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="38647-696">Il valore del metodo non è interessato dall'occlusione da parte di altre finestre o dal fatto che l'elemento sia o non sia visibile su un monitor specifico.</span><span class="sxs-lookup"><span data-stu-id="38647-696">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="38647-697">No.</span><span class="sxs-lookup"><span data-stu-id="38647-697">None.</span></span> |
| <span data-ttu-id="38647-698">**Menu e oggetti figlio**</span><span class="sxs-lookup"><span data-stu-id="38647-698">**Menus and child objects**</span></span> | <span data-ttu-id="38647-699">Per abilitare l'automazione interfaccia utente di menu che contengono elementi figlio diversi da oggetti <xref:System.Windows.Controls.MenuItem>, il metodo <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> restituisce l'oggetto <xref:System.Windows.Automation.Peers.AutomationPeer> di un oggetto <xref:System.Windows.UIElement> figlio anziché un oggetto <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="38647-699">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="38647-700">No.</span><span class="sxs-lookup"><span data-stu-id="38647-700">None.</span></span> |
| <span data-ttu-id="38647-701">**Nuove interfacce e assembly**</span><span class="sxs-lookup"><span data-stu-id="38647-701">**New interfaces and assembly**</span></span> | <span data-ttu-id="38647-702">Per abilitare le nuove funzionalità di automazione interfaccia utente sono state aggiunte le interfacce seguenti:</span><span class="sxs-lookup"><span data-stu-id="38647-702">To enable new features for UI automation, the following interfaces were added:</span></span><br><br><span data-ttu-id="38647-703">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span><span class="sxs-lookup"><span data-stu-id="38647-703">\* <xref:System.Windows.Automation.Provider.IItemContainerProvider></span></span><br><span data-ttu-id="38647-704">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span><span class="sxs-lookup"><span data-stu-id="38647-704">\* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider></span></span><br><span data-ttu-id="38647-705">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span><span class="sxs-lookup"><span data-stu-id="38647-705">\* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider></span></span> | <span data-ttu-id="38647-706">Qualsiasi progetto che compila peer di automazione WPF deve aggiungere un riferimento esplicito a UIAutomationProvider.dll.</span><span class="sxs-lookup"><span data-stu-id="38647-706">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="38647-707">**Miniature**</span><span class="sxs-lookup"><span data-stu-id="38647-707">**Thumbs**</span></span> | <span data-ttu-id="38647-708">Il metodo <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> restituisce un valore anziché null.</span><span class="sxs-lookup"><span data-stu-id="38647-708">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="38647-709">Di conseguenza, i controlli come <xref:System.Windows.Controls.GridSplitter> che ereditano dalla classe <xref:System.Windows.Controls.Primitives.Thumb> segnalano un nome ad Automazione interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="38647-709">Therefore, controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="38647-710">No.</span><span class="sxs-lookup"><span data-stu-id="38647-710">None.</span></span> |
| <span data-ttu-id="38647-711">**Elementi virtualizzati**</span><span class="sxs-lookup"><span data-stu-id="38647-711">**Virtualized elements**</span></span> | <span data-ttu-id="38647-712">Per migliorare le prestazioni, il metodo <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> restituisce solo gli oggetti figlio che si trovano effettivamente nella struttura ad albero visuale anziché tutti gli oggetti figlio, virtualizzati o meno.</span><span class="sxs-lookup"><span data-stu-id="38647-712">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="38647-713">Usare <xref:System.Windows.Automation.ItemContainerPattern> per l'iterazione su tutti gli elementi di un <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="38647-713">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="38647-714">XAML</span><span class="sxs-lookup"><span data-stu-id="38647-714">XAML</span></span>

<span data-ttu-id="38647-715">Spazi dei nomi: <xref:System.Windows> , <xref:System.Windows.Controls> , <xref:System.Windows.Data> , <xref:System.Windows.Input> ,<xref:System.Windows.Markup></span><span class="sxs-lookup"><span data-stu-id="38647-715">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup></span></span>

<span data-ttu-id="38647-716">Assembly: PresentationFramework (in PresentationFramework. dll), PresentationCore (in PresentationCore. dll), WindowsBase (in WindowsBase. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-716">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="38647-717">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-717">Feature</span></span> | <span data-ttu-id="38647-718">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-718">Differences from 3.5 SP1</span></span> | <span data-ttu-id="38647-719">Modifiche consigliate</span><span class="sxs-lookup"><span data-stu-id="38647-719">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="38647-720">**Estensione di markup**</span><span class="sxs-lookup"><span data-stu-id="38647-720">**Markup extension**</span></span> | <span data-ttu-id="38647-721">Quando un'estensione di markup viene usata per impostare una proprietà o per creare un elemento in una raccolta, WPF ora usa sempre correttamente il valore del metodo <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> anziché restituire in alcuni casi l'oggetto <xref:System.Windows.Markup.MarkupExtension>.</span><span class="sxs-lookup"><span data-stu-id="38647-721">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="38647-722">In determinati casi è possibile che un'estensione di markup restituisca se stessa.</span><span class="sxs-lookup"><span data-stu-id="38647-722">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="38647-723">Se l'applicazione accede a una risorsa che ha restituito un oggetto <xref:System.Windows.Markup.MarkupExtension> nelle versioni precedenti, fare riferimento all'oggetto restituito da <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> anziché all'oggetto <xref:System.Windows.Markup.MarkupExtension>.</span><span class="sxs-lookup"><span data-stu-id="38647-723">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="38647-724">**Analisi degli attributi**</span><span class="sxs-lookup"><span data-stu-id="38647-724">**Parsing attributes**</span></span> | <span data-ttu-id="38647-725">Gli attributi in XAML ora possono avere un solo punto.</span><span class="sxs-lookup"><span data-stu-id="38647-725">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="38647-726">Di seguito sono riportati esempi validi:</span><span class="sxs-lookup"><span data-stu-id="38647-726">For example, the following are valid:</span></span><br><br><span data-ttu-id="38647-727">`<Button Background="Red"/>` (nessun punto)</span><span class="sxs-lookup"><span data-stu-id="38647-727">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="38647-728">`<Button Button.Background = "Red"/>` (un punto)</span><span class="sxs-lookup"><span data-stu-id="38647-728">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="38647-729">L'elemento seguente non è più valido:</span><span class="sxs-lookup"><span data-stu-id="38647-729">The following is no longer valid:</span></span><br><br><span data-ttu-id="38647-730">`<Button Control.Button.Background = "Red"/>` (più di un punto)</span><span class="sxs-lookup"><span data-stu-id="38647-730">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="38647-731">Correggere gli attributi XAML che hanno più di un punto.</span><span class="sxs-lookup"><span data-stu-id="38647-731">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="38647-732">XML</span><span class="sxs-lookup"><span data-stu-id="38647-732">XML</span></span>

<span data-ttu-id="38647-733">Questa tabella descrive miglioramenti a funzionalità che in precedenza presentavano limitazioni o altri problemi.</span><span class="sxs-lookup"><span data-stu-id="38647-733">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="38647-734">Schema e trasformazioni</span><span class="sxs-lookup"><span data-stu-id="38647-734">Schema and transforms</span></span>

<span data-ttu-id="38647-735">Spazi dei nomi: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="38647-735">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="38647-736">Assembly: System. XML (in System. XML. dll), System. XML. Linq (in System. XML. Linq. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-736">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="38647-737">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-737">Feature</span></span> | <span data-ttu-id="38647-738">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-738">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-739">**Schemi camaleonte**</span><span class="sxs-lookup"><span data-stu-id="38647-739">**Chameleon schemas**</span></span> | <span data-ttu-id="38647-740">Per evitare il danneggiamento dei dati, ora gli schemi camaleonte vengono duplicati correttamente quando sono inclusi in più schemi.</span><span class="sxs-lookup"><span data-stu-id="38647-740">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="38647-741">Gli schemi camaleonte sono schemi che non dispongono di uno spazio dei nomi di destinazione e quando vengono inclusi in un altro schema XSD adottano lo spazio dei nomi di destinazione dello schema di importazione.</span><span class="sxs-lookup"><span data-stu-id="38647-741">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="38647-742">Vengono spesso usati per includere tipi comuni in uno schema.</span><span class="sxs-lookup"><span data-stu-id="38647-742">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="38647-743">**Funzioni ID**</span><span class="sxs-lookup"><span data-stu-id="38647-743">**ID functions**</span></span> | <span data-ttu-id="38647-744">La [funzione id](/sql/xquery/functions-on-sequences-id) XSLT ora restituisce il valore corretto anziché null quando un oggetto <xref:System.Xml.XmlReader> viene passato a un XLST.</span><span class="sxs-lookup"><span data-stu-id="38647-744">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="38647-745">In precedenza, quando l'utente creava un oggetto <xref:System.Xml.XmlReader> da una classe LINQ to XML usando il metodo <xref:System.Xml.Linq.XNode.CreateReader%2A> e questo oggetto <xref:System.Xml.XmlReader> veniva passato a un XSLT, le eventuali istanze della funzione `id` nell'XSLT restituivano null.</span><span class="sxs-lookup"><span data-stu-id="38647-745">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="38647-746">Questo valore restituito non è consentito per la funzione `id`.</span><span class="sxs-lookup"><span data-stu-id="38647-746">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="38647-747">**Namespace (attributo)**</span><span class="sxs-lookup"><span data-stu-id="38647-747">**Namespace attribute**</span></span> | <span data-ttu-id="38647-748">Per evitare il danneggiamento dei dati, ora un oggetto <xref:System.Xml.XPath.XPathNavigator> restituisce correttamente il nome locale dell'attributo `x:xmlns`.</span><span class="sxs-lookup"><span data-stu-id="38647-748">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="38647-749">**Dichiarazioni degli spazi dei nomi**</span><span class="sxs-lookup"><span data-stu-id="38647-749">**Namespace declarations**</span></span> | <span data-ttu-id="38647-750">Un <xref:System.Xml.XmlReader> oggetto in un sottoalbero non crea più dichiarazioni dello spazio dei nomi duplicate all'interno di un elemento XML.</span><span class="sxs-lookup"><span data-stu-id="38647-750">An <xref:System.Xml.XmlReader> object on a subtree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="38647-751">**Convalida dello schema**</span><span class="sxs-lookup"><span data-stu-id="38647-751">**Schema validation**</span></span> | <span data-ttu-id="38647-752">Per impedire errori nella convalida dello schema, la classe <xref:System.Xml.Schema.XmlSchemaSet> consente la compilazione corretta e coerente degli schemi XSD.</span><span class="sxs-lookup"><span data-stu-id="38647-752">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="38647-753">Questi schemi possono includere altri schemi, ad esempio `A.xsd` può includere `B.xsd` che a sua volta può includere `C.xsd`.</span><span class="sxs-lookup"><span data-stu-id="38647-753">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="38647-754">La compilazione di uno di questi elementi determina l'attraversamento di questa struttura di dipendenze.</span><span class="sxs-lookup"><span data-stu-id="38647-754">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="38647-755">**Funzioni di script**</span><span class="sxs-lookup"><span data-stu-id="38647-755">**Script functions**</span></span> | <span data-ttu-id="38647-756">La [funzione function-available](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) non restituisce più erroneamente `false` quando la funzione è di fatto disponibile.</span><span class="sxs-lookup"><span data-stu-id="38647-756">The [function-available function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="38647-757">**URI**</span><span class="sxs-lookup"><span data-stu-id="38647-757">**URIs**</span></span> | <span data-ttu-id="38647-758">Il metodo <xref:System.Xml.Linq.XElement.Load%2A> ora restituisce il BaseURI corretto nelle query LINQ.</span><span class="sxs-lookup"><span data-stu-id="38647-758">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="38647-759">Convalida</span><span class="sxs-lookup"><span data-stu-id="38647-759">Validation</span></span>

<span data-ttu-id="38647-760">Spazi dei nomi: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="38647-760">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="38647-761">Assembly: System. XML (in System. XML. dll), System. XML. Linq (in System. XML. Linq. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-761">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="38647-762">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-762">Feature</span></span> | <span data-ttu-id="38647-763">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-763">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-764">**Risolutori dello spazio dei nomi**</span><span class="sxs-lookup"><span data-stu-id="38647-764">**Namespace resolvers**</span></span> | <span data-ttu-id="38647-765">Il metodo <xref:System.Xml.XmlReader.ReadContentAs%2A> non ignora più il resolver <xref:System.Xml.IXmlNamespaceResolver> passato al metodo stesso.</span><span class="sxs-lookup"><span data-stu-id="38647-765">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="38647-766">Nelle versioni precedenti il resolver dello spazio dei nomi specificato veniva ignorato e veniva invece usato <xref:System.Xml.XmlReader>.</span><span class="sxs-lookup"><span data-stu-id="38647-766">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="38647-767">**Spazi vuoti**</span><span class="sxs-lookup"><span data-stu-id="38647-767">**White space**</span></span> | <span data-ttu-id="38647-768">Per evitare la perdita di dati quando si crea un lettore, il metodo <xref:System.Xml.XmlReader.Create%2A> non rimuove più gli spazi vuoti significativi.</span><span class="sxs-lookup"><span data-stu-id="38647-768">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="38647-769">La convalida XML riconosce la modalità contenuto misto in cui il testo può essere alternato a markup XML.</span><span class="sxs-lookup"><span data-stu-id="38647-769">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="38647-770">In modalità mista tutti gli spazi vuoti sono significativi e devono essere segnalati.</span><span class="sxs-lookup"><span data-stu-id="38647-770">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="38647-771">Scrittura</span><span class="sxs-lookup"><span data-stu-id="38647-771">Writing</span></span>

<span data-ttu-id="38647-772">Spazi dei nomi: <xref:System.Xml.Linq> ; <xref:System.Xml.Schema> ,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="38647-772">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="38647-773">Assembly: System. XML (in System. XML. dll), System. XML. Linq (in System. XML. Linq. dll)</span><span class="sxs-lookup"><span data-stu-id="38647-773">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="38647-774">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="38647-774">Feature</span></span> | <span data-ttu-id="38647-775">Differenze rispetto alla versione 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="38647-775">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="38647-776">**Riferimenti alle entità**</span><span class="sxs-lookup"><span data-stu-id="38647-776">**Entity references**</span></span> | <span data-ttu-id="38647-777">Per evitare il danneggiamento dei dati i riferimenti alle entità non vengono più ripetuti due volte negli attributi XML.</span><span class="sxs-lookup"><span data-stu-id="38647-777">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="38647-778">Se l'utente cercava di scrivere un'entità in un attributo `xmlns` o in un attributo `xml:lang` o `xml:space` con il metodo <xref:System.Xml.XmlWriter.WriteEntityRef%2A> l'entità veniva ripetuta due volte nell'output e i dati risultavano danneggiati.</span><span class="sxs-lookup"><span data-stu-id="38647-778">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="38647-779">**Gestione dei valori di nuova riga**</span><span class="sxs-lookup"><span data-stu-id="38647-779">**New line handling**</span></span> | <span data-ttu-id="38647-780">Per evitare il danneggiamento dei dati ora gli oggetti <xref:System.Xml.XmlWriter> rispettano l'opzione <xref:System.Xml.NewLineHandling>.</span><span class="sxs-lookup"><span data-stu-id="38647-780">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="38647-781">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="38647-781">See also</span></span>

- [<span data-ttu-id="38647-782">Nuovi tipi e membri in .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="38647-782">New Types and Members in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [<span data-ttu-id="38647-783">Guida alla migrazione a .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="38647-783">Migration Guide to .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [<span data-ttu-id="38647-784">Novità di .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="38647-784">What's New in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [<span data-ttu-id="38647-785">Compatibilità tra le versioni in .NET Framework</span><span class="sxs-lookup"><span data-stu-id="38647-785">Version Compatibility in .NET Framework</span></span>](version-compatibility.md)
- [<span data-ttu-id="38647-786">Migrazione di soluzioni Office a .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="38647-786">Migrating Office Solutions to .NET Framework 4</span></span>](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [<span data-ttu-id="38647-787">Elementi obsoleti nella libreria di classi .NET Framework</span><span class="sxs-lookup"><span data-stu-id="38647-787">What's Obsolete in the .NET Framework Class Library</span></span>](../whats-new/whats-obsolete.md)
