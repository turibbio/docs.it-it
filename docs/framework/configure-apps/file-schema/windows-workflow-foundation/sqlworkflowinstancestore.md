---
title: <sqlWorkflowInstanceStore>
ms.date: 03/30/2017
ms.topic: reference
ms.assetid: 8a4e4214-fc51-4f4d-b968-0427c37a9520
ms.openlocfilehash: 56a44fdb62062903ca3ad00f8105a66ccab02cca
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/06/2020
ms.locfileid: "79151962"
---
# \<sqlWorkflowInstanceStore>
<span data-ttu-id="74fbc-101">Comportamento del servizio che consente di configurare la funzionalità <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> che supporta la persistenza delle informazioni sullo stato per le istanze del servizio flusso di lavoro in un database di SQL Server 2005 o SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="74fbc-101">A service behavior that allows you to configure the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> feature, which supports persisting state information for workflow service instances into an SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="74fbc-102">Per ulteriori informazioni su questa funzionalità, vedere l' [Archivio di istanze del flusso di lavoro SQL](../../../windows-workflow-foundation/sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="74fbc-102">For more information on this feature, see [SQL Workflow Instance Store](../../../windows-workflow-foundation/sql-workflow-instance-store.md).</span></span>  
  
[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<system.ServiceModel>**](system-servicemodel-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors-of-workflow.md)\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<sqlWorkflowInstanceStore>**  
  
## <a name="syntax"></a><span data-ttu-id="74fbc-103">Sintassi</span><span class="sxs-lookup"><span data-stu-id="74fbc-103">Syntax</span></span>  
  
```xml  
<behaviors>
  <serviceBehaviors>
    <behavior name="String">
      <sqlWorkflowInstanceStore connectionStringName="String"
                                hostLockRenewalPeriod="TimeSpan"
                                instanceCompletionAction="DeleteNothing/DeleteAll"
                                instanceEncodingAction="None/GZip"
                                instanceLockedExceptionAction="NoRetry/BasicRetry/AggressiveRetry"
                                runnableInstancesDetectionPeriod="TimeSpan" />
    </behavior>
  </serviceBehaviors>
</behaviors>  
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="74fbc-104">Attributi ed elementi</span><span class="sxs-lookup"><span data-stu-id="74fbc-104">Attributes and Elements</span></span>  
 <span data-ttu-id="74fbc-105">Nelle sezioni seguenti vengono descritti gli attributi, gli elementi figlio e gli elementi padre.</span><span class="sxs-lookup"><span data-stu-id="74fbc-105">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="74fbc-106">Attributi</span><span class="sxs-lookup"><span data-stu-id="74fbc-106">Attributes</span></span>  
  
|<span data-ttu-id="74fbc-107">Attributo</span><span class="sxs-lookup"><span data-stu-id="74fbc-107">Attribute</span></span>|<span data-ttu-id="74fbc-108">Descrizione</span><span class="sxs-lookup"><span data-stu-id="74fbc-108">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="74fbc-109">connectionString</span><span class="sxs-lookup"><span data-stu-id="74fbc-109">connectionString</span></span>|<span data-ttu-id="74fbc-110">Stringa contenente una stringa di connessione utilizzata per connettersi a un database di persistenza sottostante.</span><span class="sxs-lookup"><span data-stu-id="74fbc-110">A string that contains a connection string used to connect to an underlying persistence database.</span></span>|  
|<span data-ttu-id="74fbc-111">connectionStringName</span><span class="sxs-lookup"><span data-stu-id="74fbc-111">connectionStringName</span></span>|<span data-ttu-id="74fbc-112">Stringa contenente una stringa di connessione denominata per il server database.</span><span class="sxs-lookup"><span data-stu-id="74fbc-112">A string that contains a named connection string to the database server.</span></span> <span data-ttu-id="74fbc-113">Un esempio di stringa di connessione denominata è "DefaultConnectionString".</span><span class="sxs-lookup"><span data-stu-id="74fbc-113">An example of a named connection string is "DefaultConnectionString".</span></span>|  
|<span data-ttu-id="74fbc-114">hostLockRenewalPeriod</span><span class="sxs-lookup"><span data-stu-id="74fbc-114">hostLockRenewalPeriod</span></span>|<span data-ttu-id="74fbc-115">Valore TimeSpan che specifica il periodo di tempo entro il quale l'host deve rinnovare il blocco su un'istanza.</span><span class="sxs-lookup"><span data-stu-id="74fbc-115">A Timespan value that specifies the time period in which the host must renew the lock on an instance.</span></span> <span data-ttu-id="74fbc-116">Se l'host non rinnova il blocco nel periodo di tempo specificato, l'istanza viene sbloccata e può essere scelta da un altro host.</span><span class="sxs-lookup"><span data-stu-id="74fbc-116">If the host does not renew the lock in the specified time period, the instance is unlocked and may be picked up by another host.</span></span><br /><br /> <span data-ttu-id="74fbc-117">Lo scaricamento di un flusso di lavoro lo rende anche persistente.</span><span class="sxs-lookup"><span data-stu-id="74fbc-117">Unloading a workflow implies that it is also persisted.</span></span> <span data-ttu-id="74fbc-118">Se questo attributo viene impostato su zero, l'istanza del flusso di lavoro viene resa persistente e scaricata immediatamente dopo che il flusso di lavoro diventa inattivo.</span><span class="sxs-lookup"><span data-stu-id="74fbc-118">If this attribute is set to zero the workflow instance is persisted and unloaded immediately after the workflow becomes idle.</span></span> <span data-ttu-id="74fbc-119">L'impostazione di questo attributo su TimeSpan.MaxValue comporta in realtà la disabilitazione dell'operazione di scaricamento.</span><span class="sxs-lookup"><span data-stu-id="74fbc-119">Setting this attribute to TimeSpan.MaxValue effectively disables the unload operation.</span></span> <span data-ttu-id="74fbc-120">Le istanze del flusso di lavoro inattive non vengono mai scaricate.</span><span class="sxs-lookup"><span data-stu-id="74fbc-120">Idle workflow instances are never unloaded.</span></span>|  
|<span data-ttu-id="74fbc-121">instanceCompletionAction</span><span class="sxs-lookup"><span data-stu-id="74fbc-121">instanceCompletionAction</span></span>|<span data-ttu-id="74fbc-122">Valore che specifica se i dati dell'istanza del flusso di lavoro vengono conservati nell'archivio di persistenza in seguito al completamento dell'istanza del flusso di lavoro o se vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="74fbc-122">A value that specifies whether workflow instance data is kept in the persistence store after the workflow instance completes or if it is deleted at that point.</span></span> <span data-ttu-id="74fbc-123">Questo valore è di tipo <xref:System.Activities.DurableInstancing.InstanceCompletionAction>.</span><span class="sxs-lookup"><span data-stu-id="74fbc-123">This value is of type <xref:System.Activities.DurableInstancing.InstanceCompletionAction>.</span></span><br /><br /> <span data-ttu-id="74fbc-124">Le azioni enumerate consistono nell'eliminazione dei dati dell'istanza dall'archivio di persistenza o nella relativa conservazione al termine dell'operazione dell'istanza.</span><span class="sxs-lookup"><span data-stu-id="74fbc-124">The enumerated actions consist of deleting the instance data from the persistence store or not deleting the instance data from the persistence store, when the instance has completed its operation.</span></span><br /><br /> <span data-ttu-id="74fbc-125">La conservazione delle istanze al completamento comporta la rapida crescita del database di persistenza e pertanto influisce sulle prestazioni del database.</span><span class="sxs-lookup"><span data-stu-id="74fbc-125">Keeping instances after completion causes the persistence database to grow rapidly and this affects the performance of the database.</span></span> <span data-ttu-id="74fbc-126">È consigliabile configurare criteri di cancellazione dei dati del database per eliminare questi record periodicamente e garantire che le prestazioni del database soddisfino il livello di prestazioni richiesto.</span><span class="sxs-lookup"><span data-stu-id="74fbc-126">You should configure a database purge policy to delete these records periodically to ensure that the performance of the database is at the level that satisfy your performance requirements.</span></span>|  
|<span data-ttu-id="74fbc-127">instanceEncodingOption</span><span class="sxs-lookup"><span data-stu-id="74fbc-127">instanceEncodingOption</span></span>|<span data-ttu-id="74fbc-128">Valore facoltativo che specifica se le informazioni sullo stato dell'istanza vengono compresse utilizzando l'algoritmo GZip prima che le informazioni vengano salvate nell'archivio di persistenza.</span><span class="sxs-lookup"><span data-stu-id="74fbc-128">An optional value that specifies  whether the instance state information is compressed using the GZip algorithm before the information is saved in the persistence store..</span></span> <span data-ttu-id="74fbc-129">Questo valore è di tipo <xref:System.Activities.DurableInstancing.InstanceEncodingOption>.</span><span class="sxs-lookup"><span data-stu-id="74fbc-129">This value is of type <xref:System.Activities.DurableInstancing.InstanceEncodingOption>.</span></span> <span data-ttu-id="74fbc-130">I valori possibili per questa proprietà sono <xref:System.Activities.DurableInstancing.InstanceEncodingOption.None> , che non specifica alcuna compressione e <xref:System.Activities.DurableInstancing.InstanceEncodingOption.GZip> , che specifica che i dati dell'istanza vengono compressi e utilizza l'algoritmo gzip.</span><span class="sxs-lookup"><span data-stu-id="74fbc-130">Possible values for this property are <xref:System.Activities.DurableInstancing.InstanceEncodingOption.None>, which specifies no compression, and <xref:System.Activities.DurableInstancing.InstanceEncodingOption.GZip>, which specifies that instance data is compressed and uses the gzip algorithm.</span></span>|  
|<span data-ttu-id="74fbc-131">instanceLockedExceptionAction</span><span class="sxs-lookup"><span data-stu-id="74fbc-131">instanceLockedExceptionAction</span></span>|<span data-ttu-id="74fbc-132">Valore che specifica l'azione che si verifica in risposta a un'eccezione generata quando l'host tenta di bloccare un'istanza al momento bloccata da un altro host.</span><span class="sxs-lookup"><span data-stu-id="74fbc-132">A value that specifies the action that occurs in response to an exception that is thrown when the host tries to lock an instance because the instance is currently locked by another host.</span></span> <span data-ttu-id="74fbc-133">Questo valore è di tipo <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction>.</span><span class="sxs-lookup"><span data-stu-id="74fbc-133">This value is of type <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction>.</span></span><br /><br /> <span data-ttu-id="74fbc-134">Le opzioni consentite per questo campo sono: None, Basic Retry e Aggressive Retry.</span><span class="sxs-lookup"><span data-stu-id="74fbc-134">The options allowed for this field are: None, Basic Retry, and Aggressive Retry.</span></span> <span data-ttu-id="74fbc-135">Il valore predefinito è None (Nessuna).</span><span class="sxs-lookup"><span data-stu-id="74fbc-135">The default value is None.</span></span> <span data-ttu-id="74fbc-136">Nell'elenco seguente sono riportate le descrizioni di queste tre opzioni:</span><span class="sxs-lookup"><span data-stu-id="74fbc-136">The following list provides you with the descriptions for these three options:</span></span><br /><br /> <span data-ttu-id="74fbc-137">-   Nessuno.</span><span class="sxs-lookup"><span data-stu-id="74fbc-137">-   None.</span></span> <span data-ttu-id="74fbc-138">L'host del servizio non tenta di bloccare l'istanza e passa <xref:System.Runtime.DurableInstancing.InstanceLockedException> al chiamante.</span><span class="sxs-lookup"><span data-stu-id="74fbc-138">The service host does not attempt to lock the instance and passes the <xref:System.Runtime.DurableInstancing.InstanceLockedException> to the caller.</span></span><br /><span data-ttu-id="74fbc-139">-Riprova di base.</span><span class="sxs-lookup"><span data-stu-id="74fbc-139">-   Basic Retry.</span></span> <span data-ttu-id="74fbc-140">L'host del servizio tenta di nuovo di bloccare l'istanza con un intervallo tra tentativi lineare e passa l'eccezione al chiamante alla fine della sequenza.</span><span class="sxs-lookup"><span data-stu-id="74fbc-140">The service host reattempts to lock the instance with a linear retry interval and passes the exception to the caller at the end of the sequence.</span></span><br /><span data-ttu-id="74fbc-141">-Tentativo aggressivo.</span><span class="sxs-lookup"><span data-stu-id="74fbc-141">-   Aggressive Retry.</span></span> <span data-ttu-id="74fbc-142">L'host del servizio tenta di nuovo di bloccare l'istanza con un ritardo che aumenta in modo esponenziale e passa <xref:System.Runtime.DurableInstancing.InstanceLockedException> al chiamante alla fine della sequenza.</span><span class="sxs-lookup"><span data-stu-id="74fbc-142">The service host reattempts to lock the instance with an exponentially increasing delay and passes the <xref:System.Runtime.DurableInstancing.InstanceLockedException> to the caller at the end of the sequence.</span></span>|  
|<span data-ttu-id="74fbc-143">runnableInstancesDetectionPeriod</span><span class="sxs-lookup"><span data-stu-id="74fbc-143">runnableInstancesDetectionPeriod</span></span>||  
  
### <a name="child-elements"></a><span data-ttu-id="74fbc-144">Elementi figlio</span><span class="sxs-lookup"><span data-stu-id="74fbc-144">Child Elements</span></span>  
 <span data-ttu-id="74fbc-145">No.</span><span class="sxs-lookup"><span data-stu-id="74fbc-145">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="74fbc-146">Elementi padre</span><span class="sxs-lookup"><span data-stu-id="74fbc-146">Parent Elements</span></span>  
  
|<span data-ttu-id="74fbc-147">Elemento</span><span class="sxs-lookup"><span data-stu-id="74fbc-147">Element</span></span>|<span data-ttu-id="74fbc-148">Descrizione</span><span class="sxs-lookup"><span data-stu-id="74fbc-148">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="74fbc-149">\<behavior>di\<serviceBehaviors></span><span class="sxs-lookup"><span data-stu-id="74fbc-149">\<behavior> of \<serviceBehaviors></span></span>](behavior-of-servicebehaviors-of-workflow.md)|<span data-ttu-id="74fbc-150">Specifica un elemento di comportamento.</span><span class="sxs-lookup"><span data-stu-id="74fbc-150">Specifies a behavior element.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="74fbc-151">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="74fbc-151">See also</span></span>

- <xref:System.ServiceModel.Activities.Description.SqlWorkflowInstanceStoreBehavior>
- <xref:System.ServiceModel.Activities.Configuration.SqlWorkflowInstanceStoreElement>
- <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>
- [<span data-ttu-id="74fbc-152">Archivio di istanze del flusso di lavoro SQL</span><span class="sxs-lookup"><span data-stu-id="74fbc-152">SQL Workflow Instance Store</span></span>](../../../windows-workflow-foundation/sql-workflow-instance-store.md)
