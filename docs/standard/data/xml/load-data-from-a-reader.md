---
title: Caricamento di dati da un lettore
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 7e74918c-bc72-4977-a49b-e1520a6d8f60
ms.openlocfilehash: 1c048b08380bebce3a627670d88ff6ae48084535
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/02/2020
ms.locfileid: "84289161"
---
# <a name="load-data-from-a-reader"></a><span data-ttu-id="1a95f-102">Caricamento di dati da un lettore</span><span class="sxs-lookup"><span data-stu-id="1a95f-102">Load Data from a Reader</span></span>
<span data-ttu-id="1a95f-103">Se un documento XML viene caricato usando il metodo <xref:System.Xml.XmlDocument.Load%2A> e un parametro di un lettore <xref:System.Xml.XmlReader>, si otterrà un comportamento diverso rispetto alla situazione in cui i dati vengono caricati dagli altri formati.</span><span class="sxs-lookup"><span data-stu-id="1a95f-103">If an XML document is loaded using the <xref:System.Xml.XmlDocument.Load%2A> method and a parameter of an <xref:System.Xml.XmlReader>, there are differences in the behavior that occurs when compared to the behavior of loading data from the other formats.</span></span> <span data-ttu-id="1a95f-104">Se il lettore è nel suo stato iniziale, il metodo <xref:System.Xml.XmlDocument.Load%2A> utilizzerà l'intero contenuto del lettore e compilerà il modello DOM XML usando tutti i dati nel lettore.</span><span class="sxs-lookup"><span data-stu-id="1a95f-104">If the reader is in its initial state, <xref:System.Xml.XmlDocument.Load%2A> consumes the entire contents from the reader and builds the XML Document Object Model (DOM) from all the data in the reader.</span></span>  
  
 <span data-ttu-id="1a95f-105">Se il lettore è già posizionato su un nodo in un punto del documento e quindi viene passato al metodo <xref:System.Xml.XmlDocument.Load%2A>, <xref:System.Xml.XmlDocument.Load%2A> tenta di leggere il nodo corrente e tutti i nodi di pari livello fino al tag di fine che chiude il livello corrente nella memoria.</span><span class="sxs-lookup"><span data-stu-id="1a95f-105">If the reader is already positioned on a node somewhere in the document, and the reader is then passed to the <xref:System.Xml.XmlDocument.Load%2A> method, <xref:System.Xml.XmlDocument.Load%2A> attempts to read the current node and all of its siblings, up to the end tag that closes the current depth into memory.</span></span> <span data-ttu-id="1a95f-106">La riuscita del metodo <xref:System.Xml.XmlDocument.Load%2A> dipende dal nodo sul quale si trova il lettore al momento del caricamento, in quanto con il metodo <xref:System.Xml.XmlDocument.Load%2A> viene verificato che l'XML del lettore sia nel formato corretto.</span><span class="sxs-lookup"><span data-stu-id="1a95f-106">The success of the attempted <xref:System.Xml.XmlDocument.Load%2A> depends on the node that the reader is on when the load is attempted, as <xref:System.Xml.XmlDocument.Load%2A> verifies that the XML from the reader is well-formed.</span></span> <span data-ttu-id="1a95f-107">In caso contrario, il metodo <xref:System.Xml.XmlDocument.Load%2A> genererà un’eccezione.</span><span class="sxs-lookup"><span data-stu-id="1a95f-107">If the XML is not well-formed, the <xref:System.Xml.XmlDocument.Load%2A> throws an exception.</span></span> <span data-ttu-id="1a95f-108">Il set di nodi seguente, ad esempio, contiene due elementi di livello radice e poiché l'XML non ha un formato corretto, <xref:System.Xml.XmlDocument.Load%2A> genera un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="1a95f-108">For example, the following set of nodes contain two root-level elements, the XML is not well-formed, and <xref:System.Xml.XmlDocument.Load%2A> throws an exception.</span></span>  
  
- <span data-ttu-id="1a95f-109">Nodo Comment, seguito da un nodo Element, seguito da un nodo Element, seguito da un nodo EndElement.</span><span class="sxs-lookup"><span data-stu-id="1a95f-109">Comment node, followed by an Element node, followed by an Element node, followed by an EndElement node.</span></span>  
  
 <span data-ttu-id="1a95f-110">Dal seguente set di nodi viene creato un DOM incompleto, in quanto non vi è alcun elemento di livello radice.</span><span class="sxs-lookup"><span data-stu-id="1a95f-110">The following set of nodes creates an incomplete DOM, because there is no root-level element.</span></span>  
  
- <span data-ttu-id="1a95f-111">Nodo Comment, seguito da un nodo ProcessingInstruction, seguito da un nodo Comment, seguito da un nodo EndElement.</span><span class="sxs-lookup"><span data-stu-id="1a95f-111">Comment node followed by a ProcessingInstruction node followed by a Comment node followed by an EndElement node.</span></span>  
  
 <span data-ttu-id="1a95f-112">In questo caso non viene generata un'eccezione e i dati vengono caricati.</span><span class="sxs-lookup"><span data-stu-id="1a95f-112">This does not throw an exception, and the data is loaded.</span></span> <span data-ttu-id="1a95f-113">È possibile aggiungere un elemento radice sopra questi nodi e creare un XML in formato corretto che potrà essere salvato senza errori.</span><span class="sxs-lookup"><span data-stu-id="1a95f-113">You can add a root element to the top of these nodes and create well-formed XML that can be saved without error.</span></span>  
  
 <span data-ttu-id="1a95f-114">Se il lettore è posizionato su un nodo foglia non valido per il livello radice di un documento, quale un nodo spazio vuoto o attributo, il lettore continuerà a leggere finché non si posizionerà su un nodo che può essere usato per il livello radice.</span><span class="sxs-lookup"><span data-stu-id="1a95f-114">If the reader is positioned on a leaf node that is invalid for the root level of a document (for example, a white space or attribute node), the reader continues to read until it is positioned on a node that can be used for the root.</span></span> <span data-ttu-id="1a95f-115">Il caricamento del documento avverrà a partire da questo punto.</span><span class="sxs-lookup"><span data-stu-id="1a95f-115">The document begins loading at this point.</span></span>  
  
 <span data-ttu-id="1a95f-116">Per impostazione predefinita, il metodo <xref:System.Xml.XmlDocument.Load%2A> non verifica se l'XML è valido usando la DTD o la convalida dello schema.</span><span class="sxs-lookup"><span data-stu-id="1a95f-116">By default, <xref:System.Xml.XmlDocument.Load%2A> does not verify whether the XML is valid using document type definition (DTD) or schema validation.</span></span> <span data-ttu-id="1a95f-117">Verifica solo che l'XML sia in formato corretto.</span><span class="sxs-lookup"><span data-stu-id="1a95f-117">It only verifies whether the XML is well-formed.</span></span> <span data-ttu-id="1a95f-118">Affinché avvenga la convalida, è necessario creare un tipo <xref:System.Xml.XmlReader> usando la classe <xref:System.Xml.XmlReaderSettings>.</span><span class="sxs-lookup"><span data-stu-id="1a95f-118">In order for validation to occur, you need to create an <xref:System.Xml.XmlReader> using the <xref:System.Xml.XmlReaderSettings> class.</span></span> <span data-ttu-id="1a95f-119">La classe <xref:System.Xml.XmlReader> consente di applicare la convalida usando una DTD o uno schema XSD (Schema definition language).</span><span class="sxs-lookup"><span data-stu-id="1a95f-119">The <xref:System.Xml.XmlReader> class can enforce validation using a DTD or Schema definition language (XSD) schema.</span></span> <span data-ttu-id="1a95f-120">La proprietà <xref:System.Xml.ValidationType> della classe <xref:System.Xml.XmlReaderSettings> consente di determinare se l'istanza <xref:System.Xml.XmlReader> applica la convalida.</span><span class="sxs-lookup"><span data-stu-id="1a95f-120">The <xref:System.Xml.ValidationType> property on the <xref:System.Xml.XmlReaderSettings> class determines whether the <xref:System.Xml.XmlReader> instance enforces validation.</span></span> <span data-ttu-id="1a95f-121">Per altre informazioni sulla convalida dei dati XML, vedere la sezione Note della pagina di riferimento <xref:System.Xml.XmlReader>.</span><span class="sxs-lookup"><span data-stu-id="1a95f-121">For more information about validating XML data, see the Remarks section of the <xref:System.Xml.XmlReader> reference page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a95f-122">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1a95f-122">See also</span></span>

- [<span data-ttu-id="1a95f-123">XML DOM (Document Object Model)</span><span class="sxs-lookup"><span data-stu-id="1a95f-123">XML Document Object Model (DOM)</span></span>](xml-document-object-model-dom.md)
