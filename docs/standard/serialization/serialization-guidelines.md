---
title: Linee guida relative alla serializzazione
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- serialization, guidelines
- binary serialization, guidelines
ms.assetid: ebbeddff-179d-443f-bf08-9c373199a73a
ms.openlocfilehash: 067f32a026e3354e6c4256602ed17fd7d7bde0b8
ms.sourcegitcommit: 00aa62e2f469c2272a457b04e66b4cc3c97a800b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/28/2020
ms.locfileid: "78159793"
---
# <a name="serialization-guidelines"></a><span data-ttu-id="b01c3-102">Linee guida relative alla serializzazione</span><span class="sxs-lookup"><span data-stu-id="b01c3-102">Serialization guidelines</span></span>
<span data-ttu-id="b01c3-103">In questo documento vengono elencate le linee guida da tenere presenti quando si progetta un'API da serializzare.</span><span class="sxs-lookup"><span data-stu-id="b01c3-103">This document lists the guidelines to consider when designing an API to be serialized.</span></span>  

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]
  
 <span data-ttu-id="b01c3-104">In .NET sono disponibili tre tecnologie di serializzazione principali ottimizzate per vari scenari di serializzazione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-104">.NET offers three main serialization technologies that are optimized for various serialization scenarios.</span></span> <span data-ttu-id="b01c3-105">La tabella seguente elenca tali tecnologie e i principali tipi .NET correlati.</span><span class="sxs-lookup"><span data-stu-id="b01c3-105">The following table lists these technologies and the main .NET types related to these technologies.</span></span>  
  
|<span data-ttu-id="b01c3-106">Tecnologia</span><span class="sxs-lookup"><span data-stu-id="b01c3-106">Technology</span></span>|<span data-ttu-id="b01c3-107">Classi rilevanti</span><span class="sxs-lookup"><span data-stu-id="b01c3-107">Relevant Classes</span></span>|<span data-ttu-id="b01c3-108">Note</span><span class="sxs-lookup"><span data-stu-id="b01c3-108">Notes</span></span>|  
|----------------|----------------------|-----------|  
|<span data-ttu-id="b01c3-109">Serializzazione dei contratti dati</span><span class="sxs-lookup"><span data-stu-id="b01c3-109">Data Contract Serialization</span></span>|<xref:System.Runtime.Serialization.DataContractAttribute><br /><br /> <xref:System.Runtime.Serialization.DataMemberAttribute><br /><br /> <xref:System.Runtime.Serialization.DataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.NetDataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer><br /><br /> <xref:System.Runtime.Serialization.ISerializable>|<span data-ttu-id="b01c3-110">Persistenza generale</span><span class="sxs-lookup"><span data-stu-id="b01c3-110">General persistence</span></span><br /><br /> <span data-ttu-id="b01c3-111">Servizi Web</span><span class="sxs-lookup"><span data-stu-id="b01c3-111">Web Services</span></span><br /><br /> <span data-ttu-id="b01c3-112">JSON</span><span class="sxs-lookup"><span data-stu-id="b01c3-112">JSON</span></span>|  
|<span data-ttu-id="b01c3-113">Serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="b01c3-113">XML Serialization</span></span>|<xref:System.Xml.Serialization.XmlSerializer>|<span data-ttu-id="b01c3-114">Formato XML</span><span class="sxs-lookup"><span data-stu-id="b01c3-114">XML format</span></span> <br /><span data-ttu-id="b01c3-115">con controllo completo</span><span class="sxs-lookup"><span data-stu-id="b01c3-115">with full control</span></span>|  
|<span data-ttu-id="b01c3-116">Serializzazione di runtime (binaria e SOAP)</span><span class="sxs-lookup"><span data-stu-id="b01c3-116">Runtime -Serialization (Binary and SOAP)</span></span>|<xref:System.SerializableAttribute><br /><br /> <xref:System.Runtime.Serialization.ISerializable><br /><br /> <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter><br /><br /> <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>|<span data-ttu-id="b01c3-117">Servizi remoti .NET</span><span class="sxs-lookup"><span data-stu-id="b01c3-117">.NET Remoting</span></span>|  
  
 <span data-ttu-id="b01c3-118">Quando si progettano nuovi tipi, è necessario determinare le eventuali tecnologie che devono essere supportate da tali tipi.</span><span class="sxs-lookup"><span data-stu-id="b01c3-118">When you design new types, you should decide which, if any, of these technologies those types need to support.</span></span> <span data-ttu-id="b01c3-119">Le linee guida seguenti descrivono come effettuare la scelta e come fornire tale supporto.</span><span class="sxs-lookup"><span data-stu-id="b01c3-119">The following guidelines describe how to make that choice and how to provide such support.</span></span> <span data-ttu-id="b01c3-120">È importante tenere presente che queste linee guida non hanno lo scopo di indicare la tecnologia di serializzazione da utilizzare nell'implementazione dell'applicazione o della libreria</span><span class="sxs-lookup"><span data-stu-id="b01c3-120">These guidelines are not meant to help you choose which serialization technology you should use in the implementation of your application or library.</span></span> <span data-ttu-id="b01c3-121">poiché non sono correlate direttamente alla progettazione dell'API e pertanto esulano dall'ambito di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b01c3-121">Such guidelines are not directly related to API design and thus are not within the scope of this topic.</span></span>  
  
## <a name="guidelines"></a><span data-ttu-id="b01c3-122">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="b01c3-122">Guidelines</span></span>  
  
- <span data-ttu-id="b01c3-123">Prendere in seria considerazione la serializzazione quando si progettano nuovi tipi.</span><span class="sxs-lookup"><span data-stu-id="b01c3-123">DO think about serialization when you design new types.</span></span>  
  
     <span data-ttu-id="b01c3-124">La serializzazione è un aspetto importante della progettazione per qualsiasi tipo poiché è possibile che i programmi debbano rendere persistenti o trasmettere istanze del tipo.</span><span class="sxs-lookup"><span data-stu-id="b01c3-124">Serialization is an important design consideration for any type, because programs might need to persist or transmit instances of the type.</span></span>  
  
### <a name="choosing-the-right-serialization-technology-to-support"></a><span data-ttu-id="b01c3-125">Scelta della tecnologia di serializzazione corretta da supportare</span><span class="sxs-lookup"><span data-stu-id="b01c3-125">Choosing the right serialization technology to support</span></span>  
 <span data-ttu-id="b01c3-126">Un tipo specifico può supportare nessuna, una o più tecnologie di serializzazione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-126">Any given type can support none, one, or more of the serialization technologies.</span></span>  
  
- <span data-ttu-id="b01c3-127">Considerare il supporto della *serializzazione dei contratti di dati* se è necessario rendere persistenti o usare in servizi Web istanze del tipo.</span><span class="sxs-lookup"><span data-stu-id="b01c3-127">CONSIDER supporting *data contract serialization* if instances of your type might need to be persisted or used in Web Services.</span></span>  
  
- <span data-ttu-id="b01c3-128">Considerare il supporto della *serializzazione XML* al posto di o in aggiunta alla serializzazione del contratto dati se è necessario disporre di maggiore controllo sul formato XML creato quando il tipo viene serializzato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-128">CONSIDER supporting the *XML serialization* instead of or in addition to data contract serialization if you need more control over the XML format that is produced when the type is serialized.</span></span>  
  
     <span data-ttu-id="b01c3-129">Questo aspetto può essere necessario in alcuni scenari di interoperabilità in cui è necessario utilizzare un costrutto XML non supportato dalla serializzazione dei contratti dati, ad esempio per creare attributi XML.</span><span class="sxs-lookup"><span data-stu-id="b01c3-129">This may be necessary in some interoperability scenarios where you need to use an XML construct that is not supported by data contract serialization, for example, to produce XML attributes.</span></span>  
  
- <span data-ttu-id="b01c3-130">Considerare il supporto della *serializzazione di runtime* se è necessario usare istanze del tipo all'esterno dei servizi remoti .NET.</span><span class="sxs-lookup"><span data-stu-id="b01c3-130">CONSIDER supporting *runtime serialization* if instances of your type need to travel across .NET Remoting boundaries.</span></span>  
  
- <span data-ttu-id="b01c3-131">Evitare il supporto della serializzazione runtime o XML per motivi di persistenza generale</span><span class="sxs-lookup"><span data-stu-id="b01c3-131">AVOID supporting runtime serialization or XML serialization just for general persistence reasons.</span></span> <span data-ttu-id="b01c3-132">e dare la preferenza alla serializzazione dei contratti dati.</span><span class="sxs-lookup"><span data-stu-id="b01c3-132">Prefer data contract serialization instead</span></span>  
  
#### <a name="supporting-data-contract-serialization"></a><span data-ttu-id="b01c3-133">Supporto della serializzazione dei contratti di dati</span><span class="sxs-lookup"><span data-stu-id="b01c3-133">Supporting data contract serialization</span></span>  
 <span data-ttu-id="b01c3-134">Affinché i tipi supportino la serializzazione dei contratti dati, è necessario applicare <xref:System.Runtime.Serialization.DataContractAttribute> al tipo e <xref:System.Runtime.Serialization.DataMemberAttribute> ai membri (campi e proprietà) del tipo.</span><span class="sxs-lookup"><span data-stu-id="b01c3-134">Types can support data contract serialization by applying the <xref:System.Runtime.Serialization.DataContractAttribute> to the type and the <xref:System.Runtime.Serialization.DataMemberAttribute> to the members (fields and properties) of the type.</span></span>  
  
 [!code-csharp[SerializationGuidelines#1](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#1)]
 [!code-vb[SerializationGuidelines#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#1)]  
  
1. <span data-ttu-id="b01c3-135">Contrassegnare i membri dati del tipo come pubblici se il tipo può essere utilizzato in condizioni di attendibilità parziale.</span><span class="sxs-lookup"><span data-stu-id="b01c3-135">CONSIDER marking data members of your type public if the type can be used in partial trust.</span></span> <span data-ttu-id="b01c3-136">In condizioni di attendibilità totale i serializzatori dei contratti dati possono serializzare e deserializzare anche tipi e membri non pubblici, mentre in condizioni di attendibilità parziale possono essere serializzati o deserializzati solo i membri pubblici.</span><span class="sxs-lookup"><span data-stu-id="b01c3-136">In full trust, data contract serializers can serialize and deserialize nonpublic types and members, but only public members can be serialized and deserialized in partial trust.</span></span>  
  
2. <span data-ttu-id="b01c3-137">Implementare un metodo Getter e Setter su tutte le proprietà che dispongono di un elemento Data-MemberAttribute.</span><span class="sxs-lookup"><span data-stu-id="b01c3-137">DO implement a getter and setter on all properties that have Data-MemberAttribute.</span></span> <span data-ttu-id="b01c3-138">Affinché il tipo possa essere considerato serializzabile, i serializzatori dei contratti dati richiedono entrambi i metodi.</span><span class="sxs-lookup"><span data-stu-id="b01c3-138">Data contract serializers require both the getter and the setter for the type to be considered serializable.</span></span> <span data-ttu-id="b01c3-139">Se il tipo non verrà utilizzato in condizioni di attendibilità parziale, è possibile che una o entrambe le funzioni di accesso alle proprietà non siano pubbliche.</span><span class="sxs-lookup"><span data-stu-id="b01c3-139">If the type won’t be used in partial trust, one or both of the property accessors can be nonpublic.</span></span>  
  
     [!code-csharp[SerializationGuidelines#2](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#2)]
     [!code-vb[SerializationGuidelines#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#2)]  
  
3. <span data-ttu-id="b01c3-140">Utilizzare i callback di serializzazione per l'inizializzazione di istanze deserializzate.</span><span class="sxs-lookup"><span data-stu-id="b01c3-140">CONSIDER using the serialization callbacks for initialization of deserialized instances.</span></span>  
  
     <span data-ttu-id="b01c3-141">Poiché i costruttori non vengono chiamati quando gli oggetti sono deserializzati,</span><span class="sxs-lookup"><span data-stu-id="b01c3-141">Constructors are not called when objects are deserialized.</span></span> <span data-ttu-id="b01c3-142">qualsiasi logica eseguita durante la costruzione normale deve essere implementata come uno dei *callback di serializzazione*.</span><span class="sxs-lookup"><span data-stu-id="b01c3-142">Therefore, any logic that executes during normal construction needs to be implemented as one of the *serialization callbacks*.</span></span>  
  
     [!code-csharp[SerializationGuidelines#3](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#3)]
     [!code-vb[SerializationGuidelines#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#3)]  
  
     <span data-ttu-id="b01c3-143">L'oggetto <xref:System.Runtime.Serialization.OnDeserializedAttribute> è l'attributo di callback più comunemente utilizzato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-143">The <xref:System.Runtime.Serialization.OnDeserializedAttribute> attribute is the most commonly used callback attribute.</span></span> <span data-ttu-id="b01c3-144">Gli altri attributi della famiglia sono <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute>e. <xref:System.Runtime.Serialization.OnSerializedAttribute></span><span class="sxs-lookup"><span data-stu-id="b01c3-144">The other attributes in the family are <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute>, and <xref:System.Runtime.Serialization.OnSerializedAttribute>.</span></span> <span data-ttu-id="b01c3-145">Tali attributi possono essere utilizzati rispettivamente per contrassegnare callback eseguiti prima della deserializzazione, prima della serializzazione e dopo la serializzazione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-145">They can be used to mark callbacks that get executed before deserialization, before serialization, and finally, after serialization, respectively.</span></span>  
  
4. <span data-ttu-id="b01c3-146">Considerare l'utilizzo di <xref:System.Runtime.Serialization.KnownTypeAttribute> per indicare tipi concreti da utilizzare in caso di deserializzazione di un oggetto grafico complesso.</span><span class="sxs-lookup"><span data-stu-id="b01c3-146">CONSIDER using the <xref:System.Runtime.Serialization.KnownTypeAttribute> to indicate concrete types that should be used when deserializing a complex object graph.</span></span>  
  
     <span data-ttu-id="b01c3-147">Ad esempio, se un tipo di un membro dati deserializzato viene rappresentato da una classe astratta, sarà necessario specificare le informazioni sul *tipo noto* affinché il serializzatore sia in grado di decidere il tipo concreto per cui creare un'istanza e da assegnare al membro.</span><span class="sxs-lookup"><span data-stu-id="b01c3-147">For example, if a type of a deserialized data member is represented by an abstract class, the serializer will need the *known type* information to decide what concrete type to instantiate and assign to the member.</span></span> <span data-ttu-id="b01c3-148">Se il tipo noto non viene specificato tramite l'attributo, dovrà essere passato in modo esplicito al serializzatore, ad esempio passando tipi noti al costruttore relativo, o dovrà essere specificato nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-148">If the known type is not specified using the attribute, it will need to be passed to the serializer explicitly (you can do it by passing known types to the serializer constructor) or it will need to be specified in the configuration file.</span></span>  
  
     [!code-csharp[SerializationGuidelines#4](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#4)]
     [!code-vb[SerializationGuidelines#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#4)]  
  
     <span data-ttu-id="b01c3-149">Nei casi in cui l'elenco di tipi noti non sia noto staticamente (quando viene compilata la classe **Person**), **KnownTypeAttribute** può puntare anche a un metodo che restituisce un elenco di tipi noti in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-149">In cases where the list of known types is not known statically (when the **Person** class is compiled), the **KnownTypeAttribute** can also point to a method that returns a list of known types at runtime.</span></span>  
  
5. <span data-ttu-id="b01c3-150">Prendere in considerazione la compatibilità con le versioni precedenti e successive quando si creano o si modificano tipi serializzabili.</span><span class="sxs-lookup"><span data-stu-id="b01c3-150">DO consider backward and forward compatibility when creating or changing serializable types.</span></span>  
  
     <span data-ttu-id="b01c3-151">Tenere presente che i flussi serializzati di versioni future del tipo possono essere deserializzati nella versione corrente del tipo e viceversa.</span><span class="sxs-lookup"><span data-stu-id="b01c3-151">Keep in mind that serialized streams of future versions of your type can be deserialized into the current version of the type, and vice versa.</span></span> <span data-ttu-id="b01c3-152">È importante comprendere che nelle versioni future del tipo non è possibile modificare il nome, il tipo o l'ordine dei membri dati, anche privati e interni, a meno che non si presti particolare attenzione a mantenere il contratto utilizzando parametri espliciti per gli attributi del contratto dati. Quando si apportano modifiche ai tipi serializzabili, testare la compatibilità della serializzazione,</span><span class="sxs-lookup"><span data-stu-id="b01c3-152">Make sure you understand that data members, even private and internal, cannot change their names, types, or even their order in future versions of the type unless special care is taken to preserve the contract using explicit parameters to the data contract attributes.Test compatibility of serialization when making changes to serializable types.</span></span> <span data-ttu-id="b01c3-153">provando ad esempio a deserializzare la nuova versione in una versione precedente e viceversa.</span><span class="sxs-lookup"><span data-stu-id="b01c3-153">Try deserializing the new version into an old version, and vice versa.</span></span>  
  
6. <span data-ttu-id="b01c3-154">Considerare l'implementazione dell'interfaccia <xref:System.Runtime.Serialization.IExtensibleDataObject> per consentire le sequenze di andata e ritorno tra versioni diverse del tipo.</span><span class="sxs-lookup"><span data-stu-id="b01c3-154">CONSIDER implementing <xref:System.Runtime.Serialization.IExtensibleDataObject> interface to allow round-tripping between different versions of the type.</span></span>  
  
     <span data-ttu-id="b01c3-155">L'interfaccia consente al serializzatore di verificare che durante le sequenze di andata e ritorno non venga perso alcun dato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-155">The interface allows the serializer to ensure that no data is lost during round-tripping.</span></span> <span data-ttu-id="b01c3-156">Nella proprietà <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> vengono archiviati tutti i dati della versione futura del tipo non conosciuto nella versione corrente.</span><span class="sxs-lookup"><span data-stu-id="b01c3-156">The <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> property stores any data from the future version of the type that is unknown to the current version.</span></span> <span data-ttu-id="b01c3-157">Successivamente, quando la versione corrente viene serializzata e deserializzata in una versione futura, i dati aggiuntivi saranno disponibili nel flusso serializzato tramite il valore della proprietà **ExtensionData**.</span><span class="sxs-lookup"><span data-stu-id="b01c3-157">When the current version is subsequently serialized and deserialized into a future version, the additional data will be available in the serialized stream through the **ExtensionData** property value.</span></span>  
  
     [!code-csharp[SerializationGuidelines#5](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#5)]
     [!code-vb[SerializationGuidelines#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#5)]  
  
     <span data-ttu-id="b01c3-158">Per altre informazioni, vedere [Contratti di dati compatibili con versioni successive](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b01c3-158">For more information, see [Forward-Compatible Data Contracts](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>  
  
#### <a name="supporting-xml-serialization"></a><span data-ttu-id="b01c3-159">Supporto della serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="b01c3-159">Supporting XML serialization</span></span>  
 <span data-ttu-id="b01c3-160">La serializzazione dei contratti dati è la tecnologia di serializzazione principale e predefinita in .NET Framework, anche se non supporta tutti gli scenari di serializzazione,</span><span class="sxs-lookup"><span data-stu-id="b01c3-160">Data contract serialization is the main (default) serialization technology in the .NET Framework, but there are serialization scenarios that data contract serialization does not support.</span></span> <span data-ttu-id="b01c3-161">ad esempio non consente di controllare completamente la forma del codice XML creato o utilizzato dal serializzatore.</span><span class="sxs-lookup"><span data-stu-id="b01c3-161">For example, it does not give you full control over the shape of XML produced or consumed by the serializer.</span></span> <span data-ttu-id="b01c3-162">Se è richiesto un controllo così dettagliato, è necessario usare la *serializzazione XML* nonché progettare i tipi in modo che supportino questa tecnologia di serializzazione.</span><span class="sxs-lookup"><span data-stu-id="b01c3-162">If such fine control is required, *XML serialization* has to be used, and you need to design your types to support this serialization technology.</span></span>  
  
1. <span data-ttu-id="b01c3-163">Evitare di progettare in maniera specifica i tipi per la serializzazione XML, a meno che non sia presente un motivo estremamente valido per controllare la forma del codice XML creato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-163">AVOID designing your types specifically for XML Serialization, unless you have a very strong reason to control the shape of the XML produced.</span></span> <span data-ttu-id="b01c3-164">Questa tecnologia è stata sostituita dalla serializzazione dei contratti dati descritta nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="b01c3-164">This serialization technology has been superseded by the Data Contract Serialization discussed in the previous section.</span></span>  
  
     <span data-ttu-id="b01c3-165">In altre parole, non applicare attributi dallo spazio dei nomi <xref:System.Xml.Serialization> ai nuovi tipi, a meno che non si sia certi che il tipo verrà utilizzato con la serializzazione XML.</span><span class="sxs-lookup"><span data-stu-id="b01c3-165">In other words, don’t apply attributes from the <xref:System.Xml.Serialization> namespace to new types, unless you know that the type will be used with XML Serialization.</span></span> <span data-ttu-id="b01c3-166">L'esempio seguente mostra come è possibile usare **System.Xml.Serialization** per controllare la forma del codice XML creato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-166">The following example shows how **System.Xml.Serialization** can be used to control the shape of the XML -produced.</span></span>  
  
     [!code-csharp[SerializationGuidelines#6](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#6)]
     [!code-vb[SerializationGuidelines#6](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#6)]  
  
2. <span data-ttu-id="b01c3-167">Considerare l'implementazione dell'interfaccia <xref:System.Xml.Serialization.IXmlSerializable> se si desidera maggiore controllo sulla forma del codice XML serializzato rispetto a quello offerto applicando gli attributi della serializzazione XML.</span><span class="sxs-lookup"><span data-stu-id="b01c3-167">CONSIDER implementing the <xref:System.Xml.Serialization.IXmlSerializable> interface if you want even more control over the shape of the serialized XML than what’s offered by applying the XML Serialization attributes.</span></span> <span data-ttu-id="b01c3-168">Due metodi dell'interfaccia, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> e <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, consentono di controllare completamente il flusso XML serializzato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-168">Two methods of the interface, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> and <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, allow you to fully control the serialized XML stream.</span></span> <span data-ttu-id="b01c3-169">È inoltre possibile controllare l'XML Schema generato per il tipo applicando l'attributo <xref:System.Xml.Serialization.XmlSchemaProviderAttribute>.</span><span class="sxs-lookup"><span data-stu-id="b01c3-169">You can also control the XML schema that gets generated for the type by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute.</span></span>  
  
#### <a name="supporting-runtime-serialization"></a><span data-ttu-id="b01c3-170">Supporto della serializzazione di runtime</span><span class="sxs-lookup"><span data-stu-id="b01c3-170">Supporting runtime serialization</span></span>  
 <span data-ttu-id="b01c3-171">La *serializzazione di runtime* è una tecnologia usata dai servizi remoti .NET.</span><span class="sxs-lookup"><span data-stu-id="b01c3-171">*Runtime serialization* is a technology used by .NET Remoting.</span></span> <span data-ttu-id="b01c3-172">Se si ritiene che i tipi verranno trasportati utilizzando i servizi remoti .NET, è necessario verificare che supportino la serializzazione di runtime.</span><span class="sxs-lookup"><span data-stu-id="b01c3-172">If you think your types will be transported using .NET Remoting, you need to make sure they support runtime serialization.</span></span>  
  
 <span data-ttu-id="b01c3-173">Il supporto di base per la *serializzazione di runtime* può essere fornito applicando l'attributo <xref:System.SerializableAttribute> e scenari più avanzati prevedono l'implementazione di un semplice *modello di runtime serializzabile* (implementazione di <xref:System.Runtime.Serialization.ISerializable> e specifica di un costruttore di serializzazione).</span><span class="sxs-lookup"><span data-stu-id="b01c3-173">The basic support for *runtime serialization* can be provided by applying the <xref:System.SerializableAttribute> attribute, and more advanced scenarios involve implementing a simple *runtime serializable pattern* (implement -<xref:System.Runtime.Serialization.ISerializable> and provide a serialization constructor).</span></span>  
  
1. <span data-ttu-id="b01c3-174">Considerare il supporto della serializzazione di runtime se i tipi verranno utilizzati con i servizi remoti .NET.</span><span class="sxs-lookup"><span data-stu-id="b01c3-174">CONSIDER supporting runtime serialization if your types will be used with .NET Remoting.</span></span> <span data-ttu-id="b01c3-175">Lo spazio dei nomi <xref:System.AddIn>, ad esempio, usa i servizi remoti .NET e pertanto tutti i tipi scambiati tra i componenti aggiuntivi **System.AddIn** devono supportare la serializzazione di runtime.</span><span class="sxs-lookup"><span data-stu-id="b01c3-175">For example, the <xref:System.AddIn> namespace uses .NET Remoting, and so all types exchanged between **System.AddIn** add-ins need to support runtime serialization.</span></span>  
  
     [!code-csharp[SerializationGuidelines#7](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#7)]
     [!code-vb[SerializationGuidelines#7](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#7)]  
  
2. <span data-ttu-id="b01c3-176">Considerare l'implementazione del *modello di runtime serializzabile* se si vuole il controllo completo sul processo di serializzazione,</span><span class="sxs-lookup"><span data-stu-id="b01c3-176">CONSIDER implementing the *runtime serializable pattern* if you want complete control over the serialization process.</span></span> <span data-ttu-id="b01c3-177">ad esempio se si desidera trasformare i dati quando vengono serializzati o deserializzati.</span><span class="sxs-lookup"><span data-stu-id="b01c3-177">For example, if you want to transform data as it gets serialized or deserialized.</span></span>  
  
     <span data-ttu-id="b01c3-178">Il modello è molto semplice.</span><span class="sxs-lookup"><span data-stu-id="b01c3-178">The pattern is very simple.</span></span> <span data-ttu-id="b01c3-179">È sufficiente implementare l'interfaccia <xref:System.Runtime.Serialization.ISerializable> e specificare un costruttore speciale utilizzato quando l'oggetto viene deserializzato.</span><span class="sxs-lookup"><span data-stu-id="b01c3-179">All you need to do is implement the <xref:System.Runtime.Serialization.ISerializable> interface and provide a special constructor that is used when the object is deserialized.</span></span>  
  
     [!code-csharp[SerializationGuidelines#8](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#8)]
     [!code-vb[SerializationGuidelines#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#8)]  
  
3. <span data-ttu-id="b01c3-180">Creare il costruttore di serializzazione in modo protetto e specificare due parametri digitati e denominati esattamente come indicato nell'esempio.</span><span class="sxs-lookup"><span data-stu-id="b01c3-180">DO make the serialization constructor protected and provide two parameters typed and named exactly as shown in the sample here.</span></span>  
  
     [!code-csharp[SerializationGuidelines#9](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#9)]
     [!code-vb[SerializationGuidelines#9](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#9)]  
  
4. <span data-ttu-id="b01c3-181">Implementare i membri ISerializable in modo protetto.</span><span class="sxs-lookup"><span data-stu-id="b01c3-181">DO implement the ISerializable members explicitly.</span></span>  
  
     [!code-csharp[SerializationGuidelines#10](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#10)]
     [!code-vb[SerializationGuidelines#10](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#10)]  
  
5. <span data-ttu-id="b01c3-182">Applicare una richiesta di collegamento all'implementazione di **ISerializable.GetObjectData**.</span><span class="sxs-lookup"><span data-stu-id="b01c3-182">DO apply a link demand to **ISerializable.GetObjectData** implementation.</span></span> <span data-ttu-id="b01c3-183">per garantire che solo un nucleo completamente attendibile e il serializzatore di runtime dispongano dell'accesso al membro.</span><span class="sxs-lookup"><span data-stu-id="b01c3-183">This ensures that only fully trusted core and the runtime serializer have access to the member.</span></span>  
  
     [!code-csharp[SerializationGuidelines#11](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#11)]
     [!code-vb[SerializationGuidelines#11](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#11)]  
  
## <a name="see-also"></a><span data-ttu-id="b01c3-184">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="b01c3-184">See also</span></span>

- [<span data-ttu-id="b01c3-185">Using Data Contracts</span><span class="sxs-lookup"><span data-stu-id="b01c3-185">Using Data Contracts</span></span>](../../../docs/framework/wcf/feature-details/using-data-contracts.md)
- [<span data-ttu-id="b01c3-186">Serializzatore dei contratti dati</span><span class="sxs-lookup"><span data-stu-id="b01c3-186">Data Contract Serializer</span></span>](../../../docs/framework/wcf/feature-details/data-contract-serializer.md)
- [<span data-ttu-id="b01c3-187">Types Supported by the Data Contract Serializer</span><span class="sxs-lookup"><span data-stu-id="b01c3-187">Types Supported by the Data Contract Serializer</span></span>](../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)
- [<span data-ttu-id="b01c3-188">Serializzazione binaria</span><span class="sxs-lookup"><span data-stu-id="b01c3-188">Binary Serialization</span></span>](binary-serialization.md)
- <span data-ttu-id="b01c3-189">[Servizi remoti .NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="b01c3-189">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>
- [<span data-ttu-id="b01c3-190">Serializzazione SOAP e XML</span><span class="sxs-lookup"><span data-stu-id="b01c3-190">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="b01c3-191">Sicurezza e serializzazione</span><span class="sxs-lookup"><span data-stu-id="b01c3-191">Security and Serialization</span></span>](../../../docs/framework/misc/security-and-serialization.md)
