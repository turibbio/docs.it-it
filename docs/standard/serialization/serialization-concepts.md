---
title: Concetti relativi alla serializzazione
description: La serializzazione può essere utilizzata per acquisire lo stato di un oggetto in modo che sia possibile creare una copia o inviare un oggetto per valore da un dominio dell'applicazione a un altro.
ms.date: 08/07/2017
ms.assetid: e1ff4740-20a1-4c76-a8ad-d857db307054
ms.openlocfilehash: 35addd2dd2bed8ce878f2f159f1caefe89922d88
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/06/2020
ms.locfileid: "84291318"
---
# <a name="serialization-concepts"></a><span data-ttu-id="f63cb-103">Concetti relativi alla serializzazione</span><span class="sxs-lookup"><span data-stu-id="f63cb-103">Serialization concepts</span></span>
<span data-ttu-id="f63cb-104">Perché utilizzare la serializzazione?</span><span class="sxs-lookup"><span data-stu-id="f63cb-104">Why would you want to use serialization?</span></span> <span data-ttu-id="f63cb-105">I due motivi principali sono la possibilità di rendere persistente lo stato di un oggetto su un supporto di archiviazione in modo da potere ricreare una copia esatta in una fase successiva e di inviare l'oggetto per valore da un dominio dell'applicazione a un altro.</span><span class="sxs-lookup"><span data-stu-id="f63cb-105">The two most important reasons are to persist the state of an object to a storage medium so an exact copy can be re-created at a later stage, and to send the object by value from one application domain to another.</span></span> <span data-ttu-id="f63cb-106">Ad esempio, la serializzazione viene utilizzata per salvare lo stato della sessione in ASP.NET e per copiare oggetti negli Appunti in Windows Form.</span><span class="sxs-lookup"><span data-stu-id="f63cb-106">For example, serialization is used to save session state in ASP.NET and to copy objects to the Clipboard in Windows Forms.</span></span> <span data-ttu-id="f63cb-107">Viene inoltre utilizzata da .NET Remoting per passare oggetti per valore da un dominio dell'applicazione a un altro.</span><span class="sxs-lookup"><span data-stu-id="f63cb-107">It is also used by remoting to pass objects by value from one application domain to another.</span></span>

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]

## <a name="persistent-storage"></a><span data-ttu-id="f63cb-108">Archiviazione permanente</span><span class="sxs-lookup"><span data-stu-id="f63cb-108">Persistent storage</span></span>
<span data-ttu-id="f63cb-109">Spesso risulta necessario archiviare il valore dei campi di un oggetto su disco e in un secondo momento recuperare tali dati.</span><span class="sxs-lookup"><span data-stu-id="f63cb-109">It is often necessary to store the value of the fields of an object to disk and then, later, retrieve this data.</span></span> <span data-ttu-id="f63cb-110">Sebbene ciò sia facilmente realizzabile senza basarsi sulla serializzazione, questo approccio è spesso scomodo e tendente all'errore e diviene sempre più complesso quando è necessario registrare una gerarchia di oggetti.</span><span class="sxs-lookup"><span data-stu-id="f63cb-110">Although this is easy to achieve without relying on serialization, this approach is often cumbersome and error prone, and becomes progressively more complex when you need to track a hierarchy of objects.</span></span> <span data-ttu-id="f63cb-111">Si provi a immaginare di dovere scrivere un'applicazione aziendale di grandi dimensioni contenente migliaia di oggetti e di dovere scrivere codice per salvare e ripristinare i campi e le proprietà su e da disco per ogni oggetto.</span><span class="sxs-lookup"><span data-stu-id="f63cb-111">Imagine writing a large business application, that contains thousands of objects, and having to write code to save and restore the fields and properties to and from disk for each object.</span></span> <span data-ttu-id="f63cb-112">La serializzazione fornisce un comodo meccanismo per raggiungere tale obiettivo.</span><span class="sxs-lookup"><span data-stu-id="f63cb-112">Serialization provides a convenient mechanism for achieving this objective.</span></span>

<span data-ttu-id="f63cb-113">Common Language Runtime gestisce il modo in cui gli oggetti vengono archiviati in memoria e fornisce un meccanismo di serializzazione automatizzato tramite l'uso della [reflection](../../framework/reflection-and-codedom/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="f63cb-113">The common language runtime manages how objects are stored in memory and provides an automated serialization mechanism by using [reflection](../../framework/reflection-and-codedom/reflection.md).</span></span> <span data-ttu-id="f63cb-114">Quando un oggetto viene serializzato, il nome della classe, l'assembly e tutti i membri dati dell'istanza della classe vengono scritti nell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f63cb-114">When an object is serialized, the name of the class, the assembly, and all the data members of the class instance are written to storage.</span></span> <span data-ttu-id="f63cb-115">Gli oggetti spesso archiviano riferimenti ad altre istanze nelle variabili membro.</span><span class="sxs-lookup"><span data-stu-id="f63cb-115">Objects often store references to other instances in member variables.</span></span> <span data-ttu-id="f63cb-116">Quando la classe viene serializzata, il motore di serializzazione registra oggetti a cui viene fatto riferimento, già serializzati, in modo da assicurare che lo stesso oggetto non venga serializzato più volte.</span><span class="sxs-lookup"><span data-stu-id="f63cb-116">When the class is serialized, the serialization engine tracks referenced objects, already serialized, to ensure that the same object is not serialized more than once.</span></span> <span data-ttu-id="f63cb-117">L'architettura di serializzazione fornita con il .NET Framework gestisce correttamente i grafici degli oggetti e i riferimenti circolari automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f63cb-117">The serialization architecture provided with the .NET Framework correctly handles object graphs and circular references automatically.</span></span> <span data-ttu-id="f63cb-118">L'unico requisito a cui devono attenersi gli oggetti grafici è che tutti gli oggetti, a cui viene fatto riferimento dall'oggetto serializzato, devono essere anche contrassegnati come `Serializable` (per altre informazioni, vedere [Serializzazione di base](basic-serialization.md)).</span><span class="sxs-lookup"><span data-stu-id="f63cb-118">The only requirement placed on object graphs is that all objects, referenced by the serialized object, must also be marked as `Serializable` (for more information, see [Basic Serialization](basic-serialization.md)).</span></span> <span data-ttu-id="f63cb-119">Se ciò non viene fatto, viene generata un'eccezione nel momento in cui il serializzatore tenta di serializzare l'oggetto non contrassegnato.</span><span class="sxs-lookup"><span data-stu-id="f63cb-119">If this is not done, an exception will be thrown when the serializer attempts to serialize the unmarked object.</span></span>

<span data-ttu-id="f63cb-120">Quando la classe serializzata viene deserializzata, la classe viene ricreata e i valori di tutti i membri dati vengono ripristinati automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f63cb-120">When the serialized class is deserialized, the class is recreated and the values of all the data members are automatically restored.</span></span>

## <a name="marshal-by-value"></a><span data-ttu-id="f63cb-121">Marshalling in base al valore</span><span class="sxs-lookup"><span data-stu-id="f63cb-121">Marshal by value</span></span>
<span data-ttu-id="f63cb-122">Gli oggetti sono validi solo nel dominio dell'applicazione in cui sono stati creati.</span><span class="sxs-lookup"><span data-stu-id="f63cb-122">Objects are valid only in the application domain where they are created.</span></span> <span data-ttu-id="f63cb-123">Qualsiasi tentativo di passare l'oggetto come parametro o restituirlo come risultato non avrà esito positivo, a meno che l'oggetto non derivi da `MarshalByRefObject` o sia contrassegnato come `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="f63cb-123">Any attempt to pass the object as a parameter or return it as a result will fail unless the object derives from `MarshalByRefObject` or is marked as `Serializable`.</span></span> <span data-ttu-id="f63cb-124">Se l'oggetto è contrassegnato come `Serializable`, l'oggetto sarà serializzato automaticamente, verrà trasportato da un dominio dell'applicazione all'altro e sarà successivamente deserializzato in modo da produrre una copia esatta dell'oggetto nel secondo dominio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f63cb-124">If the object is marked as `Serializable`, the object will automatically be serialized, transported from the one application domain to the other, and then deserialized to produce an exact copy of the object in the second application domain.</span></span> <span data-ttu-id="f63cb-125">Tale processo viene generalmente denominato marshalling in base al valore.</span><span class="sxs-lookup"><span data-stu-id="f63cb-125">This process is typically referred to as marshal-by-value.</span></span>

<span data-ttu-id="f63cb-126">Quando un oggetto deriva da `MarshalByRefObject`, viene passato un riferimento all'oggetto da un dominio dell'applicazione a un altro e non l'oggetto stesso.</span><span class="sxs-lookup"><span data-stu-id="f63cb-126">When an object derives from `MarshalByRefObject`, an object reference is passed from one application domain to another, rather than the object itself.</span></span> <span data-ttu-id="f63cb-127">È anche possibile contrassegnare un oggetto che deriva da `MarshalByRefObject` come `Serializable`.</span><span class="sxs-lookup"><span data-stu-id="f63cb-127">You can also mark an object that derives from `MarshalByRefObject` as `Serializable`.</span></span> <span data-ttu-id="f63cb-128">Se questo oggetto viene usato con i sevizi remoti, il formattatore responsabile della serializzazione, preconfigurato con un selettore di surrogati (`SurrogateSelector`), prende il controllo del processo di serializzazione e sostituisce tutti gli oggetti derivati da `MarshalByRefObject` con un proxy.</span><span class="sxs-lookup"><span data-stu-id="f63cb-128">When this object is used with remoting, the formatter responsible for serialization, which has been preconfigured with a surrogate selector (`SurrogateSelector`), takes control of the serialization process, and replaces all objects derived from `MarshalByRefObject` with a proxy.</span></span> <span data-ttu-id="f63cb-129">Senza `SurrogateSelector`, invece, l'architettura della serializzazione segue le regole della serializzazione standard descritte in [Passaggi del processo di serializzazione](steps-in-the-serialization-process.md).</span><span class="sxs-lookup"><span data-stu-id="f63cb-129">Without the `SurrogateSelector` in place, the serialization architecture follows the standard serialization rules described in [Steps in the Serialization Process](steps-in-the-serialization-process.md).</span></span>  

## <a name="related-sections"></a><span data-ttu-id="f63cb-130">Sezioni correlate</span><span class="sxs-lookup"><span data-stu-id="f63cb-130">Related sections</span></span>  
 [<span data-ttu-id="f63cb-131">Serializzazione binaria</span><span class="sxs-lookup"><span data-stu-id="f63cb-131">Binary Serialization</span></span>](binary-serialization.md)  
 <span data-ttu-id="f63cb-132">Descrive il meccanismo della serializzazione binaria incluso nel Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="f63cb-132">Describes the binary serialization mechanism that is included with the common language runtime.</span></span>  
  
 <span data-ttu-id="f63cb-133">[Servizi remoti .NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="f63cb-133">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>\
 <span data-ttu-id="f63cb-134">Vengono descritti i diversi metodi di comunicazione disponibili in .NET Framework per le comunicazioni remote.</span><span class="sxs-lookup"><span data-stu-id="f63cb-134">Describes the various communications methods available in the .NET Framework for remote communications.</span></span>  
  
 [<span data-ttu-id="f63cb-135">Serializzazione SOAP e XML</span><span class="sxs-lookup"><span data-stu-id="f63cb-135">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)  
 <span data-ttu-id="f63cb-136">Descrive il meccanismo della serializzazione XML e SOAP incluso nel Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="f63cb-136">Describes the XML and SOAP serialization mechanism that is included with the common language runtime.</span></span>
