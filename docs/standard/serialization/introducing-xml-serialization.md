---
title: Dettagli della serializzazione XML
description: La serializzazione converte un oggetto in un modulo che può essere trasportato. Questo articolo fornisce una panoramica della serializzazione XML e della classe XmlSerializer.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: 373a98bea6661d4a1dcfa0300dcc7c0df1ad751a
ms.sourcegitcommit: d6bd7903d7d46698e9d89d3725f3bb4876891aa3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/13/2020
ms.locfileid: "83380153"
---
# <a name="xml-serialization"></a><span data-ttu-id="241af-104">serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="241af-104">XML serialization</span></span>

<span data-ttu-id="241af-105">La serializzazione è il processo di conversione di un oggetto in un formato che può essere agevolmente trasportato.</span><span class="sxs-lookup"><span data-stu-id="241af-105">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="241af-106">Ad esempio, è possibile serializzare un oggetto e trasferirlo via Internet tramite protocollo HTTP tra un client e un server.</span><span class="sxs-lookup"><span data-stu-id="241af-106">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="241af-107">Viceversa, la deserializzazione ricostruisce l'oggetto dal flusso.</span><span class="sxs-lookup"><span data-stu-id="241af-107">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="241af-108">La serializzazione XML serializza solo i campi pubblici e i valori di proprietà di un oggetto in un flusso XML.</span><span class="sxs-lookup"><span data-stu-id="241af-108">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="241af-109">La serializzazione XML non include informazioni sul tipo.</span><span class="sxs-lookup"><span data-stu-id="241af-109">XML serialization does not include type information.</span></span> <span data-ttu-id="241af-110">Ad esempio, se un oggetto **Book** è incluso nello spazio dei nomi **Library**, non vi è alcuna garanzia che venga deserializzato in un oggetto dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="241af-110">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="241af-111">La serializzazione XML non converte metodi, indicizzatori o proprietà in sola lettura (salvo le raccolte in sola lettura).</span><span class="sxs-lookup"><span data-stu-id="241af-111">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="241af-112">Per serializzare tutti i campi e le proprietà di un oggetto, pubblici e privati, utilizzare <xref:System.Runtime.Serialization.DataContractSerializer> invece della serializzazione XML.</span><span class="sxs-lookup"><span data-stu-id="241af-112">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="241af-113">La classe centrale nella serializzazione XML è la classe <xref:System.Xml.Serialization.XmlSerializer> e i metodi più importanti in questa classe sono i metodi **Serialize** e **Deserialize**.</span><span class="sxs-lookup"><span data-stu-id="241af-113">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="241af-114">La classe <xref:System.Xml.Serialization.XmlSerializer> crea file C# e li compila in file dll per eseguire tale serializzazione.</span><span class="sxs-lookup"><span data-stu-id="241af-114">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="241af-115">In .NET Framework 2.0 lo [strumento per la generazione di serializzatori XML (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) è progettato per generare in anticipo questi assembly di serializzazione perché vengano distribuiti con l'applicazione, in modo da migliorare le prestazioni di avvio.</span><span class="sxs-lookup"><span data-stu-id="241af-115">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="241af-116">Il flusso XML generato da **XmlSerializer** è conforme al World Wide Web Consortium (W3C) [XML Schema Definition Language (XSD) 1,0 Recommendation](https://www.w3.org/TR/xslt).</span><span class="sxs-lookup"><span data-stu-id="241af-116">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="241af-117">Inoltre, i tipi di dati generati sono conformi al documento intitolato "XML Schema Part 2: Datatypes".</span><span class="sxs-lookup"><span data-stu-id="241af-117">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="241af-118">I dati negli oggetti vengono descritti tramite costrutti del linguaggio di programmazione come classi, campi, proprietà, tipi primitivi, matrici e anche XML incorporato sotto forma di oggetti **XmlElement** o **XmlAttribute**.</span><span class="sxs-lookup"><span data-stu-id="241af-118">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="241af-119">È possibile creare le classi, annotate con attributi, o utilizzare lo strumento XML Schema Definition per generare le classi basate su uno schema XML esistente.</span><span class="sxs-lookup"><span data-stu-id="241af-119">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="241af-120">Se si dispone di uno schema XML, è possibile eseguire lo strumento XML Schema Definition per generare un set di classi fortemente tipizzate rispetto allo schema e annotate con attributi.</span><span class="sxs-lookup"><span data-stu-id="241af-120">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="241af-121">Quando viene serializzata un'istanza di tale classe, l'XML generato è conforme allo schema XML.</span><span class="sxs-lookup"><span data-stu-id="241af-121">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="241af-122">Con l'utilizzo di tale classe, è possibile effettuare la programmazione rispetto a un modello a oggetti facilmente modificato essendo certi che l'XML generato sia conforme allo schema XML.</span><span class="sxs-lookup"><span data-stu-id="241af-122">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="241af-123">Si tratta di un'alternativa all'uso di altre classi in .NET Framework, ad esempio le classi **XmlReader** e **XmlWriter**, per analizzare e scrivere un flusso XML.</span><span class="sxs-lookup"><span data-stu-id="241af-123">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="241af-124">Per altre informazioni, vedere [XML Documents and Data](../../../docs/standard/data/xml/index.md) (Documenti e dati XML).</span><span class="sxs-lookup"><span data-stu-id="241af-124">For more information, see [XML Documents and Data](../../../docs/standard/data/xml/index.md).</span></span> <span data-ttu-id="241af-125">Queste classi consentono di analizzare qualsiasi flusso XML.</span><span class="sxs-lookup"><span data-stu-id="241af-125">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="241af-126">Al contrario, usare **XmlSerializer** quando si prevede che il flusso XML sarà conforme a un oggetto XML Schema noto.</span><span class="sxs-lookup"><span data-stu-id="241af-126">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="241af-127">Gli attributi controllano il flusso XML generato dalla classe **XmlSerializer**, consentendo di impostare lo spazio dei nomi XML, il nome dell'elemento, il nome di attributo e altre voci per il flusso XML.</span><span class="sxs-lookup"><span data-stu-id="241af-127">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="241af-128">Per altre informazioni su questi attributi e sul modo in cui controllano la serializzazione XML, vedere [Controllo della serializzazione XML mediante attributi](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="241af-128">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="241af-129">Per una tabella degli attributi usati per controllare l'XML generato, vedere [Attributi per il controllo della serializzazione XML](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="241af-129">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="241af-130">La classe **XmlSerializer** può serializzare ulteriormente un oggetto e può generare un flusso XML SOAP codificato.</span><span class="sxs-lookup"><span data-stu-id="241af-130">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="241af-131">L'elemento XML generato risulta conforme alla sezione 5 del documento "Simple Object Access Protocol (SOAP) 1.1" del World Wide Web Consortium.</span><span class="sxs-lookup"><span data-stu-id="241af-131">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="241af-132">Per altre informazioni su questo processo, vedere [Procedura: Serializzare un oggetto come flusso XML con codifica SOAP](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="241af-132">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="241af-133">Per una tabella degli attributi che controllano l'XML generato, vedere [Attributi per il controllo della serializzazione SOAP codificata](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="241af-133">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="241af-134">La classe **XmlSerializer** genera i messaggi SOAP creati dai e passati ai servizi Web XML.</span><span class="sxs-lookup"><span data-stu-id="241af-134">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="241af-135">Per controllare i messaggi SOAP, è possibile applicare attributi alle classi, ai valori restituiti, ai parametri e ai campi trovati in un file del servizio Web XML (.asmx).</span><span class="sxs-lookup"><span data-stu-id="241af-135">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="241af-136">È possibile utilizzare entrambi gli attributi elencati in "Attributi per il controllo della serializzazione XML" e "Attributi per il controllo della serializzazione SOAP codificata", dal momento che un servizio Web XML può utilizzare sia lo stile SOAP letterale che quello codificato.</span><span class="sxs-lookup"><span data-stu-id="241af-136">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="241af-137">Per altre informazioni sull'uso di attributi per controllare l'XML generato da un servizio Web XML, vedere [Serializzazione XML con servizi Web XML](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="241af-137">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="241af-138">Per ulteriori informazioni sui servizi Web SOAP e XML, vedere [personalizzazione della formattazione dei messaggi SOAP](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="241af-138">For more information about SOAP and XML Web services, see [Customizing SOAP Message Formatting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="241af-139">Considerazioni sulla sicurezza per le applicazioni XmlSerializer</span><span class="sxs-lookup"><span data-stu-id="241af-139">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="241af-140">Quando si crea un'applicazione che usa **XmlSerializer**, tenere presente gli elementi seguenti e le relative implicazioni:</span><span class="sxs-lookup"><span data-stu-id="241af-140">When creating an application that uses the **XmlSerializer**, be aware of the following items and their implications:</span></span>

- <span data-ttu-id="241af-141">La classe **XmlSerializer** crea file C# (CS) e li compila in file DLL nella directory denominata dalla variabile di ambiente TEMP. La serializzazione viene eseguita con questi file DLL.</span><span class="sxs-lookup"><span data-stu-id="241af-141">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="241af-142">Questi assembly di serializzazione possono essere generati in anticipo ed essere firmati tramite lo strumento SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="241af-142">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="241af-143">Tale funzione non è disponibile per i server di servizi Web.</span><span class="sxs-lookup"><span data-stu-id="241af-143">This does not work a server of Web services.</span></span> <span data-ttu-id="241af-144">In altre parole, è disponibile solo per l'utilizzo client e per la serializzazione manuale.</span><span class="sxs-lookup"><span data-stu-id="241af-144">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="241af-145">Il codice e le DLL sono vulnerabili a un processo dannoso al momento della creazione e della compilazione.</span><span class="sxs-lookup"><span data-stu-id="241af-145">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="241af-146">Se si utilizza un computer su cui è in esecuzione Microsoft Windows NT 4.0 o versioni successive, è possibile che due o più utenti condividano la directory TEMP.</span><span class="sxs-lookup"><span data-stu-id="241af-146">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="241af-147">La condivisione di una directory TEMP è pericolosa se i due account hanno privilegi di sicurezza diversi e se l'account con privilegi più elevati esegue un'applicazione con **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="241af-147">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="241af-148">In tal caso, un utente può compromettere la sicurezza del computer sostituendo il file cs o dll compilato.</span><span class="sxs-lookup"><span data-stu-id="241af-148">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="241af-149">Per ovviare a questo problema, accertarsi sempre che ciascun account del computer disponga del proprio profilo.</span><span class="sxs-lookup"><span data-stu-id="241af-149">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="241af-150">Per impostazione predefinita, la variabile di ambiente TEMP fa riferimento a una directory diversa per ciascun account.</span><span class="sxs-lookup"><span data-stu-id="241af-150">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="241af-151">Se un utente malintenzionato invia un flusso continuo di dati XML a un server Web (attacco Denial of Service), **XmlSerializer** continua a elaborare i dati fino all'esaurimento delle risorse del computer.</span><span class="sxs-lookup"><span data-stu-id="241af-151">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="241af-152">Questo tipo di attacco può essere impedito se si utilizza un computer su cui è in esecuzione Internet Information Services (IIS) e l'applicazione è in esecuzione all'interno di IIS.</span><span class="sxs-lookup"><span data-stu-id="241af-152">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="241af-153">IIS dispone di un modulo di verifica che non elabora i flussi maggiori di una determinata dimensione (l'impostazione predefinita è 4 KB).</span><span class="sxs-lookup"><span data-stu-id="241af-153">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="241af-154">Se si crea un'applicazione che non usa IIS e che esegue la deserializzazione con **XmlSerializer**, è necessario implementare un controllo simile per impedire un attacco Denial of Service.</span><span class="sxs-lookup"><span data-stu-id="241af-154">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="241af-155">**XmlSerializer** serializza i dati ed esegue tutto il codice usando qualsiasi tipo assegnato.</span><span class="sxs-lookup"><span data-stu-id="241af-155">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="241af-156">Un oggetto non autorizzato può presentare una minaccia in due modi.</span><span class="sxs-lookup"><span data-stu-id="241af-156">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="241af-157">L'oggetto può eseguire codice dannoso o inserire codice dannoso nel file C# creato da **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="241af-157">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="241af-158">Nel primo caso, se un oggetto non autorizzato tenta di eseguire una procedura distruttiva, la sicurezza di accesso al codice consente di impedire eventuali danni.</span><span class="sxs-lookup"><span data-stu-id="241af-158">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="241af-159">Nel secondo caso, esiste una possibilità teorica che un oggetto non autorizzato possa inserire in qualche modo codice nel file C# creato da **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="241af-159">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="241af-160">Sebbene questo problema sia stato esaminato in modo approfondito e tale attacco è considerato improbabile, è necessario prendere la precauzione di non serializzare mai dati con un tipo ignoto e non attendibile.</span><span class="sxs-lookup"><span data-stu-id="241af-160">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="241af-161">I dati sensibili serializzati potrebbero essere vulnerabili.</span><span class="sxs-lookup"><span data-stu-id="241af-161">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="241af-162">Dopo che **XmlSerializer** ha serializzato i dati, può essere archiviato come file XML o un altro archivio dati.</span><span class="sxs-lookup"><span data-stu-id="241af-162">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="241af-163">Se l'archivio dati è disponibile per altri processi o è visibile su una Intranet o Internet, i dati possono essere rubati e utilizzati in modo dannoso.</span><span class="sxs-lookup"><span data-stu-id="241af-163">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="241af-164">Ad esempio, se si crea un'applicazione che serializza ordini che includono numeri di carta di credito, i dati risultano essere estremamente riservati.</span><span class="sxs-lookup"><span data-stu-id="241af-164">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="241af-165">Per evitare ciò, proteggere sempre l'archivio per i dati ed eseguire le operazioni per mantenerli privati.</span><span class="sxs-lookup"><span data-stu-id="241af-165">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="241af-166">Serializzazione di una classe semplice</span><span class="sxs-lookup"><span data-stu-id="241af-166">Serialization of a Simple Class</span></span>

<span data-ttu-id="241af-167">Nell'esempio di codice riportato di seguito viene mostrata una classe di base con un campo pubblico.</span><span class="sxs-lookup"><span data-stu-id="241af-167">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="241af-168">Quando un'istanza di questa classe viene serializzata, potrebbe assomigliare agli elementi seguenti.</span><span class="sxs-lookup"><span data-stu-id="241af-168">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="241af-169">Per altri esempi di serializzazione, vedere [Esempi di serializzazione XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="241af-169">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="241af-170">Elementi che possono essere serializzati</span><span class="sxs-lookup"><span data-stu-id="241af-170">Items That Can Be Serialized</span></span>

<span data-ttu-id="241af-171">Gli elementi seguenti possono essere serializzati con la classe **XmlSerializer**:</span><span class="sxs-lookup"><span data-stu-id="241af-171">The following items can be serialized using the **XmLSerializer** class:</span></span>

- <span data-ttu-id="241af-172">Proprietà di lettura/scrittura pubbliche e campi di classi pubbliche.</span><span class="sxs-lookup"><span data-stu-id="241af-172">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="241af-173">Classi che implementano **ICollection** o **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="241af-173">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="241af-174">Vengono serializzate solo le raccolte e non le proprietà pubbliche.</span><span class="sxs-lookup"><span data-stu-id="241af-174">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="241af-175">Oggetti **XmlElement**.</span><span class="sxs-lookup"><span data-stu-id="241af-175">**XmlElement** objects.</span></span>

- <span data-ttu-id="241af-176">Oggetti **XmlNode**.</span><span class="sxs-lookup"><span data-stu-id="241af-176">**XmlNode** objects.</span></span>

- <span data-ttu-id="241af-177">Oggetti **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="241af-177">**DataSet** objects.</span></span>

 <span data-ttu-id="241af-178">Per altre informazioni sulla serializzazione o la deserializzazione di oggetti, vedere [Procedura: Serializzare un oggetto](how-to-serialize-an-object.md) e [Procedura: Deserializzare un oggetto](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="241af-178">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="241af-179">Vantaggi dell'utilizzo della serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="241af-179">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="241af-180">La classe **XmlSerializer** offre un controllo completo e flessibile quando si serializza un oggetto come XML.</span><span class="sxs-lookup"><span data-stu-id="241af-180">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="241af-181">Se si sta creando un servizio Web XML, è possibile applicare attributi che controllano la serializzazione su classi e membri in modo da assicurare che l'output XML sia conforme a uno schema specifico.</span><span class="sxs-lookup"><span data-stu-id="241af-181">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="241af-182">Ad esempio, **XmlSerializer** permette di:</span><span class="sxs-lookup"><span data-stu-id="241af-182">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="241af-183">Specificare se un campo o una proprietà devono essere codificati come attributo o elemento.</span><span class="sxs-lookup"><span data-stu-id="241af-183">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="241af-184">Specificare un spazio dei nomi XML da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="241af-184">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="241af-185">Specificare il nome di un elemento o di un attributo se un nome di campo o proprietà non è appropriato.</span><span class="sxs-lookup"><span data-stu-id="241af-185">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="241af-186">Un altro vantaggio della serializzazione XML è che non si hanno vincoli sulle applicazioni in fase di sviluppo, finché il flusso XML generato sia conforme a uno schema specifico.</span><span class="sxs-lookup"><span data-stu-id="241af-186">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="241af-187">Immaginare uno schema utilizzato per descrivere libri.</span><span class="sxs-lookup"><span data-stu-id="241af-187">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="241af-188">Lo schema riporta un elemento titolo, autore, editore autore e numero ISBN.</span><span class="sxs-lookup"><span data-stu-id="241af-188">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="241af-189">È possibile sviluppare un'applicazione che elabori i dati XML in qualsiasi modo desiderato, ad esempio, come un ordine di libri o come inventario di libri.</span><span class="sxs-lookup"><span data-stu-id="241af-189">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="241af-190">In entrambi i casi, l'unico requisito è che il flusso XML sia conforme allo schema XSD (XML Schema definition) specificato.</span><span class="sxs-lookup"><span data-stu-id="241af-190">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="241af-191">Considerazioni sulla serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="241af-191">XML Serialization Considerations</span></span>

<span data-ttu-id="241af-192">Di seguito sono riportati alcuni aspetti da tenere presenti quando si usa la classe **XmlSerializer**:</span><span class="sxs-lookup"><span data-stu-id="241af-192">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="241af-193">Lo strumento Sgen.exe è progettato espressamente per generare assembly di serializzazione per prestazioni ottimali.</span><span class="sxs-lookup"><span data-stu-id="241af-193">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="241af-194">I dati serializzati contengono solo i dati stessi e la struttura delle classi.</span><span class="sxs-lookup"><span data-stu-id="241af-194">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="241af-195">Le informazioni sull'identità e sull'assembly non sono incluse.</span><span class="sxs-lookup"><span data-stu-id="241af-195">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="241af-196">È possibile serializzare solo le proprietà e i campi pubblici.</span><span class="sxs-lookup"><span data-stu-id="241af-196">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="241af-197">Le proprietà devono disporre di funzioni di accesso pubbliche (metodi get e set).</span><span class="sxs-lookup"><span data-stu-id="241af-197">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="241af-198">Se è necessario serializzare dati non pubblici, utilizzare la classe <xref:System.Runtime.Serialization.DataContractSerializer> anziché la serializzazione XML.</span><span class="sxs-lookup"><span data-stu-id="241af-198">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="241af-199">Una classe deve avere un costruttore senza parametri da serializzare tramite **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="241af-199">A class must have a parameterless constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="241af-200">I metodi non possono essere serializzati.</span><span class="sxs-lookup"><span data-stu-id="241af-200">Methods cannot be serialized.</span></span>

- <span data-ttu-id="241af-201">**XmlSerializer** può elaborare le classi che implementano **IEnumerable** o **ICollection** in modo diverso se queste classi soddisfano determinati requisiti, indicati di seguito.</span><span class="sxs-lookup"><span data-stu-id="241af-201">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="241af-202">Una classe che implementa **IEnumerable** deve implementare un metodo **Add** pubblico che accetta un solo parametro.</span><span class="sxs-lookup"><span data-stu-id="241af-202">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="241af-203">Il parametro del metodo **Add** deve essere coerente (polimorfico) al tipo restituito dalla proprietà **IEnumerator.Current** restituita dal metodo **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="241af-203">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="241af-204">Una classe che implementa **ICollection** oltre a **IEnumerable**, ad esempio **CollectionBase**, deve includere una proprietà indicizzata **Item** pubblica (indicizzatore in C#) che accetta un intero e una proprietà **Count** pubblica di tipo **integer**.</span><span class="sxs-lookup"><span data-stu-id="241af-204">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="241af-205">Il parametro passato al metodo **Add** deve essere dello stesso tipo di quello restituito dalla proprietà **Item** o una delle basi di tale tipo.</span><span class="sxs-lookup"><span data-stu-id="241af-205">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="241af-206">Per le classi che implementano **ICollection**, i valori da serializzare vengono recuperati dalla proprietà **Item** indicizzata anziché chiamando **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="241af-206">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="241af-207">Inoltre, le proprietà e i campi pubblici non vengono serializzati, ad eccezione dei campi pubblici che restituiscono un'altra classe di raccolte (una che implementa **ICollection**).</span><span class="sxs-lookup"><span data-stu-id="241af-207">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="241af-208">Per un esempio, vedere [Esempi di serializzazione XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="241af-208">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="241af-209">Mappatura del tipo di dati XSD</span><span class="sxs-lookup"><span data-stu-id="241af-209">XSD Data Type Mapping</span></span>

<span data-ttu-id="241af-210">Il documento W3C denominato [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifica i tipi di dati semplici consentiti in uno schema XSD (XML Schema Definition Language).</span><span class="sxs-lookup"><span data-stu-id="241af-210">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="241af-211">Per molti di questi, ad esempio **int** e **decimal**, esiste un tipo di dati corrispondente in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="241af-211">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="241af-212">Tuttavia, per alcuni tipi di dati XML non esiste un tipo di dati corrispondente in .NET Framework, ad esempio il tipo di dati **NMTOKEN**.</span><span class="sxs-lookup"><span data-stu-id="241af-212">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="241af-213">Se in questi casi si usa lo strumento XML Schema Definition ([strumento XML Schema Definition, Xsd.exe](xml-schema-definition-tool-xsd-exe.md)) per generare classi da uno schema, viene applicato un attributo appropriato a un membro di tipo stringa e la relativa proprietà **DataType** viene impostata sul nome del tipo di dati XML.</span><span class="sxs-lookup"><span data-stu-id="241af-213">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="241af-214">Ad esempio, se uno schema contiene un elemento denominato "MyToken" con il tipo di dati XML **NMTOKEN**, la classe generata può contenere un membro come quello mostrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="241af-214">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="241af-215">Analogamente, se si crea una classe che deve essere conforme a un oggetto XML Schema (XSD) specifico, è necessario applicare l'attributo appropriato e impostarne la proprietà **DataType** sul nome del tipo di dati XML desiderato.</span><span class="sxs-lookup"><span data-stu-id="241af-215">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="241af-216">Per un elenco completo dei mapping dei tipi, vedere la proprietà **DataType** per una delle classi di attributo seguenti:</span><span class="sxs-lookup"><span data-stu-id="241af-216">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="241af-217">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="241af-217">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="241af-218">Serializzazione SOAP e XML</span><span class="sxs-lookup"><span data-stu-id="241af-218">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="241af-219">Serializzazione binaria</span><span class="sxs-lookup"><span data-stu-id="241af-219">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="241af-220">Serializzazione</span><span class="sxs-lookup"><span data-stu-id="241af-220">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="241af-221">Esempi di serializzazione XML</span><span class="sxs-lookup"><span data-stu-id="241af-221">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="241af-222">Procedura: serializzare un oggetto</span><span class="sxs-lookup"><span data-stu-id="241af-222">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="241af-223">Procedura: Deserializzare un oggetto</span><span class="sxs-lookup"><span data-stu-id="241af-223">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
