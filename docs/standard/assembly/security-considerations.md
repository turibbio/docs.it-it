---
title: Considerazioni sulla sicurezza degli assembly
description: Quando si compila un assembly .NET, è possibile specificare le autorizzazioni necessarie per l'esecuzione dell'assembly. Questo articolo illustra gli assembly con nome sicuro e gli strumenti di firma.
ms.date: 08/20/2019
helpviewer_keywords:
- assemblies [.NET Framework], security
- signcodes
- names [.NET Framework], assemblies
- strong-named assemblies, security considerations
- signing assemblies
- assemblies [.NET Framework], signing
- granting permissions, assemblies
- assemblies [.NET Framework], strong-named
- names [.NET Framework], strong names
- permissions [.NET Framework], assemblies
- security [.NET Framework], assemblies
- integrity with assemblies
ms.assetid: 1b5439c1-f3d5-4529-bd69-01814703d067
ms.openlocfilehash: d0b822f725444248d1037c21ffea9afe1cebb7e2
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/02/2020
ms.locfileid: "84290019"
---
# <a name="assembly-security-considerations"></a><span data-ttu-id="8baa4-104">Considerazioni sulla sicurezza degli assembly</span><span class="sxs-lookup"><span data-stu-id="8baa4-104">Assembly security considerations</span></span>
<span data-ttu-id="8baa4-105">Quando si compila un assembly, è possibile specificare l'insieme di autorizzazioni che verranno richieste per consentirne l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="8baa4-105">When you build an assembly, you can specify a set of permissions that the assembly requires to run.</span></span> <span data-ttu-id="8baa4-106">Se sussistano o meno le autorizzazioni per l'utilizzo di un assembly lo si evince dalle evidenze.</span><span class="sxs-lookup"><span data-stu-id="8baa4-106">Whether certain permissions are granted or not granted to an assembly is based on evidence.</span></span>  
  
 <span data-ttu-id="8baa4-107">Le evidenze vengono utilizzate in due modi diversi:</span><span class="sxs-lookup"><span data-stu-id="8baa4-107">There are two distinct ways evidence is used:</span></span>  
  
- <span data-ttu-id="8baa4-108">L'evidenza di input viene unita all'evidenza acquisita durante il caricamento per creare un set di evidenze finale utilizzato per la risoluzione dei criteri.</span><span class="sxs-lookup"><span data-stu-id="8baa4-108">The input evidence is merged with the evidence gathered by the loader to create a final set of evidence used for policy resolution.</span></span> <span data-ttu-id="8baa4-109">I metodi in cui viene usata tale semantica sono **Assembly.Load**, **Assembly.LoadFrom** e **Activator.CreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="8baa4-109">The methods that use this semantic include **Assembly.Load**, **Assembly.LoadFrom**, and **Activator.CreateInstance**.</span></span>  
  
- <span data-ttu-id="8baa4-110">L'evidenza di input viene utilizzata non modificata come set di evidenze finale per la risoluzione dei criteri.</span><span class="sxs-lookup"><span data-stu-id="8baa4-110">The input evidence is used unaltered as the final set of evidence used for policy resolution.</span></span> <span data-ttu-id="8baa4-111">I metodi in cui viene usata tale semantica sono **Assembly.Load(byte[])** e **AppDomain.DefineDynamicAssembly()**.</span><span class="sxs-lookup"><span data-stu-id="8baa4-111">The methods that use this semantic include **Assembly.Load(byte[])** and **AppDomain.DefineDynamicAssembly()**.</span></span>  
  
  <span data-ttu-id="8baa4-112">Autorizzazioni facoltative possono essere concesse dai [criteri di sicurezza](../../framework/misc/code-access-security-basics.md) impostati per il computer che eseguirà l'assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-112">Optional permissions can be granted by the [security policy](../../framework/misc/code-access-security-basics.md) set on the computer where the assembly will run.</span></span> <span data-ttu-id="8baa4-113">Se si desidera che il proprio codice gestisca tutte le possibili eccezioni di sicurezza, si può procedere in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="8baa4-113">If you want your code to handle all potential security exceptions, you can do one of the following:</span></span>  
  
- <span data-ttu-id="8baa4-114">Inserire una richiesta per tutte le autorizzazioni di cui il codice deve disporre e gestire gli errori che si verificheranno in fase di caricamento nel caso in cui le autorizzazioni non venissero riconosciute.</span><span class="sxs-lookup"><span data-stu-id="8baa4-114">Insert a permission request for all the permissions your code must have, and handle up front the load-time failure that occurs if the permissions are not granted.</span></span>  
  
- <span data-ttu-id="8baa4-115">Non prevedere una richiesta per le autorizzazioni eventualmente necessarie, ma limitarsi a predisporre la gestione delle eccezioni di sicurezza che si verificheranno in mancanza di tali autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8baa4-115">Do not use a permission request to obtain permissions your code might need, but be prepared to handle security exceptions if permissions are not granted.</span></span>  
  
  > [!NOTE]
  > <span data-ttu-id="8baa4-116">Quello della sicurezza è un tema complesso in cui è possibile scegliere tra molte possibili opzioni.</span><span class="sxs-lookup"><span data-stu-id="8baa4-116">Security is a complex area, and you have many options to choose from.</span></span> <span data-ttu-id="8baa4-117">Per altre informazioni, vedere [Concetti principali sulla sicurezza](../security/key-security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="8baa4-117">For more information, see [Key Security Concepts](../security/key-security-concepts.md).</span></span>  
  
 <span data-ttu-id="8baa4-118">In fase di caricamento, l'evidenza dell'assembly viene utilizzata come input per i criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="8baa4-118">At load time, the assembly's evidence is used as input to security policy.</span></span> <span data-ttu-id="8baa4-119">I criteri di sicurezza vengono stabiliti dall'azienda e dall'amministratore dei computer, così come dalle impostazioni adottate dallo stesso utente, e determinano l'insieme di autorizzazioni concesse a tutto il codice gestito che viene eseguito sul computer.</span><span class="sxs-lookup"><span data-stu-id="8baa4-119">Security policy is established by the enterprise and the computer's administrator as well as by user policy settings, and determines the set of permissions that is granted to all managed code when executed.</span></span> <span data-ttu-id="8baa4-120">È possibile stabilire criteri di sicurezza basati sull'autore dell'assembly (se questo dispone di una firma generata da uno strumento firma digitale), sul sito Web e la zona (come è definita in Internet Explorer) da cui è stato effettuato il download dell'assembly o sul nome sicuro dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-120">Security policy can be established for the publisher of the assembly (if it has a signing tool generated signature), for the Web site and zone (in Internet Explorer terms) the assembly was downloaded from, or for the assembly's strong name.</span></span> <span data-ttu-id="8baa4-121">L'amministratore di un computer può ad esempio stabilire criteri di sicurezza che consentono a tutto il codice scaricato da un sito Web e firmato da una determinata azienda di software di accedere al database presente su un computer, ma non di scrivere sul disco rigido.</span><span class="sxs-lookup"><span data-stu-id="8baa4-121">For example, a computer's administrator can establish security policy that allows all code downloaded from a Web site and signed by a given software company to access a database on a computer, but does not grant access to write to the computer's disk.</span></span>  
  
## <a name="strong-named-assemblies-and-signing-tools"></a><span data-ttu-id="8baa4-122">Assembly con nome sicuro e strumenti per la firma</span><span class="sxs-lookup"><span data-stu-id="8baa4-122">Strong-named assemblies and signing tools</span></span>  

 > [!WARNING]
 > <span data-ttu-id="8baa4-123">Non usare i nomi sicuri per la sicurezza,</span><span class="sxs-lookup"><span data-stu-id="8baa4-123">Do not rely on strong names for security.</span></span> <span data-ttu-id="8baa4-124">poiché forniscono solo un'identità univoca.</span><span class="sxs-lookup"><span data-stu-id="8baa4-124">They provide a unique identity only.</span></span>

 <span data-ttu-id="8baa4-125">È possibile firmare un assembly in due modi diversi ma complementari: con un nome sicuro o tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md).</span><span class="sxs-lookup"><span data-stu-id="8baa4-125">You can sign an assembly in two different but complementary ways: with a strong name or by using  [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md).</span></span> <span data-ttu-id="8baa4-126">La firma di un assembly con un nome sicuro comporta l'aggiunta della crittografia con chiave pubblica al file che contiene il manifesto dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-126">Signing an assembly with a strong name adds public key encryption to the file containing the assembly manifest.</span></span> <span data-ttu-id="8baa4-127">La firma con nome sicuro garantisce l'univocità del nome, ne impedisce l'utilizzo fraudolento e fornisce un'identità al chiamante quando un riferimento viene risolto.</span><span class="sxs-lookup"><span data-stu-id="8baa4-127">Strong name signing helps to verify name uniqueness, prevent name spoofing, and provide callers with some identity when a reference is resolved.</span></span>  
  
 <span data-ttu-id="8baa4-128">I nomi sicuri non garantiscono alcun livello di attendibilità. A ciò provvede infatti [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md).</span><span class="sxs-lookup"><span data-stu-id="8baa4-128">No level of trust is associated with a strong name, which makes [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) important.</span></span> <span data-ttu-id="8baa4-129">I due strumenti firma digitale impongono all'autore di provare la propria identità a un'autorità terza per ottenere un certificato.</span><span class="sxs-lookup"><span data-stu-id="8baa4-129">The two signing tools require a publisher to prove its identity to a third-party authority and obtain a certificate.</span></span> <span data-ttu-id="8baa4-130">Il certificato viene poi incorporato nel file e può essere utilizzato da un amministratore per decidere se considerare attendibile l'autenticità del codice.</span><span class="sxs-lookup"><span data-stu-id="8baa4-130">This certificate is then embedded in your file and can be used by an administrator to decide whether to trust the code's authenticity.</span></span>  
  
 <span data-ttu-id="8baa4-131">È possibile associare a un assembly il solo nome sicuro, la sola firma digitale creata tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) o entrambi.</span><span class="sxs-lookup"><span data-stu-id="8baa4-131">You can give both a strong name and a digital signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) to an assembly, or you can use either alone.</span></span> <span data-ttu-id="8baa4-132">Con i due strumenti firma digitale è possibile firmare un solo file alla volta. Nel caso di assembly su più file, si firmerà solo il file che contiene il manifesto dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-132">The two signing tools can sign only one file at a time; for a multifile assembly, you sign the file that contains the assembly manifest.</span></span> <span data-ttu-id="8baa4-133">Il nome sicuro viene memorizzato nel file che contiene il manifesto dell'assembly, mentre la firma creata tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) viene memorizzata in un'area riservata del file eseguibile portabile (PE, Portable Executable) che contiene il manifesto dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-133">A strong name is stored in the file containing the assembly manifest, but a signature created using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) is stored in a reserved slot in the portable executable (PE) file containing the assembly manifest.</span></span> <span data-ttu-id="8baa4-134">La firma di un assembly realizzata tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) può essere adottata (con o senza un nome sicuro) quando si ha già una gerarchia attendibile basata su firme generate tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) o quando i propri criteri si avvalgono solo della chiave e non controllano la catena di attendibilità.</span><span class="sxs-lookup"><span data-stu-id="8baa4-134">Signing of an assembly using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) can be used (with or without a strong name) when you already have a trust hierarchy that relies on [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) generated signatures, or when your policy uses only the key portion and does not check a chain of trust.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="8baa4-135">Quando a un assembly si assegna sia un nome sicuro che una firma digitale, il nome sicuro deve essere assegnato per primo.</span><span class="sxs-lookup"><span data-stu-id="8baa4-135">When using both a strong name and a signing tool signature on an assembly, the strong name must be assigned first.</span></span>  
  
 <span data-ttu-id="8baa4-136">Common Language Runtime esegue anche una verifica hash. Il manifesto dell'assembly contiene infatti un elenco di tutti i file che compongono l'assembly, comprensivo dell'hash generato per ciascun file al momento della compilazione del manifesto.</span><span class="sxs-lookup"><span data-stu-id="8baa4-136">The common language runtime also performs a hash verification; the assembly manifest contains a list of all files that make up the assembly, including a hash of each file as it existed when the manifest was built.</span></span> <span data-ttu-id="8baa4-137">Quando si carica un file, viene calcolato il codice hash del relativo contenuto e viene eseguito un confronto con il valore hash archiviato nel manifesto.</span><span class="sxs-lookup"><span data-stu-id="8baa4-137">As each file is loaded, its contents are hashed and compared with the hash value stored in the manifest.</span></span> <span data-ttu-id="8baa4-138">Se i due hash non corrispondono, l'assembly non viene caricato.</span><span class="sxs-lookup"><span data-stu-id="8baa4-138">If the two hashes do not match, the assembly fails to load.</span></span>  
  
 <span data-ttu-id="8baa4-139">Poiché nomi sicuri e firme create tramite [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) garantiscono l'integrità, è possibile basare i criteri di sicurezza dall'accesso di codice su queste due evidenze degli assembly.</span><span class="sxs-lookup"><span data-stu-id="8baa4-139">Because strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity, you can base code access security policy on these two forms of assembly evidence.</span></span> <span data-ttu-id="8baa4-140">I nomi sicuri e le firme create attraverso [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md) garantiscono l'integrità tramite firme digitali e certificati.</span><span class="sxs-lookup"><span data-stu-id="8baa4-140">Strong naming and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md) guarantee integrity through digital signatures and certificates.</span></span> <span data-ttu-id="8baa4-141">Tutte le tecnologie menzionate (verifica hash, denominazioni sicure e firme create mediante [SignTool.exe (strumento per la firma)](../../framework/tools/signtool-exe.md)) contribuiscono a garantire che l'assembly non sia stato alterato in alcun modo.</span><span class="sxs-lookup"><span data-stu-id="8baa4-141">All the technologies mentioned—hash verification, strong naming, and signing using [SignTool.exe (Sign Tool)](../../framework/tools/signtool-exe.md)—work together to ensure that the assembly has not been altered in any way.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8baa4-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="8baa4-142">See also</span></span>

- [<span data-ttu-id="8baa4-143">Assembly con nomi sicuri</span><span class="sxs-lookup"><span data-stu-id="8baa4-143">Strong-named assemblies</span></span>](strong-named.md)
- [<span data-ttu-id="8baa4-144">Assembly in .NET</span><span class="sxs-lookup"><span data-stu-id="8baa4-144">Assemblies in .NET</span></span>](index.md)
- [<span data-ttu-id="8baa4-145">SignTool. exe (strumento per la firma)</span><span class="sxs-lookup"><span data-stu-id="8baa4-145">SignTool.exe (Sign Tool)</span></span>](../../framework/tools/signtool-exe.md)
