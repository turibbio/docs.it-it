---
title: processo di esecuzione gestita
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- source code language
- code, managed execution process
- runtime, managed execution process
- compiling source code, managed execution process
- managed execution process
- common language runtime, managed execution process
ms.assetid: 476b03dc-2b12-49a7-b067-41caeaa2f533
ms.openlocfilehash: 3cfe66f188c5abf245370f841d4b4d31e7b6db8b
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/02/2020
ms.locfileid: "84290071"
---
# <a name="managed-execution-process"></a><span data-ttu-id="33077-102">processo di esecuzione gestita</span><span class="sxs-lookup"><span data-stu-id="33077-102">Managed Execution Process</span></span>
<a name="introduction"></a> <span data-ttu-id="33077-103">Il processo di esecuzione gestita include i passaggi seguenti, descritti in modo dettagliato più avanti in questo argomento:</span><span class="sxs-lookup"><span data-stu-id="33077-103">The managed execution process includes the following steps, which are discussed in detail later in this topic:</span></span>  
  
1. <span data-ttu-id="33077-104">[Scelta di un compilatore](#choosing_a_compiler).</span><span class="sxs-lookup"><span data-stu-id="33077-104">[Choosing a compiler](#choosing_a_compiler).</span></span>  
  
     <span data-ttu-id="33077-105">Per sfruttare i vantaggi offerti da Common Language Runtime, è necessario usare uno o più compilatori di linguaggio destinati al runtime.</span><span class="sxs-lookup"><span data-stu-id="33077-105">To obtain the benefits provided by the common language runtime, you must use one or more language compilers that target the runtime.</span></span>  
  
2. <span data-ttu-id="33077-106">[Compilazione del codice in MSIL](#compiling_to_msil).</span><span class="sxs-lookup"><span data-stu-id="33077-106">[Compiling your code to MSIL](#compiling_to_msil).</span></span>  
  
     <span data-ttu-id="33077-107">La compilazione converte il codice sorgente in codice MSIL (Microsoft Intermediate Language) e genera i metadati necessari.</span><span class="sxs-lookup"><span data-stu-id="33077-107">Compiling translates your source code into Microsoft intermediate language (MSIL) and generates the required metadata.</span></span>  
  
3. <span data-ttu-id="33077-108">[Compilazione del codice MSIL in codice nativo](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="33077-108">[Compiling MSIL to native code](#compiling_msil_to_native_code).</span></span>  
  
     <span data-ttu-id="33077-109">In fase di esecuzione, un compilatore JIT converte il codice MSIL in codice nativo.</span><span class="sxs-lookup"><span data-stu-id="33077-109">At execution time, a just-in-time (JIT) compiler translates the MSIL into native code.</span></span> <span data-ttu-id="33077-110">Durante questa compilazione, il codice deve superare un processo di verifica che esamina il codice MSIL e i metadati per determinare se può essere considerato indipendente dai tipi.</span><span class="sxs-lookup"><span data-stu-id="33077-110">During this compilation, code must pass a verification process that examines the MSIL and metadata to find out whether the code can be determined to be type safe.</span></span>  
  
4. <span data-ttu-id="33077-111">[Esecuzione del codice](#running_code).</span><span class="sxs-lookup"><span data-stu-id="33077-111">[Running code](#running_code).</span></span>  
  
     <span data-ttu-id="33077-112">Common Language Runtime fornisce l'infrastruttura che permette l'esecuzione e i servizi che possono essere usati durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-112">The common language runtime provides the infrastructure that enables execution to take place and services that can be used during execution.</span></span>  
  
<a name="choosing_a_compiler"></a>
## <a name="choosing-a-compiler"></a><span data-ttu-id="33077-113">Scelta di un compilatore</span><span class="sxs-lookup"><span data-stu-id="33077-113">Choosing a Compiler</span></span>  
 <span data-ttu-id="33077-114">Per sfruttare i vantaggi offerti da Common Language Runtime (CLR), è necessario usare uno o più compilatori di linguaggio destinati al runtime, come Visual Basic, C#, Visual C++, F# o uno dei molti compilatori di terze parti come Eiffel, Perl o COBOL.</span><span class="sxs-lookup"><span data-stu-id="33077-114">To obtain the benefits provided by the common language runtime (CLR), you must use one or more language compilers that target the runtime, such as Visual Basic, C#, Visual C++, F#, or one of many third-party compilers such as an Eiffel, Perl, or COBOL compiler.</span></span>  
  
 <span data-ttu-id="33077-115">Poiché si tratta di un ambiente di esecuzione multilinguaggio, il runtime supporta un'ampia gamma di tipi di dati e funzionalità per i linguaggi.</span><span class="sxs-lookup"><span data-stu-id="33077-115">Because it is a multilanguage execution environment, the runtime supports a wide variety of data types and language features.</span></span> <span data-ttu-id="33077-116">Il compilatore di linguaggio usato determina le funzionalità di runtime disponibili, che verranno usate per progettare il codice.</span><span class="sxs-lookup"><span data-stu-id="33077-116">The language compiler you use determines which runtime features are available, and you design your code using those features.</span></span> <span data-ttu-id="33077-117">È il compilatore, non Common Language Runtime, a determinare la sintassi che deve essere utilizzata dal codice.</span><span class="sxs-lookup"><span data-stu-id="33077-117">Your compiler, not the runtime, establishes the syntax your code must use.</span></span> <span data-ttu-id="33077-118">Per essere completamente utilizzabile dai componenti scritti in altri linguaggi, il componente deve avere tipi esportati che espongono solo le funzionalità per i linguaggi incluse in [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md) (CLS).</span><span class="sxs-lookup"><span data-stu-id="33077-118">If your component must be completely usable by components written in other languages, your component's exported types must expose only language features that are included in the [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md) (CLS).</span></span> <span data-ttu-id="33077-119">È possibile usare l'attributo <xref:System.CLSCompliantAttribute> per garantire che il codice sia conforme a CLS.</span><span class="sxs-lookup"><span data-stu-id="33077-119">You can use the <xref:System.CLSCompliantAttribute> attribute to ensure that your code is CLS-compliant.</span></span> <span data-ttu-id="33077-120">Per altre informazioni, vedere [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md).</span><span class="sxs-lookup"><span data-stu-id="33077-120">For more information, see [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md).</span></span>  
  
 [<span data-ttu-id="33077-121">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="33077-121">Back to top</span></span>](#introduction)  
  
<a name="compiling_to_msil"></a>
## <a name="compiling-to-msil"></a><span data-ttu-id="33077-122">Compilazione in MSIL</span><span class="sxs-lookup"><span data-stu-id="33077-122">Compiling to MSIL</span></span>  
 <span data-ttu-id="33077-123">Quando si esegue la compilazione in codice gestito, il compilatore converte il codice sorgente in codice MSIL (Microsoft Intermediate Language), che è un set di istruzioni indipendente dalla CPU che può essere convertito in modo efficiente in codice nativo.</span><span class="sxs-lookup"><span data-stu-id="33077-123">When compiling to managed code, the compiler translates your source code into Microsoft intermediate language (MSIL), which is a CPU-independent set of instructions that can be efficiently converted to native code.</span></span> <span data-ttu-id="33077-124">Il codice MSIL include istruzioni per il caricamento, l'archiviazione, l'inizializzazione e la chiamata di metodi su oggetti, nonché per operazioni aritmetiche e logiche, flusso di controllo, accesso diretto alla memoria, gestione delle eccezioni e altre ancora.</span><span class="sxs-lookup"><span data-stu-id="33077-124">MSIL includes instructions for loading, storing, initializing, and calling methods on objects, as well as instructions for arithmetic and logical operations, control flow, direct memory access, exception handling, and other operations.</span></span> <span data-ttu-id="33077-125">Prima che sia possibile eseguire il codice, il codice MSIL deve essere convertito in codice specifico della CPU, in genere da un [compilatore JIT (Just-In-Time)](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="33077-125">Before code can be run, MSIL must be converted to CPU-specific code, usually by a [just-in-time (JIT) compiler](#compiling_msil_to_native_code).</span></span> <span data-ttu-id="33077-126">Poiché Common Language Runtime fornisce uno o più compilatori JIT per ogni architettura di computer supportata, lo stesso set di codice MSIL può essere compilato tramite JIT ed eseguito su qualsiasi architettura supportata.</span><span class="sxs-lookup"><span data-stu-id="33077-126">Because the common language runtime supplies one or more JIT compilers for each computer architecture it supports, the same set of MSIL can be JIT-compiled and run on any supported architecture.</span></span>  
  
 <span data-ttu-id="33077-127">Quando un compilatore produce codice MSIL, genera anche i metadati.</span><span class="sxs-lookup"><span data-stu-id="33077-127">When a compiler produces MSIL, it also produces metadata.</span></span> <span data-ttu-id="33077-128">I metadati descrivono i tipi nel codice, con la definizione di ogni tipo, le firme dei membri di ogni tipo, i membri cui fa riferimento il codice e altri dati usati dal runtime in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-128">Metadata describes the types in your code, including the definition of each type, the signatures of each type's members, the members that your code references, and other data that the runtime uses at execution time.</span></span> <span data-ttu-id="33077-129">Il codice MSIL e i metadati sono contenuti in un file eseguibile portabile (PE) che si basa (estendendolo) sul formato Microsoft PE e COFF (Common Object File Format) pubblicato, usato tradizionalmente per il contenuto eseguibile.</span><span class="sxs-lookup"><span data-stu-id="33077-129">The MSIL and metadata are contained in a portable executable (PE) file that is based on and that extends the published Microsoft PE and common object file format (COFF) used historically for executable content.</span></span> <span data-ttu-id="33077-130">Questo formato di file, che adatta il codice MSIL o il codice nativo e i metadati, permette al sistema operativo di riconoscere le immagini Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="33077-130">This file format, which accommodates MSIL or native code as well as metadata, enables the operating system to recognize common language runtime images.</span></span> <span data-ttu-id="33077-131">La presenza di metadati nel file insieme a codice MSIL permette al codice di descrivere se stesso, per cui non sono necessari un linguaggio di definizione dell'interfaccia né librerie dei tipi.</span><span class="sxs-lookup"><span data-stu-id="33077-131">The presence of metadata in the file together with MSIL enables your code to describe itself, which means that there is no need for type libraries or Interface Definition Language (IDL).</span></span> <span data-ttu-id="33077-132">Il runtime individua ed estrae dal file i metadati al momento necessario durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-132">The runtime locates and extracts the metadata from the file as needed during execution.</span></span>  
  
 [<span data-ttu-id="33077-133">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="33077-133">Back to top</span></span>](#introduction)  
  
<a name="compiling_msil_to_native_code"></a>
## <a name="compiling-msil-to-native-code"></a><span data-ttu-id="33077-134">Compilazione del codice MSIL in codice nativo</span><span class="sxs-lookup"><span data-stu-id="33077-134">Compiling MSIL to Native Code</span></span>  
 <span data-ttu-id="33077-135">Prima di poter essere eseguito, il codice MSIL (Microsoft Intermediate Language) deve essere compilato con Common Language Runtime in codice nativo per l'architettura di computer di destinazione.</span><span class="sxs-lookup"><span data-stu-id="33077-135">Before you can run Microsoft intermediate language (MSIL), it must be compiled against the common language runtime to native code for the target machine architecture.</span></span> <span data-ttu-id="33077-136">.NET Framework offre due strumenti per eseguire questa conversione:</span><span class="sxs-lookup"><span data-stu-id="33077-136">The .NET Framework provides two ways to perform this conversion:</span></span>  
  
- <span data-ttu-id="33077-137">A .NET Framework just-in-time (JIT) compiler.</span><span class="sxs-lookup"><span data-stu-id="33077-137">A .NET Framework just-in-time (JIT) compiler.</span></span>  
  
- <span data-ttu-id="33077-138">[Generatore di immagini native (Ngen.exe)](../framework/tools/ngen-exe-native-image-generator.md) di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="33077-138">The .NET Framework [Ngen.exe (Native Image Generator)](../framework/tools/ngen-exe-native-image-generator.md).</span></span>  
  
### <a name="compilation-by-the-jit-compiler"></a><span data-ttu-id="33077-139">Compilazione tramite il compilatore JIT</span><span class="sxs-lookup"><span data-stu-id="33077-139">Compilation by the JIT Compiler</span></span>  
 <span data-ttu-id="33077-140">La compilazione JIT converte il codice MSIL in codice nativo su richiesta in fase di esecuzione dell'applicazione, durante il caricamento e l'esecuzione del contenuto di un assembly.</span><span class="sxs-lookup"><span data-stu-id="33077-140">JIT compilation converts MSIL to native code on demand at application run time, when the contents of an assembly are loaded and executed.</span></span> <span data-ttu-id="33077-141">Poiché Common Language Runtime fornisce un compilatore JIT per ogni architettura CPU supportata, gli sviluppatori possono compilare un set di assembly MSIL da compilare tramite JIT ed eseguire su più computer con diverse architetture di computer.</span><span class="sxs-lookup"><span data-stu-id="33077-141">Because the common language runtime supplies a JIT compiler for each supported CPU architecture, developers can build a set of MSIL assemblies that can be JIT-compiled and run on different computers with different machine architectures.</span></span> <span data-ttu-id="33077-142">Tuttavia, se il codice gestito chiama API native specifiche della piattaforma o una libreria di classi specifica della piattaforma, viene eseguito solo su tale sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="33077-142">However, if your managed code calls platform-specific native APIs or a platform-specific class library, it will run only on that operating system.</span></span>  
  
 <span data-ttu-id="33077-143">La compilazione JIT tiene conto della possibilità che parte del codice non venga mai chiamata durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-143">JIT compilation takes into account the possibility that some code might never be called during execution.</span></span> <span data-ttu-id="33077-144">Invece di usare tempo e memoria per convertire tutto il codice MSIL in un file PE in codice nativo, la compilazione converte solo quello necessario durante l'esecuzione e archivia il codice nativo risultante in memoria, perché sia accessibile per le chiamate successive nel contesto del processo.</span><span class="sxs-lookup"><span data-stu-id="33077-144">Instead of using time and memory to convert all the MSIL in a PE file to native code, it converts the MSIL as needed during execution and stores the resulting native code in memory so that it is accessible for subsequent calls in the context of that process.</span></span> <span data-ttu-id="33077-145">Il caricatore crea e collega uno stub a ogni metodo in un tipo durante il caricamento e l'inizializzazione del tipo.</span><span class="sxs-lookup"><span data-stu-id="33077-145">The loader creates and attaches a stub to each method in a type when the type is loaded and initialized.</span></span> <span data-ttu-id="33077-146">Quando un metodo viene chiamato per la prima volta, lo stub passa il controllo al compilatore JIT, che converte in codice nativo il codice MSIL per il metodo e modifica lo stub in modo da puntare direttamente al codice nativo generato.</span><span class="sxs-lookup"><span data-stu-id="33077-146">When a method is called for the first time, the stub passes control to the JIT compiler, which converts the MSIL for that method into native code and modifies the stub to point directly to the generated native code.</span></span> <span data-ttu-id="33077-147">Di conseguenza, le successive chiamate del metodo compilato tramite JIT passano direttamente al codice nativo.</span><span class="sxs-lookup"><span data-stu-id="33077-147">Therefore, subsequent calls to the JIT-compiled method go directly to the native code.</span></span>  
  
### <a name="install-time-code-generation-using-ngenexe"></a><span data-ttu-id="33077-148">Generazione di codice in fase di installazione mediante NGen.exe</span><span class="sxs-lookup"><span data-stu-id="33077-148">Install-Time Code Generation Using NGen.exe</span></span>  
 <span data-ttu-id="33077-149">Poiché il compilatore JIT converte il codice MSIL di un assembly in codice nativo quando vengono chiamati singoli metodi definiti nell'assembly, influisce negativamente sulle prestazioni in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-149">Because the JIT compiler converts an assembly's MSIL to native code when individual methods defined in that assembly are called, it affects performance adversely at run time.</span></span> <span data-ttu-id="33077-150">Nella maggior parte dei casi, queste prestazioni inferiori sono comunque accettabili.</span><span class="sxs-lookup"><span data-stu-id="33077-150">In most cases, that diminished performance is acceptable.</span></span> <span data-ttu-id="33077-151">Un aspetto ancora più importante è che il codice generato dal compilatore JIT è associato al processo che ha attivato la compilazione</span><span class="sxs-lookup"><span data-stu-id="33077-151">More importantly, the code generated by the JIT compiler is bound to the process that triggered the compilation.</span></span> <span data-ttu-id="33077-152">e non può essere condiviso tra più processi.</span><span class="sxs-lookup"><span data-stu-id="33077-152">It cannot be shared across multiple processes.</span></span> <span data-ttu-id="33077-153">Per permettere la condivisione del codice generato tra più chiamate di un'applicazione o tra più processi che condividono un set di assembly, Common Language Runtime supporta una modalità di compilazione anticipata.</span><span class="sxs-lookup"><span data-stu-id="33077-153">To allow the generated code to be shared across multiple invocations of an application or across multiple processes that share a set of assemblies, the common language runtime supports an ahead-of-time compilation mode.</span></span> <span data-ttu-id="33077-154">Questa modalità di compilazione usa il [generatore di immagini native (Ngen.exe)](../framework/tools/ngen-exe-native-image-generator.md) per convertire assembly MSIL in codice nativo in modo molto simile al compilatore JIT.</span><span class="sxs-lookup"><span data-stu-id="33077-154">This ahead-of-time compilation mode uses the [Ngen.exe (Native Image Generator)](../framework/tools/ngen-exe-native-image-generator.md) to convert MSIL assemblies to native code much like the JIT compiler does.</span></span> <span data-ttu-id="33077-155">Tuttavia, il funzionamento di Ngen.exe differisce da quello del compilatore JIT per tre aspetti:</span><span class="sxs-lookup"><span data-stu-id="33077-155">However, the operation of Ngen.exe differs from that of the JIT compiler in three ways:</span></span>  
  
- <span data-ttu-id="33077-156">Esegue la conversione da codice MSIL a codice nativo prima di eseguire l'applicazione invece che durante l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="33077-156">It performs the conversion from MSIL to native code before running the application instead of while the application is running.</span></span>  
  
- <span data-ttu-id="33077-157">Compila un intero assembly per volta, invece di un metodo per volta.</span><span class="sxs-lookup"><span data-stu-id="33077-157">It compiles an entire assembly at a time, instead of one method at a time.</span></span>  
  
- <span data-ttu-id="33077-158">Mantiene il codice generato nella cache delle immagini native come file su disco.</span><span class="sxs-lookup"><span data-stu-id="33077-158">It persists the generated code in the Native Image Cache as a file on disk.</span></span>  
  
### <a name="code-verification"></a><span data-ttu-id="33077-159">Verifica del codice</span><span class="sxs-lookup"><span data-stu-id="33077-159">Code Verification</span></span>  
 <span data-ttu-id="33077-160">Come parte della compilazione in codice nativo, il codice MSIL deve superare un processo di verifica, a meno che un amministratore non abbia definito criteri di sicurezza che permettono di evitare la verifica del codice.</span><span class="sxs-lookup"><span data-stu-id="33077-160">As part of its compilation to native code, the MSIL code must pass a verification process unless an administrator has established a security policy that allows the code to bypass verification.</span></span> <span data-ttu-id="33077-161">La verifica esamina il codice MSIL e i metadati per determinare se il codice è indipendente dai tipi, che significa che accede solo alle posizioni di memoria cui è autorizzato ad accedere.</span><span class="sxs-lookup"><span data-stu-id="33077-161">Verification examines MSIL and metadata to find out whether the code is type safe, which means that it accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="33077-162">L'indipendenza dai tipi isola gli oggetti gli uni dagli altri e aiuta a proteggerli da danni accidentali o intenzionali.</span><span class="sxs-lookup"><span data-stu-id="33077-162">Type safety helps isolate objects from each other and helps protect them from inadvertent or malicious corruption.</span></span> <span data-ttu-id="33077-163">Inoltre, garantisce l'applicazione affidabile delle restrizioni di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="33077-163">It also provides assurance that security restrictions on code can be reliably enforced.</span></span>  
  
 <span data-ttu-id="33077-164">Il runtime si basa sul fatto che le affermazioni seguenti siano vere per il codice verificabile come indipendente dai tipi:</span><span class="sxs-lookup"><span data-stu-id="33077-164">The runtime relies on the fact that the following statements are true for code that is verifiably type safe:</span></span>  
  
- <span data-ttu-id="33077-165">Un riferimento a un tipo è strettamente compatibile con il tipo a cui viene fatto riferimento.</span><span class="sxs-lookup"><span data-stu-id="33077-165">A reference to a type is strictly compatible with the type being referenced.</span></span>  
  
- <span data-ttu-id="33077-166">Vengono richiamate in un oggetto solo le operazioni definite in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="33077-166">Only appropriately defined operations are invoked on an object.</span></span>  
  
- <span data-ttu-id="33077-167">Le identità sono quello che sostengono di essere.</span><span class="sxs-lookup"><span data-stu-id="33077-167">Identities are what they claim to be.</span></span>  
  
 <span data-ttu-id="33077-168">Durante il processo di verifica, il codice MSIL viene esaminato nel tentativo di confermare che possa accedere alle posizioni di memoria e chiamare metodi solo attraverso i tipi definiti in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="33077-168">During the verification process, MSIL code is examined in an attempt to confirm that the code can access memory locations and call methods only through properly defined types.</span></span> <span data-ttu-id="33077-169">Ad esempio, il codice non può permettere l'accesso ai campi di un oggetto in un modo che consenta l'overrun delle posizioni di memoria.</span><span class="sxs-lookup"><span data-stu-id="33077-169">For example, code cannot allow an object's fields to be accessed in a manner that allows memory locations to be overrun.</span></span> <span data-ttu-id="33077-170">La verifica esamina inoltre il codice per determinare se il codice MSIL sia stato generato correttamente, perché quello generato in modo non corretto può causare una violazione delle regole di indipendenza dai tipi.</span><span class="sxs-lookup"><span data-stu-id="33077-170">Additionally, verification inspects code to determine whether the MSIL has been correctly generated, because incorrect MSIL can lead to a violation of the type safety rules.</span></span> <span data-ttu-id="33077-171">Il processo di verifica passa un set di codice indipendente dai tipi ben definito e passa solo il codice indipendente dai tipi.</span><span class="sxs-lookup"><span data-stu-id="33077-171">The verification process passes a well-defined set of type-safe code, and it passes only code that is type safe.</span></span> <span data-ttu-id="33077-172">Tuttavia, parte del codice indipendente dai tipi potrebbe non superare la verifica a causa di alcune limitazioni del processo di verifica e alcuni linguaggi, in base alla progettazione, non producono codice verificabile come indipendente dai tipi.</span><span class="sxs-lookup"><span data-stu-id="33077-172">However, some type-safe code might not pass verification because of some limitations of the verification process, and some languages, by design, do not produce verifiably type-safe code.</span></span> <span data-ttu-id="33077-173">Se i criteri di sicurezza richiedono codice indipendente dai tipi ma il codice non supera la verifica, al momento dell'esecuzione verrà generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="33077-173">If type-safe code is required by the security policy but the code does not pass verification, an exception is thrown when the code is run.</span></span>  
  
 [<span data-ttu-id="33077-174">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="33077-174">Back to top</span></span>](#introduction)  
  
<a name="running_code"></a>
## <a name="running-code"></a><span data-ttu-id="33077-175">Esecuzione del codice</span><span class="sxs-lookup"><span data-stu-id="33077-175">Running Code</span></span>  
 <span data-ttu-id="33077-176">Common Language Runtime fornisce l'infrastruttura che permette l'esecuzione gestita e i servizi che possono essere usati durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-176">The common language runtime provides the infrastructure that enables managed execution to take place and services that can be used during execution.</span></span> <span data-ttu-id="33077-177">Prima che un metodo possa essere eseguito, deve essere compilato in codice specifico del processore.</span><span class="sxs-lookup"><span data-stu-id="33077-177">Before a method can be run, it must be compiled to processor-specific code.</span></span> <span data-ttu-id="33077-178">Ogni metodo per cui è stato generato codice MSIL viene compilato tramite JIT quando viene chiamato per la prima volta, quindi viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="33077-178">Each method for which MSIL has been generated is JIT-compiled when it is called for the first time, and then run.</span></span> <span data-ttu-id="33077-179">Alla successiva esecuzione del metodo, viene eseguito il codice nativo esistente compilato tramite JIT.</span><span class="sxs-lookup"><span data-stu-id="33077-179">The next time the method is run, the existing JIT-compiled native code is run.</span></span> <span data-ttu-id="33077-180">Il processo di compilazione JIT e di esecuzione del codice viene ripetuto fino al completamento dell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="33077-180">The process of JIT-compiling and then running the code is repeated until execution is complete.</span></span>  
  
 <span data-ttu-id="33077-181">Durante l'esecuzione, il codice gestito riceve servizi come Garbage Collection, sicurezza, interoperabilità con codice non gestito, supporto per il debug tra linguaggi e supporto migliorato per distribuzione e controllo delle versioni.</span><span class="sxs-lookup"><span data-stu-id="33077-181">During execution, managed code receives services such as garbage collection, security, interoperability with unmanaged code, cross-language debugging support, and enhanced deployment and versioning support.</span></span>  
  
 <span data-ttu-id="33077-182">In Microsoft Windows Vista, il caricatore del sistema operativo controlla la presenza di moduli gestiti esaminando un bit nell'intestazione COFF.</span><span class="sxs-lookup"><span data-stu-id="33077-182">In Microsoft Windows Vista, the operating system loader checks for managed modules by examining a bit in the COFF header.</span></span> <span data-ttu-id="33077-183">Il bit impostato denota un modulo gestito.</span><span class="sxs-lookup"><span data-stu-id="33077-183">The bit being set denotes a managed module.</span></span> <span data-ttu-id="33077-184">Se il caricatore rileva moduli gestiti, carica mscoree.dll e `_CorValidateImage` e `_CorImageUnloading` notificano al caricatore l'avvenuto caricamento o scaricamento delle immagini dei moduli gestiti.</span><span class="sxs-lookup"><span data-stu-id="33077-184">If the loader detects managed modules, it loads mscoree.dll, and `_CorValidateImage` and `_CorImageUnloading` notify the loader when the managed module images are loaded and unloaded.</span></span> <span data-ttu-id="33077-185">`_CorValidateImage` esegue le azioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="33077-185">`_CorValidateImage` performs the following actions:</span></span>  
  
1. <span data-ttu-id="33077-186">Assicura che il codice sia codice gestito valido.</span><span class="sxs-lookup"><span data-stu-id="33077-186">Ensures that the code is valid managed code.</span></span>  
  
2. <span data-ttu-id="33077-187">Modifica il punto di ingresso nell'immagine in un punto di ingresso nel runtime.</span><span class="sxs-lookup"><span data-stu-id="33077-187">Changes the entry point in the image to an entry point in the runtime.</span></span>  
  
 <span data-ttu-id="33077-188">In Windows a 64 bit `_CorValidateImage` modifica l'immagine presente in memoria trasformandola dal formato PE32 al formato PE32+.</span><span class="sxs-lookup"><span data-stu-id="33077-188">On 64-bit Windows, `_CorValidateImage` modifies the image that is in memory by transforming it from PE32 to PE32+ format.</span></span>  
  
 [<span data-ttu-id="33077-189">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="33077-189">Back to top</span></span>](#introduction)  
  
## <a name="see-also"></a><span data-ttu-id="33077-190">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="33077-190">See also</span></span>

- [<span data-ttu-id="33077-191">Panoramica</span><span class="sxs-lookup"><span data-stu-id="33077-191">Overview</span></span>](../framework/get-started/overview.md)
- [<span data-ttu-id="33077-192">Indipendenza del linguaggio e componenti indipendenti dal linguaggio</span><span class="sxs-lookup"><span data-stu-id="33077-192">Language Independence and Language-Independent Components</span></span>](language-independence-and-language-independent-components.md)
- [<span data-ttu-id="33077-193">Metadati e componenti auto-descrittivi</span><span class="sxs-lookup"><span data-stu-id="33077-193">Metadata and Self-Describing Components</span></span>](metadata-and-self-describing-components.md)
- [<span data-ttu-id="33077-194">Ilasm. exe (assembler IL)</span><span class="sxs-lookup"><span data-stu-id="33077-194">Ilasm.exe (IL Assembler)</span></span>](../framework/tools/ilasm-exe-il-assembler.md)
- [<span data-ttu-id="33077-195">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="33077-195">Security</span></span>](security/index.md)
- [<span data-ttu-id="33077-196">Interoperabilità con codice non gestito</span><span class="sxs-lookup"><span data-stu-id="33077-196">Interoperating with Unmanaged Code</span></span>](../framework/interop/index.md)
- [<span data-ttu-id="33077-197">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="33077-197">Deployment</span></span>](../framework/deployment/net-framework-applications.md)
- [<span data-ttu-id="33077-198">Assembly in .NET</span><span class="sxs-lookup"><span data-stu-id="33077-198">Assemblies in .NET</span></span>](assembly/index.md)
- [<span data-ttu-id="33077-199">Domini applicazione</span><span class="sxs-lookup"><span data-stu-id="33077-199">Application Domains</span></span>](../framework/app-domains/application-domains.md)
