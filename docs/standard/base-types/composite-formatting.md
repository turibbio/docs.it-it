---
title: Formattazione composita
ms.date: 10/26/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parameter specifiers
- strings [.NET Framework], alignment
- format specifiers, composite formatting
- strings [.NET Framework], composite
- composite formatting
- objects [.NET Framework], formatting multiple objects
ms.assetid: 87b7d528-73f6-43c6-b71a-f23043039a49
ms.openlocfilehash: 2488a471af3e0dfc8ebf7dad1589c3c03ac15d86
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/02/2020
ms.locfileid: "84289317"
---
# <a name="composite-formatting"></a><span data-ttu-id="6a178-102">Formattazione composita</span><span class="sxs-lookup"><span data-stu-id="6a178-102">Composite formatting</span></span>

<span data-ttu-id="6a178-103">La funzionalità di formattazione composta di .NET consente di usare come input un elenco di oggetti e una stringa di formato composto.</span><span class="sxs-lookup"><span data-stu-id="6a178-103">The .NET composite formatting feature takes a list of objects and a composite format string as input.</span></span> <span data-ttu-id="6a178-104">Una stringa di formato composto è costituita da testo fisso alternato a segnaposto indicizzati, denominati elementi di formato, che corrispondono agli oggetti dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="6a178-104">A composite format string consists of fixed text intermixed with indexed placeholders, called format items, that correspond to the objects in the list.</span></span> <span data-ttu-id="6a178-105">L'operazione di formattazione produce una stringa risultato costituita dal testo fisso originale alternato alla rappresentazione di stringa degli oggetti dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="6a178-105">The formatting operation yields a result string that consists of the original fixed text intermixed with the string representation of the objects in the list.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="6a178-106">Invece di usare le stringhe di formato composito, è possibile usare *stringhe interpolate* se il linguaggio e la versione del linguaggio in uso le supportano.</span><span class="sxs-lookup"><span data-stu-id="6a178-106">Instead of using composite format strings, you can use *interpolated strings* if the language and language version that you're using support them.</span></span> <span data-ttu-id="6a178-107">Una stringa interpolata è una stringa che contiene *espressioni interpolate*.</span><span class="sxs-lookup"><span data-stu-id="6a178-107">An interpolated string is a string that contains *interpolated expressions*.</span></span> <span data-ttu-id="6a178-108">Ogni espressione interpolata viene risolta con il valore dell'espressione e inclusa nella stringa di risultato al momento dell'assegnazione della stringa.</span><span class="sxs-lookup"><span data-stu-id="6a178-108">Each interpolated expression is resolved with the expression's value and included in the result string when the string is assigned.</span></span> <span data-ttu-id="6a178-109">Per altre informazioni, vedere [Interpolazione di stringhe (Riferimenti per C#)](../../csharp/language-reference/tokens/interpolated.md) e [Stringhe interpolate (Riferimenti per Visual Basic)](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md).</span><span class="sxs-lookup"><span data-stu-id="6a178-109">For more information, see [String interpolation (C# Reference)](../../csharp/language-reference/tokens/interpolated.md) and [Interpolated strings (Visual Basic Reference)](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md).</span></span>

<span data-ttu-id="6a178-110">La funzionalità di formattazione composita è supportata da metodi quali i seguenti:</span><span class="sxs-lookup"><span data-stu-id="6a178-110">The composite formatting feature is supported by methods such as the following:</span></span>  
  
- <span data-ttu-id="6a178-111"><xref:System.String.Format%2A?displayProperty=nameWithType>, che restituisce una stringa di risultato formattata.</span><span class="sxs-lookup"><span data-stu-id="6a178-111"><xref:System.String.Format%2A?displayProperty=nameWithType>, which returns a formatted result string.</span></span>  
  
- <span data-ttu-id="6a178-112"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, che aggiunge una stringa di risultato formattata a un oggetto <xref:System.Text.StringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="6a178-112"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, which appends a formatted result string to a <xref:System.Text.StringBuilder> object.</span></span>
- <span data-ttu-id="6a178-113">Alcuni overload del metodo di <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, che visualizza una stringa di risultato formattata nella console.</span><span class="sxs-lookup"><span data-stu-id="6a178-113">Some overloads of the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method, which display a formatted result string to the console.</span></span>  
  
- <span data-ttu-id="6a178-114">Alcuni overload del metodo di <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType>, che visualizza una stringa di risultato formattata in un flusso o in un file.</span><span class="sxs-lookup"><span data-stu-id="6a178-114">Some overloads of the <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType> method, which write the formatted result string to a stream or file.</span></span> <span data-ttu-id="6a178-115">Le classi derivate da <xref:System.IO.TextWriter>, come <xref:System.IO.StreamWriter> e <xref:System.Web.UI.HtmlTextWriter>, condividono questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="6a178-115">The classes derived from <xref:System.IO.TextWriter>, such as <xref:System.IO.StreamWriter> and <xref:System.Web.UI.HtmlTextWriter>, also share this functionality.</span></span>  
  
- <span data-ttu-id="6a178-116"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, che restituisce un messaggio formattato nei listener di traccia.</span><span class="sxs-lookup"><span data-stu-id="6a178-116"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, which outputs a formatted message to trace listeners.</span></span>  
  
- <span data-ttu-id="6a178-117">Metodi <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> e <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, che restituiscono messaggi formattati nei listener di traccia.</span><span class="sxs-lookup"><span data-stu-id="6a178-117">The <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, and <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> methods, which output formatted messages to trace listeners.</span></span>  
  
- <span data-ttu-id="6a178-118">Metodo di <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, che scrive un metodo informativo nei listener di traccia.</span><span class="sxs-lookup"><span data-stu-id="6a178-118">The <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method, which writes an informational method to trace listeners.</span></span>  
  
## <a name="composite-format-string"></a><span data-ttu-id="6a178-119">Stringa di formato composto</span><span class="sxs-lookup"><span data-stu-id="6a178-119">Composite Format String</span></span>  
 <span data-ttu-id="6a178-120">Una stringa di formato composto e un elenco di oggetti vengono usati come argomenti di metodi che supportano la funzionalità di formattazione composta.</span><span class="sxs-lookup"><span data-stu-id="6a178-120">A composite format string and object list are used as arguments of methods that support the composite formatting feature.</span></span> <span data-ttu-id="6a178-121">Una stringa di formato composto è costituita da zero o più esecuzioni di testo fisso alternate a uno o più elementi di formato.</span><span class="sxs-lookup"><span data-stu-id="6a178-121">A composite format string consists of zero or more runs of fixed text intermixed with one or more format items.</span></span> <span data-ttu-id="6a178-122">Il testo fisso corrisponde a una stringa di propria scelta e ogni elemento di formato corrisponde a un oggetto o una struttura boxed dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="6a178-122">The fixed text is any string that you choose, and each format item corresponds to an object or boxed structure in the list.</span></span> <span data-ttu-id="6a178-123">La funzionalità di formattazione composta restituisce una nuova stringa risultato in cui ciascun elemento di formato viene sostituito dalla rappresentazione di stringa di origine dell'oggetto corrispondente dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="6a178-123">The composite formatting feature returns a new result string where each format item is replaced by the string representation of the corresponding object in the list.</span></span>  
  
 <span data-ttu-id="6a178-124">Si consideri il frammento di codice <xref:System.String.Format%2A> riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="6a178-124">Consider the following <xref:System.String.Format%2A> code fragment.</span></span>  
  
 [!code-csharp[Formatting.Composite#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#1)]
 [!code-vb[Formatting.Composite#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#1)]  
  
 <span data-ttu-id="6a178-125">Il testo corretto è "`Name =`" e "`, hours =`".</span><span class="sxs-lookup"><span data-stu-id="6a178-125">The fixed text is "`Name =` " and "`, hours =` ".</span></span> <span data-ttu-id="6a178-126">Gli elementi di formato sono "`{0}`", il cui indice è 0, che corrisponde all'elemento `name` dell'oggetto, e "`{1:hh}`", il cui indice è 1, che corrisponde all'elemento `DateTime.Now` dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="6a178-126">The format items are "`{0}`", whose index is 0, which corresponds to the object `name`, and "`{1:hh}`", whose index is 1, which corresponds to the object `DateTime.Now`.</span></span>  
  
## <a name="format-item-syntax"></a><span data-ttu-id="6a178-127">Sintassi degli elementi di formato</span><span class="sxs-lookup"><span data-stu-id="6a178-127">Format Item Syntax</span></span>  
 <span data-ttu-id="6a178-128">Ogni elemento di formato usa il formato seguente ed è costituito dai componenti riportati di seguito:</span><span class="sxs-lookup"><span data-stu-id="6a178-128">Each format item takes the following form and consists of the following components:</span></span>  
  
 <span data-ttu-id="6a178-129">`{`*index*[ `,` *allineamento*] [ `:` *FormatString*]`}`</span><span class="sxs-lookup"><span data-stu-id="6a178-129">`{` *index*[`,`*alignment*][`:`*formatString*]`}`</span></span>  
  
 <span data-ttu-id="6a178-130">Le parentesi graffe corrispondenti "{" e "}" sono obbligatorie.</span><span class="sxs-lookup"><span data-stu-id="6a178-130">The matching braces ("{" and "}") are required.</span></span>  
  
### <a name="index-component"></a><span data-ttu-id="6a178-131">Componente di indice</span><span class="sxs-lookup"><span data-stu-id="6a178-131">Index Component</span></span>  
 <span data-ttu-id="6a178-132">Il componente obbligatorio *index*, denominato anche identificatore di parametro, corrisponde a un numero a partire da 0 che identifica un elemento corrispondente nell'elenco di oggetti.</span><span class="sxs-lookup"><span data-stu-id="6a178-132">The mandatory *index* component, also called a parameter specifier, is a number starting from 0 that identifies a corresponding item in the list of objects.</span></span> <span data-ttu-id="6a178-133">Con l'elemento di formato con identificatore di parametro 0 viene formattato il primo oggetto dell'elenco, con l'elemento di formato con identificatore di parametro 1 viene formattato il secondo oggetto dell'elenco e così via.</span><span class="sxs-lookup"><span data-stu-id="6a178-133">That is, the format item whose parameter specifier is 0 formats the first object in the list, the format item whose parameter specifier is 1 formats the second object in the list, and so on.</span></span> <span data-ttu-id="6a178-134">L'esempio seguente include quattro identificatori di parametro, numerati da zero a tre, per rappresentare i numeri primi inferiori a dieci:</span><span class="sxs-lookup"><span data-stu-id="6a178-134">The following example includes four parameter specifiers, numbered zero through three,  to represent prime numbers less than ten:</span></span>  
  
 [!code-csharp[Formatting.Composite#7](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#7)]
 [!code-vb[Formatting.Composite#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#7)]  
  
 <span data-ttu-id="6a178-135">Più elementi di formato possono fare riferimento allo stesso elemento dell'elenco di oggetti specificando lo stesso identificatore di parametro.</span><span class="sxs-lookup"><span data-stu-id="6a178-135">Multiple format items can refer to the same element in the list of objects by specifying the same parameter specifier.</span></span> <span data-ttu-id="6a178-136">È ad esempio possibile formattare lo stesso valore numerico in formato esadecimale, scientifico e numerico specificando una stringa di formato composito, ad esempio "0x {0:X} {0:E} {0:N} ", come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="6a178-136">For example, you can format the same numeric value in hexadecimal, scientific, and number format by specifying a composite format string such as : "0x{0:X} {0:E} {0:N}", as the following example shows.</span></span>  
  
 [!code-csharp[Formatting.Composite#10](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#10)]
 [!code-vb[Formatting.Composite#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#10)]  
  
 <span data-ttu-id="6a178-137">Ogni elemento di formato può fare riferimento a un oggetto dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="6a178-137">Each format item can refer to any object in the list.</span></span> <span data-ttu-id="6a178-138">Se ad esempio sono presenti tre oggetti, è possibile formattare il secondo, il primo e il terzo oggetto specificando una stringa di formato composita come la seguente: " {1} {0} {2} ".</span><span class="sxs-lookup"><span data-stu-id="6a178-138">For example, if there are three objects, you can format the second, first, and third object by specifying a composite format string like this: "{1} {0} {2}".</span></span> <span data-ttu-id="6a178-139">Gli oggetti a cui non fa riferimento un elemento di formato vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="6a178-139">An object that is not referenced by a format item is ignored.</span></span> <span data-ttu-id="6a178-140"><xref:System.FormatException>Viene generata un'eccezione in fase di esecuzione se un identificatore di parametro designa un elemento non compreso nei limiti dell'elenco di oggetti.</span><span class="sxs-lookup"><span data-stu-id="6a178-140">A <xref:System.FormatException> is thrown at run time if a parameter specifier designates an item outside the bounds of the list of objects.</span></span>  
  
### <a name="alignment-component"></a><span data-ttu-id="6a178-141">Componente di allineamento</span><span class="sxs-lookup"><span data-stu-id="6a178-141">Alignment Component</span></span>  
 <span data-ttu-id="6a178-142">Il componente facoltativo *alignment* corrisponde a un intero con segno che indica la larghezza preferita del campo formattato.</span><span class="sxs-lookup"><span data-stu-id="6a178-142">The optional *alignment* component is a signed integer indicating the preferred formatted field width.</span></span> <span data-ttu-id="6a178-143">Se il valore di *alignment* è inferiore alla lunghezza della stringa formattata, il componente *alignment* verrà ignorato e come larghezza del campo verrà usata la lunghezza della stringa.</span><span class="sxs-lookup"><span data-stu-id="6a178-143">If the value of *alignment* is less than the length of the formatted string, *alignment* is ignored and the length of the formatted string is used as the field width.</span></span> <span data-ttu-id="6a178-144">I dati formattati verranno allineati a destra se il valore di *alignment* è positivo e a sinistra se il valore di *alignment* è negativo.</span><span class="sxs-lookup"><span data-stu-id="6a178-144">The formatted data in the field is right-aligned if *alignment* is positive and left-aligned if *alignment* is negative.</span></span> <span data-ttu-id="6a178-145">Per la spaziatura eventualmente necessaria verranno usati spazi vuoti.</span><span class="sxs-lookup"><span data-stu-id="6a178-145">If padding is necessary, white space is used.</span></span> <span data-ttu-id="6a178-146">Se viene specificato il componente *alignment*, la virgola è obbligatoria.</span><span class="sxs-lookup"><span data-stu-id="6a178-146">The comma is required if *alignment*  is specified.</span></span>  
  
 <span data-ttu-id="6a178-147">L'esempio seguente definisce due matrici, una contenente i nomi dei dipendenti e l'altra contenente il numero di ore in cui hanno lavorato per un periodo di due settimane.</span><span class="sxs-lookup"><span data-stu-id="6a178-147">The following example defines two arrays, one containing the names of employees and the other containing the hours they worked over a two-week period.</span></span> <span data-ttu-id="6a178-148">La stringa di formato composto allinea a sinistra i nomi in un campo di 20 caratteri e allinea a destra le ore in un campo di 5 caratteri.</span><span class="sxs-lookup"><span data-stu-id="6a178-148">The composite format string left-aligns the names in a 20-character field, and right-aligns their hours in a 5-character field.</span></span> <span data-ttu-id="6a178-149">Si noti che la stringa di formato standard "N1" viene usata anche per formattare le ore con una cifra frazionaria.</span><span class="sxs-lookup"><span data-stu-id="6a178-149">Note that the "N1" standard format string is also used to format the hours with one fractional digit.</span></span>  
  
 [!code-csharp[Formatting.Composite#8](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/alignment1.cs#8)]
 [!code-vb[Formatting.Composite#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/alignment1.vb#8)]  
  
### <a name="format-string-component"></a><span data-ttu-id="6a178-150">Componente della stringa di formato</span><span class="sxs-lookup"><span data-stu-id="6a178-150">Format String Component</span></span>  
 <span data-ttu-id="6a178-151">Il componente *formatString* facoltativo è una stringa di formato appropriata per il tipo di oggetto formattato.</span><span class="sxs-lookup"><span data-stu-id="6a178-151">The optional *formatString* component is a format string that is appropriate for the type of object being formatted.</span></span> <span data-ttu-id="6a178-152">Specificare una stringa di formato numerico standard o personalizzata se l'oggetto corrispondente è un valore numerico, una stringa di formato di data e ora standard o personalizzata se l'oggetto corrispondente è un oggetto <xref:System.DateTime> o una [stringa di formato di enumerazione](enumeration-format-strings.md) se l'oggetto corrispondente è un valore di enumerazione.</span><span class="sxs-lookup"><span data-stu-id="6a178-152">Specify a standard or custom numeric format string if the corresponding object is a numeric value, a standard or custom date and time format string if the corresponding object is a <xref:System.DateTime> object, or an [enumeration format string](enumeration-format-strings.md) if the corresponding object is an enumeration value.</span></span> <span data-ttu-id="6a178-153">Se il componente *formatString* viene omesso, verrà usato l'identificatore di formato generale "G" per un tipo numerico, di data e ora o di enumerazione.</span><span class="sxs-lookup"><span data-stu-id="6a178-153">If *formatString* is not specified, the general ("G") format specifier for a numeric, date and time, or enumeration type is used.</span></span> <span data-ttu-id="6a178-154">Se viene specificato il componente *formatString*, i due punti sono obbligatori.</span><span class="sxs-lookup"><span data-stu-id="6a178-154">The colon is required if *formatString* is specified.</span></span>  
  
 <span data-ttu-id="6a178-155">Nella tabella seguente sono elencati i tipi o le categorie di tipi della libreria di classi .NET Framework che supportano un set predefinito di stringhe di formato e vengono forniti collegamenti ad argomenti in cui vengono elencate le stringhe di formato supportate.</span><span class="sxs-lookup"><span data-stu-id="6a178-155">The following table lists types or categories of types in the .NET Framework class library that support a predefined set of format strings, and provides links to the topics that list the supported format strings.</span></span> <span data-ttu-id="6a178-156">Si noti che la formattazione delle stringhe è un meccanismo estendibile che consente di definire nuove stringhe di formato per tutti i tipi esistenti nonché definire un set di stringhe di formato supportate da un tipo definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6a178-156">Note that string formatting is an extensible mechanism that makes it possible to define new format strings for all existing types as well as to define a set of format strings supported by an application-defined type.</span></span> <span data-ttu-id="6a178-157">Per altre informazioni, vedere gli argomenti delle interfacce <xref:System.IFormattable> e <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="6a178-157">For more information, see the <xref:System.IFormattable> and <xref:System.ICustomFormatter> interface topics.</span></span>  
  
|<span data-ttu-id="6a178-158">Tipo o categoria di tipo</span><span class="sxs-lookup"><span data-stu-id="6a178-158">Type or type category</span></span>|<span data-ttu-id="6a178-159">Vedere</span><span class="sxs-lookup"><span data-stu-id="6a178-159">See</span></span>|  
|---------------------------|---------|  
|<span data-ttu-id="6a178-160">Tipi di data e ora (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span><span class="sxs-lookup"><span data-stu-id="6a178-160">Date and time types (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span></span>|[<span data-ttu-id="6a178-161">Stringhe di formato di data e ora standard</span><span class="sxs-lookup"><span data-stu-id="6a178-161">Standard Date and Time Format Strings</span></span>](standard-date-and-time-format-strings.md)<br /><br /> [<span data-ttu-id="6a178-162">Stringhe di formato di data e ora personalizzato</span><span class="sxs-lookup"><span data-stu-id="6a178-162">Custom Date and Time Format Strings</span></span>](custom-date-and-time-format-strings.md)|  
|<span data-ttu-id="6a178-163">Tipi di enumerazione (tutti derivati da <xref:System.Enum?displayProperty=nameWithType>)</span><span class="sxs-lookup"><span data-stu-id="6a178-163">Enumeration types (all types derived from <xref:System.Enum?displayProperty=nameWithType>)</span></span>|[<span data-ttu-id="6a178-164">Stringhe di formato di enumerazione</span><span class="sxs-lookup"><span data-stu-id="6a178-164">Enumeration Format Strings</span></span>](enumeration-format-strings.md)|  
|<span data-ttu-id="6a178-165">Tipi numerici (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span><span class="sxs-lookup"><span data-stu-id="6a178-165">Numeric types (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span></span>|[<span data-ttu-id="6a178-166">Stringhe di formato numerico standard</span><span class="sxs-lookup"><span data-stu-id="6a178-166">Standard Numeric Format Strings</span></span>](standard-numeric-format-strings.md)<br /><br /> [<span data-ttu-id="6a178-167">Stringhe di formato numerico personalizzato</span><span class="sxs-lookup"><span data-stu-id="6a178-167">Custom Numeric Format Strings</span></span>](custom-numeric-format-strings.md)|  
|<xref:System.Guid>|<xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>|  
|<xref:System.TimeSpan>|[<span data-ttu-id="6a178-168">Stringhe di formato TimeSpan standard</span><span class="sxs-lookup"><span data-stu-id="6a178-168">Standard TimeSpan Format Strings</span></span>](standard-timespan-format-strings.md)<br /><br /> [<span data-ttu-id="6a178-169">Stringhe di formato TimeSpan personalizzate</span><span class="sxs-lookup"><span data-stu-id="6a178-169">Custom TimeSpan Format Strings</span></span>](custom-timespan-format-strings.md)|  
  
### <a name="escaping-braces"></a><span data-ttu-id="6a178-170">Sequenze di escape delle parentesi graffe</span><span class="sxs-lookup"><span data-stu-id="6a178-170">Escaping Braces</span></span>  
 <span data-ttu-id="6a178-171">Le parentesi graffe di apertura e di chiusura sono interpretate come l'inizio e la fine di un elemento di formato.</span><span class="sxs-lookup"><span data-stu-id="6a178-171">Opening and closing braces are interpreted as starting and ending a format item.</span></span> <span data-ttu-id="6a178-172">Di conseguenza, è necessario usare una sequenza di escape per visualizzare una parentesi graffa di apertura o di chiusura letterale.</span><span class="sxs-lookup"><span data-stu-id="6a178-172">Consequently, you must use an escape sequence to display a literal opening brace or closing brace.</span></span> <span data-ttu-id="6a178-173">Specificare due parentesi graffe di apertura ("{{") nel testo fisso per visualizzare una parentesi di apertura ("{") oppure due parentesi graffe di chiusura ("}}") per visualizzare una parentesi graffa di chiusura ("}").</span><span class="sxs-lookup"><span data-stu-id="6a178-173">Specify two opening braces ("{{") in the fixed text to display one opening brace ("{"), or two closing braces ("}}") to display one closing brace ("}").</span></span> <span data-ttu-id="6a178-174">Le parentesi graffe in un elemento di formato vengono interpretate sequenzialmente nell'ordine in cui sono rilevate.</span><span class="sxs-lookup"><span data-stu-id="6a178-174">Braces in a format item are interpreted sequentially in the order they are encountered.</span></span> <span data-ttu-id="6a178-175">L'interpretazione delle parentesi graffe annidate non è supportata.</span><span class="sxs-lookup"><span data-stu-id="6a178-175">Interpreting nested braces is not supported.</span></span>  
  
 <span data-ttu-id="6a178-176">Il tipo di interpretazione delle parentesi graffe in sequenza di escape può produrre risultati imprevisti.</span><span class="sxs-lookup"><span data-stu-id="6a178-176">The way escaped braces are interpreted can lead to unexpected results.</span></span> <span data-ttu-id="6a178-177">Si consideri, ad esempio, l'elemento di formato "{{{0:D}}}", destinato alla visualizzazione di una parentesi graffa di apertura, un valore numerico formattato come numero decimale e una parentesi graffa di chiusura.</span><span class="sxs-lookup"><span data-stu-id="6a178-177">For example, consider the format item "{{{0:D}}}", which is intended to display an opening brace, a numeric value formatted as a decimal number, and a closing brace.</span></span> <span data-ttu-id="6a178-178">L'elemento di formato viene tuttavia interpretato nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="6a178-178">However, the format item is actually interpreted in the following manner:</span></span>  
  
1. <span data-ttu-id="6a178-179">Le prime due parentesi apertura ("{{") presentano una sequenza di escape e producono una parentesi graffa di apertura.</span><span class="sxs-lookup"><span data-stu-id="6a178-179">The first two opening braces ("{{") are escaped and yield one opening brace.</span></span>  
  
2. <span data-ttu-id="6a178-180">I tre caratteri successivi ("{0:") sono interpretati come l'inizio di un elemento di formato.</span><span class="sxs-lookup"><span data-stu-id="6a178-180">The next three characters ("{0:") are interpreted as the start of a format item.</span></span>  
  
3. <span data-ttu-id="6a178-181">Il carattere successivo ("D") verrebbe interpretato come identificatore del formato numerico standard Decimal, ma le due parentesi graffe successive con sequenza di escape ("}}") producono una parentesi graffa singola.</span><span class="sxs-lookup"><span data-stu-id="6a178-181">The next character ("D") would be interpreted as the Decimal standard numeric format specifier, but the next two escaped braces ("}}") yield a single brace.</span></span> <span data-ttu-id="6a178-182">Poiché la stringa risultante ("D}") non è un identificatore di un formato numerico standard, viene interpretata come una stringa di formato personalizzata che indica la visualizzazione della stringa letterale "D}".</span><span class="sxs-lookup"><span data-stu-id="6a178-182">Because the resulting string ("D}") is not a standard numeric format specifier, the resulting string is interpreted as a custom format string that means display the literal string "D}".</span></span>  
  
4. <span data-ttu-id="6a178-183">L'ultima parentesi graffa ("}") viene interpretata come la fine dell'elemento di formato.</span><span class="sxs-lookup"><span data-stu-id="6a178-183">The last brace ("}") is interpreted as the end of the format item.</span></span>  
  
5. <span data-ttu-id="6a178-184">Il risultato finale visualizzato è la stringa letterale "{D}".</span><span class="sxs-lookup"><span data-stu-id="6a178-184">The final result that is displayed is the literal string, "{D}".</span></span> <span data-ttu-id="6a178-185">Il valore numerico da formattare non viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="6a178-185">The numeric value that was to be formatted is not displayed.</span></span>  
  
 <span data-ttu-id="6a178-186">Per evitare di interpretare in modo errato gli elementi di formato e le parentesi graffe con sequenza di escape, è preferibile formattarli separatamente, ovvero</span><span class="sxs-lookup"><span data-stu-id="6a178-186">One way to write your code to avoid misinterpreting escaped braces and format items is to format the braces and format item separately.</span></span> <span data-ttu-id="6a178-187">nella prima operazione di formattazione visualizzare una parentesi graffa di apertura letterale, nella successiva operazione visualizzare il risultato dell'elemento di formato, quindi nell'ultima operazione visualizzare una parentesi graffa di chiusura letterale.</span><span class="sxs-lookup"><span data-stu-id="6a178-187">That is, in the first format operation display a literal opening brace, in the next operation display the result of the format item, then in the final operation display a literal closing brace.</span></span> <span data-ttu-id="6a178-188">Questo approccio viene illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="6a178-188">The following example illustrates this approach.</span></span>  
  
 [!code-csharp[Formatting.Composite#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Escaping1.cs#2)]
 [!code-vb[Formatting.Composite#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Escaping1.vb#2)]  
  
### <a name="processing-order"></a><span data-ttu-id="6a178-189">Ordine di elaborazione</span><span class="sxs-lookup"><span data-stu-id="6a178-189">Processing Order</span></span>  
 <span data-ttu-id="6a178-190">Se la chiamata al metodo di formattazione composita include un argomento <xref:System.IFormatProvider> il cui valore non è `null`, il runtime chiama il metodo <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> per richiedere un'implementazione di <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="6a178-190">If the call to the composite formatting method includes an <xref:System.IFormatProvider> argument whose value is not `null`, the runtime calls its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method to request an <xref:System.ICustomFormatter> implementation.</span></span> <span data-ttu-id="6a178-191">Se il metodo è in grado di restituire un'implementazione <xref:System.ICustomFormatter>, viene memorizzata nella cache per la durata della chiamata del metodo di formattazione composita.</span><span class="sxs-lookup"><span data-stu-id="6a178-191">If the method is able to return an <xref:System.ICustomFormatter> implementation, it's cached for the duration of the call of the composite formatting method.</span></span>
  
 <span data-ttu-id="6a178-192">Ogni valore nell'elenco di parametri che corrisponde a un elemento di formato viene convertito in una stringa, nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="6a178-192">Each value in the parameter list that corresponds to a format item is converted to a string as follows:</span></span>  
  
1. <span data-ttu-id="6a178-193">Se il valore da formattare è `null`, viene restituita una stringa vuota <xref:System.String.Empty?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-193">If the value to be formatted is `null`, an empty string <xref:System.String.Empty?displayProperty=nameWithType> is returned.</span></span>  
  
2. <span data-ttu-id="6a178-194">Se l'implementazione di <xref:System.ICustomFormatter> è disponibile, il runtime chiama il metodo <xref:System.ICustomFormatter.Format%2A>.</span><span class="sxs-lookup"><span data-stu-id="6a178-194">If an <xref:System.ICustomFormatter> implementation is available, the runtime calls its <xref:System.ICustomFormatter.Format%2A> method.</span></span> <span data-ttu-id="6a178-195">Passa al metodo il valore *formatString* dell'elemento di formato, se disponibile, o `null` in caso contrario, con l'implementazione di <xref:System.IFormatProvider>.</span><span class="sxs-lookup"><span data-stu-id="6a178-195">It passes the method the format item's *formatString* value, if one is present, or `null` if it's not, along with the <xref:System.IFormatProvider> implementation.</span></span> <span data-ttu-id="6a178-196">Se la chiamata al metodo <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> restituisce `null`, l'esecuzione procede al passaggio successivo; in caso contrario, viene restituito il risultato della chiamata <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-196">If the call to the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method returns `null`, execution proceeds to the next step; otherwise, the result of the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> call is returned.</span></span>
  
3. <span data-ttu-id="6a178-197">Se il valore implementa l'interfaccia <xref:System.IFormattable>, verrà chiamato il relativo metodo <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29>.</span><span class="sxs-lookup"><span data-stu-id="6a178-197">If the value implements the <xref:System.IFormattable> interface, the interface's <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29> method is called.</span></span> <span data-ttu-id="6a178-198">Al metodo viene passato il valore *formatString*, se disponibile nell'elemento di formato, o `null` in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="6a178-198">The method is passed the *formatString* value, if one is present in the format item, or `null` if it's not.</span></span> <span data-ttu-id="6a178-199">L'argomento <xref:System.IFormatProvider> è determinato come segue:</span><span class="sxs-lookup"><span data-stu-id="6a178-199">The <xref:System.IFormatProvider> argument is determined as follows:</span></span>  
  
    - <span data-ttu-id="6a178-200">Per un valore numerico, se viene chiamato un metodo di formattazione composita con un argomento non Null <xref:System.IFormatProvider>, il runtime richiede un oggetto <xref:System.Globalization.NumberFormatInfo> dal relativo metodo <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-200">For a numeric value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.NumberFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="6a178-201">Se non è in grado di fornirne uno, se il valore dell'argomento è `null` o se il metodo di formattazione composita non dispone di un parametro di <xref:System.IFormatProvider>, viene usato l'oggetto <xref:System.Globalization.NumberFormatInfo> per le impostazioni cultura del thread corrente.</span><span class="sxs-lookup"><span data-stu-id="6a178-201">If it's unable to supply one, if the value of the argument is `null`, or if the composite formatting method doesn't have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.NumberFormatInfo> object for the current thread culture is used.</span></span>  
  
    - <span data-ttu-id="6a178-202">Per un valore di data e ora, se viene chiamato un metodo di formattazione composita con un argomento non Null <xref:System.IFormatProvider>, il runtime richiede un oggetto <xref:System.Globalization.DateTimeFormatInfo> dal relativo metodo <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-202">For a date and time value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.DateTimeFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="6a178-203">Se non è in grado di fornirne uno, se il valore dell'argomento è `null` o se il metodo di formattazione composita non dispone di un parametro di <xref:System.IFormatProvider>, viene usato l'oggetto <xref:System.Globalization.DateTimeFormatInfo> per le impostazioni cultura del thread corrente.</span><span class="sxs-lookup"><span data-stu-id="6a178-203">If it's unable to supply one, if the value of the argument is `null`, or if the composite formatting method doesn't have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.DateTimeFormatInfo> object for the current thread culture is used.</span></span>  
  
    - <span data-ttu-id="6a178-204">Per gli oggetti di altri tipi, se un metodo di formattazione composita viene chiamato con un argomento <xref:System.IFormatProvider>, il relativo valore viene passato direttamente all'implementazione di <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-204">For objects of other types, if a composite formatting method is called with an <xref:System.IFormatProvider> argument, its value is passed directly to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span> <span data-ttu-id="6a178-205">In caso contrario, `null` viene passato all'implementazione di <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-205">Otherwise, `null` is passed to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span>  
  
4. <span data-ttu-id="6a178-206">Viene chiamato il metodo senza parametri `ToString` del tipo, che esegue l'override di <xref:System.Object.ToString?displayProperty=nameWithType> o eredita il comportamento della relativa classe di base.</span><span class="sxs-lookup"><span data-stu-id="6a178-206">The type's parameterless `ToString` method, which either overrides <xref:System.Object.ToString?displayProperty=nameWithType> or inherits the behavior of its base class, is called.</span></span> <span data-ttu-id="6a178-207">In questo caso la stringa di formato specificata dal componente *formatString* nell'elemento di formato, se presente, viene ignorata.</span><span class="sxs-lookup"><span data-stu-id="6a178-207">In this case, the format string specified by the *formatString* component in the format item, if it's present, is ignored.</span></span>  
  
 <span data-ttu-id="6a178-208">L'allineamento viene applicato al termine dei precedenti passaggi.</span><span class="sxs-lookup"><span data-stu-id="6a178-208">Alignment is applied after the preceding steps have been performed.</span></span>  
  
## <a name="code-examples"></a><span data-ttu-id="6a178-209">Esempi di codice</span><span class="sxs-lookup"><span data-stu-id="6a178-209">Code Examples</span></span>  
 <span data-ttu-id="6a178-210">Nell'esempio seguente vengono illustrate una stringa creata con la formattazione composita e un'altra creata mediante il metodo `ToString` di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="6a178-210">The following example shows one string created using composite formatting and another created using an object's `ToString` method.</span></span> <span data-ttu-id="6a178-211">Entrambi i tipi di formattazione producono risultati equivalenti.</span><span class="sxs-lookup"><span data-stu-id="6a178-211">Both types of formatting produce equivalent results.</span></span>  
  
 [!code-csharp[Formatting.Composite#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#3)]
 [!code-vb[Formatting.Composite#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#3)]  
  
 <span data-ttu-id="6a178-212">Presupponendo che il giorno corrente sia un giovedì di maggio, il valore di entrambe le stringhe dell'esempio precedente sarà `Thursday May` se sono specificate le impostazioni cultura inglesi.</span><span class="sxs-lookup"><span data-stu-id="6a178-212">Assuming that the current day is a Thursday in May, the value of both strings in the preceding example is `Thursday May` in the U.S. English culture.</span></span>  
  
 <span data-ttu-id="6a178-213"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> espone la stessa funzionalità di <xref:System.String.Format%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="6a178-213"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> exposes the same functionality as <xref:System.String.Format%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="6a178-214">L'unica differenza tra i due metodi è che <xref:System.String.Format%2A?displayProperty=nameWithType> restituisce il risultato come stringa, mentre <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> scrive il risultato nel flusso di output associato all'oggetto <xref:System.Console>.</span><span class="sxs-lookup"><span data-stu-id="6a178-214">The only difference between the two methods is that <xref:System.String.Format%2A?displayProperty=nameWithType> returns its result as a string, while <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> writes the result to the output stream associated with the <xref:System.Console> object.</span></span> <span data-ttu-id="6a178-215">Nell'esempio seguente viene utilizzato il metodo <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> per formattare il valore di `MyInt` come valore di valuta.</span><span class="sxs-lookup"><span data-stu-id="6a178-215">The following example uses the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method to format the value of `MyInt` to a currency value.</span></span>  
  
 [!code-csharp[Formatting.Composite#4](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#4)]
 [!code-vb[Formatting.Composite#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#4)]  
  
 <span data-ttu-id="6a178-216">Nell'esempio riportato di seguito vengono illustrate la formattazione di più oggetti e la formattazione di un oggetto in due diversi modi.</span><span class="sxs-lookup"><span data-stu-id="6a178-216">The following example demonstrates formatting multiple objects, including formatting one object two different ways.</span></span>  
  
 [!code-csharp[Formatting.Composite#5](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#5)]
 [!code-vb[Formatting.Composite#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#5)]  
  
 <span data-ttu-id="6a178-217">Nell'esempio seguente viene illustrato l'utilizzo dell'allineamento nella formattazione.</span><span class="sxs-lookup"><span data-stu-id="6a178-217">The following example demonstrates the use of alignment in formatting.</span></span> <span data-ttu-id="6a178-218">Gli argomenti formattati sono inseriti tra barre verticali (&#124;) per evidenziare l'allineamento ottenuto.</span><span class="sxs-lookup"><span data-stu-id="6a178-218">The arguments that are formatted are placed between vertical bar characters (&#124;) to highlight the resulting alignment.</span></span>  
  
 [!code-csharp[Formatting.Composite#6](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#6)]
 [!code-vb[Formatting.Composite#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#6)]  
  
## <a name="see-also"></a><span data-ttu-id="6a178-219">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6a178-219">See also</span></span>

- <xref:System.Console.WriteLine%2A>
- <xref:System.String.Format%2A?displayProperty=nameWithType>
- [<span data-ttu-id="6a178-220">Interpolazione di stringhe (C#)</span><span class="sxs-lookup"><span data-stu-id="6a178-220">String interpolation (C#)</span></span>](../../csharp/language-reference/tokens/interpolated.md)
- [<span data-ttu-id="6a178-221">Interpolazione di stringhe (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="6a178-221">String interpolation (Visual Basic)</span></span>](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md)
- [<span data-ttu-id="6a178-222">Formattazione di tipi</span><span class="sxs-lookup"><span data-stu-id="6a178-222">Formatting Types</span></span>](formatting-types.md)
- [<span data-ttu-id="6a178-223">Stringhe di formato numerico standard</span><span class="sxs-lookup"><span data-stu-id="6a178-223">Standard Numeric Format Strings</span></span>](standard-numeric-format-strings.md)
- [<span data-ttu-id="6a178-224">Stringhe di formato numerico personalizzato</span><span class="sxs-lookup"><span data-stu-id="6a178-224">Custom Numeric Format Strings</span></span>](custom-numeric-format-strings.md)
- [<span data-ttu-id="6a178-225">Stringhe di formato di data e ora standard</span><span class="sxs-lookup"><span data-stu-id="6a178-225">Standard Date and Time Format Strings</span></span>](standard-date-and-time-format-strings.md)
- [<span data-ttu-id="6a178-226">Stringhe di formato di data e ora personalizzato</span><span class="sxs-lookup"><span data-stu-id="6a178-226">Custom Date and Time Format Strings</span></span>](custom-date-and-time-format-strings.md)
- [<span data-ttu-id="6a178-227">Stringhe di formato TimeSpan standard</span><span class="sxs-lookup"><span data-stu-id="6a178-227">Standard TimeSpan Format Strings</span></span>](standard-timespan-format-strings.md)
- [<span data-ttu-id="6a178-228">Stringhe di formato TimeSpan personalizzate</span><span class="sxs-lookup"><span data-stu-id="6a178-228">Custom TimeSpan Format Strings</span></span>](custom-timespan-format-strings.md)
- [<span data-ttu-id="6a178-229">Stringhe di formato di enumerazione</span><span class="sxs-lookup"><span data-stu-id="6a178-229">Enumeration Format Strings</span></span>](enumeration-format-strings.md)
