---
title: Opzioni di espressioni regolari
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- regular expressions, options
- constructs, options
- .NET Framework regular expressions, options
- inline option constructs
- options parameter
ms.assetid: c82dc689-7e82-4767-a18d-cd24ce5f05e9
ms.openlocfilehash: bf352d6494a823d4f7b24eb2876d9bffa5877b2b
ms.sourcegitcommit: 7980a91f90ae5eca859db7e6bfa03e23e76a1a50
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/13/2020
ms.locfileid: "81242777"
---
# <a name="regular-expression-options"></a><span data-ttu-id="4ee9d-102">Opzioni di espressioni regolari</span><span class="sxs-lookup"><span data-stu-id="4ee9d-102">Regular Expression Options</span></span>

<span data-ttu-id="4ee9d-103">Per impostazione predefinita, il confronto di una stringa di input con qualsiasi carattere letterale in un criterio di ricerca di espressioni regolari prevede la distinzione tra maiuscole e minuscole. Gli spazi vuoti in un criterio di ricerca di espressioni regolari vengono interpretati come caratteri di spazio vuoto letterali e i gruppi di acquisizione in un'espressione regolare sono denominati in modo sia implicito che esplicito.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-103">By default, the comparison of an input string with any literal characters in a regular expression pattern is case sensitive, white space in a regular expression pattern is interpreted as literal white-space characters, and capturing groups in a regular expression are named implicitly as well as explicitly.</span></span> <span data-ttu-id="4ee9d-104">È possibile modificare questi e molti altri aspetti del comportamento predefinito delle espressioni regolari specificando le relative opzioni.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-104">You can modify these and several other aspects of default regular expression behavior by specifying regular expression options.</span></span> <span data-ttu-id="4ee9d-105">Queste opzioni, elencate nella tabella seguente, possono essere incluse inline come parte del criterio di ricerca di espressioni regolari o in alternativa fornite a un costruttore della classe <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> o a un metodo statico dei criteri di ricerca come valore di enumerazione <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-105">These options, which are listed in the following table, can be included inline as part of the regular expression pattern, or they can be supplied to a <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> class constructor or static pattern matching method as a <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> enumeration value.</span></span>

|<span data-ttu-id="4ee9d-106">Membro RegexOptions</span><span class="sxs-lookup"><span data-stu-id="4ee9d-106">RegexOptions member</span></span>|<span data-ttu-id="4ee9d-107">Carattere inline</span><span class="sxs-lookup"><span data-stu-id="4ee9d-107">Inline character</span></span>|<span data-ttu-id="4ee9d-108">Effetto</span><span class="sxs-lookup"><span data-stu-id="4ee9d-108">Effect</span></span>|
|-------------------------|----------------------|------------|
|<xref:System.Text.RegularExpressions.RegexOptions.None>|<span data-ttu-id="4ee9d-109">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="4ee9d-109">Not available</span></span>|<span data-ttu-id="4ee9d-110">Usare il comportamento predefinito.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-110">Use default behavior.</span></span> <span data-ttu-id="4ee9d-111">Per altre informazioni, vedere [Opzioni predefinite](#default-options).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-111">For more information, see [Default Options](#default-options).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase>|`i`|<span data-ttu-id="4ee9d-112">Usa la corrispondenza che non fa distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-112">Use case-insensitive matching.</span></span> <span data-ttu-id="4ee9d-113">Per altre informazioni, vedere [Corrispondenza senza distinzione tra maiuscole e minuscole](#case-insensitive-matching).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-113">For more information, see [Case-Insensitive Matching](#case-insensitive-matching).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.Multiline>|`m`|<span data-ttu-id="4ee9d-114">Usare la modalità multiriga, in cui `^` e `$` corrispondono all'inizio e alla fine di una riga, anziché all'inizio e alla fine della stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-114">Use multiline mode, where `^` and `$` match the beginning and end of each line (instead of the beginning and end of the input string).</span></span> <span data-ttu-id="4ee9d-115">Per altre informazioni, vedere [Modalità multiriga](#multiline-mode).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-115">For more information, see [Multiline Mode](#multiline-mode).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.Singleline>|`s`|<span data-ttu-id="4ee9d-116">Usa la modalità a riga singola, in cui il punto (.) corrisponde a qualsiasi carattere anziché a tutti i caratteri tranne `\n`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-116">Use single-line mode, where the period (.) matches every character (instead of every character except `\n`).</span></span> <span data-ttu-id="4ee9d-117">Per ulteriori informazioni, consultate [Modalità a riga singola](#single-line-mode).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-117">For more information, see [Single-line Mode](#single-line-mode).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture>|`n`|<span data-ttu-id="4ee9d-118">Non acquisire gruppi senza nome.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-118">Do not capture unnamed groups.</span></span> <span data-ttu-id="4ee9d-119">Le uniche acquisizioni valide sono i gruppi denominati o numerati in modo esplicito in formato `(?<`*nome*`>` *sottoespressione*`)`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-119">The only valid captures are explicitly named or numbered groups of the form `(?<`*name*`>` *subexpression*`)`.</span></span> <span data-ttu-id="4ee9d-120">Per altre informazioni, vedere [Solo acquisizioni esplicite](#explicit-captures-only).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-120">For more information, see [Explicit Captures Only](#explicit-captures-only).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.Compiled>|<span data-ttu-id="4ee9d-121">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="4ee9d-121">Not available</span></span>|<span data-ttu-id="4ee9d-122">Compila l'espressione regolare in un assembly.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-122">Compile the regular expression to an assembly.</span></span> <span data-ttu-id="4ee9d-123">Per altre informazioni, vedere [Espressioni regolari compilate](#compiled-regular-expressions).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-123">For more information, see [Compiled Regular Expressions](#compiled-regular-expressions).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace>|`x`|<span data-ttu-id="4ee9d-124">Esclude gli spazi vuoti senza caratteri di escape nel criterio e abilita i commenti dopo un simbolo di cancelletto (`#`).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-124">Exclude unescaped white space from the pattern, and enable comments after a number sign (`#`).</span></span> <span data-ttu-id="4ee9d-125">Per altre informazioni, vedere [Ignora spazi vuoti](#ignore-white-space).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-125">For more information, see [Ignore White Space](#ignore-white-space).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>|<span data-ttu-id="4ee9d-126">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="4ee9d-126">Not available</span></span>|<span data-ttu-id="4ee9d-127">Modifica la direzione di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-127">Change the search direction.</span></span> <span data-ttu-id="4ee9d-128">La ricerca viene eseguita da destra verso sinistra, anziché da sinistra verso destra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-128">Search moves from right to left instead of from left to right.</span></span> <span data-ttu-id="4ee9d-129">Per altre informazioni, vedere [Modalità da destra a sinistra](#right-to-left-mode).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-129">For more information, see [Right-to-Left Mode](#right-to-left-mode).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.ECMAScript>|<span data-ttu-id="4ee9d-130">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="4ee9d-130">Not available</span></span>|<span data-ttu-id="4ee9d-131">Abilita un comportamento conforme a ECMAScript per l'espressione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-131">Enable ECMAScript-compliant behavior for the expression.</span></span> <span data-ttu-id="4ee9d-132">Per altre informazioni, vedere [Comportamento di corrispondenza ECMAScript](#ecmascript-matching-behavior).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-132">For more information, see [ECMAScript Matching Behavior](#ecmascript-matching-behavior).</span></span>|
|<xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant>|<span data-ttu-id="4ee9d-133">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="4ee9d-133">Not available</span></span>|<span data-ttu-id="4ee9d-134">Ignora le differenze di cultura nella lingua.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-134">Ignore cultural differences in language.</span></span> <span data-ttu-id="4ee9d-135">Per altre informazioni, vedere [Confronto usando la lingua inglese](#comparison-using-the-invariant-culture).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-135">For more information, see [Comparison Using the Invariant Culture](#comparison-using-the-invariant-culture).</span></span>|

## <a name="specifying-the-options"></a><span data-ttu-id="4ee9d-136">Specifica delle opzioni</span><span class="sxs-lookup"><span data-stu-id="4ee9d-136">Specifying the Options</span></span>

<span data-ttu-id="4ee9d-137">È possibile specificare le opzioni per le espressioni regolari in tre modi:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-137">You can specify options for regular expressions in one of three ways:</span></span>

- <span data-ttu-id="4ee9d-138">Nel parametro `options` di un costruttore della classe <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> o di un metodo statico (`Shared` in Visual Basic) dei criteri di ricerca, ad esempio <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29> o <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-138">In the `options` parameter of a <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> class constructor or static (`Shared` in Visual Basic) pattern-matching method, such as <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29> or <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>.</span></span> <span data-ttu-id="4ee9d-139">Il parametro `options` è una combinazione OR bit per bit dei valori enumerati <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-139">The `options` parameter is a bitwise OR combination of <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> enumerated values.</span></span>

  <span data-ttu-id="4ee9d-140">Quando vengono specificate le opzioni per un'istanza di <xref:System.Text.RegularExpressions.Regex> usando il parametro `options` di un costruttore di classe, le opzioni vengono assegnate alla proprietà <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-140">When options are supplied to a <xref:System.Text.RegularExpressions.Regex> instance by using the `options` parameter of a class constructor, the options are assigned to the <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4ee9d-141">Tuttavia, la proprietà <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> non rispecchia le opzioni inline nel criterio di ricerca di espressioni regolari stesso.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-141">However, the <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> property does not reflect inline options in the regular expression pattern itself.</span></span>

  <span data-ttu-id="4ee9d-142">Di seguito ne viene illustrato un esempio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-142">The following example provides an illustration.</span></span> <span data-ttu-id="4ee9d-143">Il parametro `options` del metodo <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> viene usato per abilitare la corrispondenza senza distinzione tra maiuscole e minuscole e per ignorare gli spazi vuoti nel criterio durante l'identificazione delle parole che iniziano con la lettera "d".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-143">It uses the `options` parameter of the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method to enable case-insensitive matching and to ignore pattern white space when identifying words that begin with the letter "d".</span></span>

  [!code-csharp[Conceptual.Regex.Language.Options#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/example1.cs#6)]
  [!code-vb[Conceptual.Regex.Language.Options#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/example1.vb#6)]

- <span data-ttu-id="4ee9d-144">Applicando le opzioni inline in un criterio di ricerca di espressioni regolari con la sintassi `(?imnsx-imnsx)`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-144">By applying inline options in a regular expression pattern with the syntax `(?imnsx-imnsx)`.</span></span> <span data-ttu-id="4ee9d-145">L'opzione si applica al criterio dal punto in cui viene definita fino alla fine del criterio oppure fino al punto in cui viene annullata da un'altra opzione inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-145">The option applies to the pattern from the point that the option is defined to either the end of the pattern or to the point at which the option is undefined by another inline option.</span></span> <span data-ttu-id="4ee9d-146">Si noti che la proprietà <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> di un'istanza di <xref:System.Text.RegularExpressions.Regex> non rispecchia queste opzioni inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-146">Note that the <xref:System.Text.RegularExpressions.RegexOptions?displayProperty=nameWithType> property of a <xref:System.Text.RegularExpressions.Regex> instance does not reflect these inline options.</span></span> <span data-ttu-id="4ee9d-147">Per altre informazioni, vedere l'argomento [Costrutti vari](../../../docs/standard/base-types/miscellaneous-constructs-in-regular-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-147">For more information, see the [Miscellaneous Constructs](../../../docs/standard/base-types/miscellaneous-constructs-in-regular-expressions.md) topic.</span></span>

  <span data-ttu-id="4ee9d-148">Di seguito ne viene illustrato un esempio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-148">The following example provides an illustration.</span></span> <span data-ttu-id="4ee9d-149">Le opzioni online vengono usate per abilitare la corrispondenza senza distinzione tra maiuscole e minuscole e per ignorare gli spazi vuoti nel criterio durante l'identificazione delle parole che iniziano con la lettera "d".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-149">It uses inline options to enable case-insensitive matching and to ignore pattern white space when identifying words that begin with the letter "d".</span></span>

  [!code-csharp[Conceptual.Regex.Language.Options#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/example1.cs#7)]
  [!code-vb[Conceptual.Regex.Language.Options#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/example1.vb#7)]

- <span data-ttu-id="4ee9d-150">Applicando opzioni inline in un particolare costrutto di `(?imnsx-imnsx:`raggruppamento in un modello di espressione regolare con la *sintassi subespressione*`)`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-150">By applying inline options in a particular grouping construct in a regular expression pattern with the syntax `(?imnsx-imnsx:`*subexpression*`)`.</span></span> <span data-ttu-id="4ee9d-151">Nessun segno prima di un set di opzioni attiva il set. Un segno meno prima di un set di opzioni disattiva il set.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-151">No sign before a set of options turns the set on; a minus sign before a set of options turns the set off.</span></span> <span data-ttu-id="4ee9d-152">(è`?` una parte fissa della sintassi del costrutto di linguaggio che è necessario se le opzioni sono abilitate o disabilitate.) L'opzione si applica solo a tale gruppo.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-152">(`?` is a fixed part of the language construct's syntax that is required whether options are enabled or disabled.) The option applies only to that group.</span></span> <span data-ttu-id="4ee9d-153">Per altre informazioni, vedere [Costrutti di raggruppamento](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-153">For more information, see [Grouping Constructs](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).</span></span>

  <span data-ttu-id="4ee9d-154">Di seguito ne viene illustrato un esempio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-154">The following example provides an illustration.</span></span> <span data-ttu-id="4ee9d-155">Le opzioni online vengono usate in un costrutto di raggruppamento per abilitare la corrispondenza senza distinzione tra maiuscole e minuscole e per ignorare gli spazi vuoti nel criterio durante l'identificazione delle parole che iniziano con la lettera "d".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-155">It uses inline options in a grouping construct to enable case-insensitive matching and to ignore pattern white space when identifying words that begin with the letter "d".</span></span>

  [!code-csharp[Conceptual.Regex.Language.Options#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/example1.cs#8)]
  [!code-vb[Conceptual.Regex.Language.Options#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/example1.vb#8)]

<span data-ttu-id="4ee9d-156">Se le opzioni vengono specificate inline, un segno meno (`-`) prima di un'opzione o di un set di opzioni consente di disattivare tali opzioni.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-156">If options are specified inline, a minus sign (`-`) before an option or set of options turns off those options.</span></span> <span data-ttu-id="4ee9d-157">Ad esempio, il costrutto inline `(?ix-ms)` attiva le opzioni <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> e <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> e disattiva le opzioni <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> e <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-157">For example, the inline construct `(?ix-ms)` turns on the <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> options and turns off the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType> options.</span></span> <span data-ttu-id="4ee9d-158">Per impostazione predefinita, tutte le opzioni di espressioni regolari sono disattivate.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-158">All regular expression options are turned off by default.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-159">In caso di conflitto tra le opzioni di espressione regolare specificate nel parametro `options` di un costruttore o di una chiamata a metodo e le opzioni specificate inline in un criterio di ricerca di espressioni regolari, vengono usate le opzioni inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-159">If the regular expression options specified in the `options` parameter of a constructor or method call conflict with the options specified inline in a regular expression pattern, the inline options are used.</span></span>

<span data-ttu-id="4ee9d-160">Le cinque opzioni di espressione regolare seguenti possono essere impostate sia con il parametro options che inline:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-160">The following five regular expression options can be set both with the options parameter and inline:</span></span>

- <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>

<span data-ttu-id="4ee9d-161">Le cinque opzioni di espressione regolare seguenti possono essere impostate usando il parametro `options`, ma non inline:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-161">The following five regular expression options can be set using the `options` parameter but cannot be set inline:</span></span>

- <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType>

- <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType>

## <a name="determining-the-options"></a><span data-ttu-id="4ee9d-162">Determinazione delle opzioni</span><span class="sxs-lookup"><span data-stu-id="4ee9d-162">Determining the Options</span></span>

<span data-ttu-id="4ee9d-163">È possibile determinare le opzioni fornite a un oggetto <xref:System.Text.RegularExpressions.Regex> al momento della creazione dell'istanza recuperando il valore della proprietà <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-163">You can determine which options were provided to a <xref:System.Text.RegularExpressions.Regex> object when it was instantiated by retrieving the value of the read-only <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="4ee9d-164">Questa proprietà è particolarmente utile per determinare le opzioni definite per un'espressione regolare compilata creata dal metodo <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-164">This property is particularly useful for determining the options that are defined for a compiled regular expression created by the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="4ee9d-165">Per testare la presenza di qualsiasi opzione eccetto <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, eseguire un'operazione AND con il valore della proprietà <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> e il valore <xref:System.Text.RegularExpressions.RegexOptions> desiderato.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-165">To test for the presence of any option except <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, perform an AND operation with the value of the <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> property and the <xref:System.Text.RegularExpressions.RegexOptions> value in which you are interested.</span></span> <span data-ttu-id="4ee9d-166">Testare quindi se il risultato corrisponde al valore <xref:System.Text.RegularExpressions.RegexOptions>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-166">Then test whether the result equals that <xref:System.Text.RegularExpressions.RegexOptions> value.</span></span> <span data-ttu-id="4ee9d-167">L'esempio seguente testa se l'opzione <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> è stata impostata.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-167">The following example tests whether the <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> option has been set.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/determine1.cs#19)]
[!code-vb[Conceptual.Regex.Language.Options#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/determine1.vb#19)]

<span data-ttu-id="4ee9d-168">Per testare <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, determinare se il valore della proprietà <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> sia uguale a <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-168">To test for <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, determine whether the value of the <xref:System.Text.RegularExpressions.Regex.Options%2A?displayProperty=nameWithType> property is equal to <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>, as the following example illustrates.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/determine1.cs#20)]
[!code-vb[Conceptual.Regex.Language.Options#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/determine1.vb#20)]

<span data-ttu-id="4ee9d-169">Nelle sezioni seguenti sono riportate le opzioni supportate dalle espressioni regolari in .NET.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-169">The following sections list the options supported by regular expression in .NET.</span></span>

## <a name="default-options"></a><span data-ttu-id="4ee9d-170">Opzioni predefinite</span><span class="sxs-lookup"><span data-stu-id="4ee9d-170">Default Options</span></span>

<span data-ttu-id="4ee9d-171">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType> indica che non sono state specificate opzioni e che il motore delle espressioni regolari usa il comportamento predefinito.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-171">The <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType> option indicates that no options have been specified, and the regular expression engine uses its default behavior.</span></span> <span data-ttu-id="4ee9d-172">Sono inclusi gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-172">This includes the following:</span></span>

- <span data-ttu-id="4ee9d-173">Il criterio viene interpretato come canonico anziché come espressione regolare ECMAScript.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-173">The pattern is interpreted as a canonical rather than an ECMAScript regular expression.</span></span>

- <span data-ttu-id="4ee9d-174">Il criterio di ricerca di espressioni regolari viene messo in corrispondenza nella stringa di input da sinistra verso destra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-174">The regular expression pattern is matched in the input string from left to right.</span></span>

- <span data-ttu-id="4ee9d-175">Nei confronti viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-175">Comparisons are case-sensitive.</span></span>

- <span data-ttu-id="4ee9d-176">Gli elementi di linguaggio `^` e `$` corrispondono all'inizio e alla fine della stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-176">The `^` and `$` language elements match the beginning and end of the input string.</span></span>

- <span data-ttu-id="4ee9d-177">L'elemento di linguaggio `.` corrisponde a qualsiasi carattere tranne `\n`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-177">The `.` language element matches every character except `\n`.</span></span>

- <span data-ttu-id="4ee9d-178">Qualsiasi spazio vuoto in un criterio di ricerca di espressioni regolari viene interpretato come spazio letterale.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-178">Any white space in a regular expression pattern is interpreted as a literal space character.</span></span>

- <span data-ttu-id="4ee9d-179">Nel confronto del criterio con la stringa di input vengono usate le convenzioni delle impostazioni cultura correnti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-179">The conventions of the current culture are used when comparing the pattern to the input string.</span></span>

- <span data-ttu-id="4ee9d-180">I gruppi di acquisizione nel criterio di ricerca di espressioni regolari sono sia impliciti che espliciti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-180">Capturing groups in the regular expression pattern are implicit as well as explicit.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-181">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType> non ha un equivalente inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-181">The <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType> option has no inline equivalent.</span></span> <span data-ttu-id="4ee9d-182">Quando le opzioni di espressioni regolari vengono applicate inline, il comportamento predefinito viene ripristinato opzione per opzione, disattivando una particolare opzione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-182">When regular expression options are applied inline, the default behavior is restored on an option-by-option basis, by turning a particular option off.</span></span> <span data-ttu-id="4ee9d-183">Ad esempio, `(?i)` disattiva il confronto senza distinzione tra maiuscole e minuscole e `(?-i)` lo ripristina.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-183">For example, `(?i)` turns on case-insensitive comparison, and `(?-i)` restores the default case-sensitive comparison.</span></span>

<span data-ttu-id="4ee9d-184">Poiché l'opzione <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>rappresenta il comportamento predefinito del motore delle espressioni regolari, raramente viene specificata in modo esplicito in una chiamata a metodo.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-184">Because the <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType> option represents the default behavior of the regular expression engine, it is rarely explicitly specified in a method call.</span></span> <span data-ttu-id="4ee9d-185">Viene invece chiamato un costruttore o un metodo statico dei criteri di ricerca senza un parametro `options`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-185">A constructor or static pattern-matching method without an `options` parameter is called instead.</span></span>

## <a name="case-insensitive-matching"></a><span data-ttu-id="4ee9d-186">Corrispondenza senza distinzione tra maiuscole e minuscole</span><span class="sxs-lookup"><span data-stu-id="4ee9d-186">Case-Insensitive Matching</span></span>

<span data-ttu-id="4ee9d-187">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase>, o l'opzione inline `i`, fornisce la corrispondenza senza distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-187">The <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase> option, or the `i` inline option, provides case-insensitive matching.</span></span> <span data-ttu-id="4ee9d-188">Per impostazione predefinita, vengono usate le convenzioni sulla combinazione di maiuscole e minuscole delle impostazioni cultura correnti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-188">By default, the casing conventions of the current culture are used.</span></span>

<span data-ttu-id="4ee9d-189">L'esempio seguente definisce un criterio di ricerca di espressioni regolari, `\bthe\w*\b`, che trova la corrispondenza di tutte le parole che iniziano con "the".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-189">The following example defines a regular expression pattern, `\bthe\w*\b`, that matches all words starting with "the".</span></span> <span data-ttu-id="4ee9d-190">Poiché la prima chiamata al metodo <xref:System.Text.RegularExpressions.Regex.Match%2A> usa il confronto predefinito con distinzione tra maiuscole e minuscole, l'output indica che la stringa "The" che inizia la frase non viene individuata come corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-190">Because the first call to the <xref:System.Text.RegularExpressions.Regex.Match%2A> method uses the default case-sensitive comparison, the output indicates that the string "The" that begins the sentence is not matched.</span></span> <span data-ttu-id="4ee9d-191">La corrispondenza viene individuata quando il metodo <xref:System.Text.RegularExpressions.Regex.Match%2A> viene chiamato con le opzioni impostate su <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-191">It is matched when the <xref:System.Text.RegularExpressions.Regex.Match%2A> method is called with options set to <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase>.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/case1.cs#1)]
[!code-vb[Conceptual.Regex.Language.Options#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/case1.vb#1)]

<span data-ttu-id="4ee9d-192">L'esempio seguente modifica il criterio di ricerca di espressioni regolari dell'esempio precedente in modo da usare opzioni inline anziché il parametro `options` per fornire il confronto senza distinzione fra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-192">The following example modifies the regular expression pattern from the previous example to use inline options instead of the `options` parameter to provide case-insensitive comparison.</span></span> <span data-ttu-id="4ee9d-193">Il primo criterio definisce l'opzione che non prevede la distinzione tra maiuscole e minuscole in un costrutto di raggruppamento che si applica solo alla lettera "t" nella stringa "the".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-193">The first pattern defines the case-insensitive option in a grouping construct that applies only to the letter "t" in the string "the".</span></span> <span data-ttu-id="4ee9d-194">Poiché il costrutto di opzione si trova all'inizio del criterio, il secondo criterio applica l'opzione che non prevede la distinzione tra maiuscole e minuscole all'intera espressione regolare.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-194">Because the option construct occurs at the beginning of the pattern, the second pattern applies the case-insensitive option to the entire regular expression.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/case2.cs#2)]
[!code-vb[Conceptual.Regex.Language.Options#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/case2.vb#2)]

## <a name="multiline-mode"></a><span data-ttu-id="4ee9d-195">Modalità multiriga</span><span class="sxs-lookup"><span data-stu-id="4ee9d-195">Multiline Mode</span></span>

<span data-ttu-id="4ee9d-196">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>, o l'opzione inline `m`, consente al motore delle espressioni regolari di gestire una stringa di input composta da più righe.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-196">The <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option, or the `m` inline option, enables the regular expression engine to handle an input string that consists of multiple lines.</span></span> <span data-ttu-id="4ee9d-197">Modifica l'interpretazione degli elementi di linguaggio `^` e `$` in modo che corrispondano all'inizio e alla fine di una riga invece che all'inizio e alla fine della stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-197">It changes the interpretation of the `^` and `$` language elements so that they match the beginning and end of a line, instead of the beginning and end of the input string.</span></span>

<span data-ttu-id="4ee9d-198">Per impostazione predefinita, `$` trova la corrispondenza solo alla fine della stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-198">By default, `$` matches only the end of the input string.</span></span> <span data-ttu-id="4ee9d-199">Se si specifica l'opzione <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>, viene trovata la corrispondenza di un carattere di nuova riga (`\n`) o della fine della stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-199">If you specify the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option, it matches either the newline character (`\n`) or the end of the input string.</span></span> <span data-ttu-id="4ee9d-200">Non viene tuttavia trovata la corrispondenza di una combinazione carattere di ritorno a capo/avanzamento riga.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-200">It does not, however, match the carriage return/line feed character combination.</span></span> <span data-ttu-id="4ee9d-201">A questo scopo, usare la sottoespressione `\r?$` anziché semplicemente `$`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-201">To successfully match them, use the subexpression `\r?$` instead of just `$`.</span></span>

<span data-ttu-id="4ee9d-202">L'esempio seguente estrae i nomi e i punteggi dei giocatori di bowling e li aggiunge a una raccolta <xref:System.Collections.Generic.SortedList%602> che li ordina in ordine decrescente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-202">The following example extracts bowlers' names and scores and adds them to a <xref:System.Collections.Generic.SortedList%602> collection that sorts them in descending order.</span></span> <span data-ttu-id="4ee9d-203">Il metodo <xref:System.Text.RegularExpressions.Regex.Matches%2A> viene chiamato due volte.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-203">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method is called twice.</span></span> <span data-ttu-id="4ee9d-204">Nella prima chiamata al metodo, l'espressione regolare è `^(\w+)\s(\d+)$` e non sono impostate opzioni.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-204">In the first method call, the regular expression is `^(\w+)\s(\d+)$` and no options are set.</span></span> <span data-ttu-id="4ee9d-205">Come mostra l'output, poiché il motore delle espressioni regolari non trova corrispondenza tra il criterio di input e l'inizio e la fine della stringa di input, non vengono individuate corrispondenze.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-205">As the output shows, because the regular expression engine cannot match the input pattern along with the beginning and end of the input string, no matches are found.</span></span> <span data-ttu-id="4ee9d-206">Nella seconda chiamata al metodo, l'espressione regolare viene modificata in `^(\w+)\s(\d+)\r?$` e le opzioni sono impostate su <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-206">In the second method call, the regular expression is changed to `^(\w+)\s(\d+)\r?$` and the options are set to <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>.</span></span> <span data-ttu-id="4ee9d-207">Come mostra l'output, la corrispondenza tra i nomi e i punteggi viene individuata correttamente e i punteggi vengono visualizzati in ordine decrescente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-207">As the output shows, the names and scores are successfully matched, and the scores are displayed in descending order.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/multiline1.cs#3)]
[!code-vb[Conceptual.Regex.Language.Options#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/multiline1.vb#3)]

<span data-ttu-id="4ee9d-208">Il criterio di ricerca di espressioni regolari `^(\w+)\s(\d+)\r*$` è definito nel modo illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-208">The regular expression pattern `^(\w+)\s(\d+)\r*$` is defined as shown in the following table.</span></span>

|<span data-ttu-id="4ee9d-209">Modello</span><span class="sxs-lookup"><span data-stu-id="4ee9d-209">Pattern</span></span>|<span data-ttu-id="4ee9d-210">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4ee9d-210">Description</span></span>|
|-------------|-----------------|
|`^`|<span data-ttu-id="4ee9d-211">Comincia all'inizio della riga.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-211">Begin at the start of the line.</span></span>|
|`(\w+)`|<span data-ttu-id="4ee9d-212">Trova la corrispondenza di uno o più caratteri alfanumerici.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-212">Match one or more word characters.</span></span> <span data-ttu-id="4ee9d-213">Equivale al primo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-213">This is the first capturing group.</span></span>|
|`\s`|<span data-ttu-id="4ee9d-214">Trova la corrispondenza con uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-214">Match a white-space character.</span></span>|
|`(\d+)`|<span data-ttu-id="4ee9d-215">Trova la corrispondenza con una o più cifre decimali.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-215">Match one or more decimal digits.</span></span> <span data-ttu-id="4ee9d-216">Equivale al secondo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-216">This is the second capturing group.</span></span>|
|`\r?`|<span data-ttu-id="4ee9d-217">Trova la corrispondenza di zero o un carattere di ritorno a capo.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-217">Match zero or one carriage return character.</span></span>|
|`$`|<span data-ttu-id="4ee9d-218">Termina alla fine della riga.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-218">End at the end of the line.</span></span>|

<span data-ttu-id="4ee9d-219">L'esempio di seguito equivale al precedente, tranne il fatto che viene usata l'opzione inline `(?m)` per impostare l'opzione multiriga.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-219">The following example is equivalent to the previous one, except that it uses the inline option `(?m)` to set the multiline option.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/multiline2.cs#4)]
[!code-vb[Conceptual.Regex.Language.Options#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/multiline2.vb#4)]

## <a name="single-line-mode"></a><span data-ttu-id="4ee9d-220">Modalità a riga singola.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-220">Single-line Mode</span></span>

<span data-ttu-id="4ee9d-221">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType>, o l'opzione inline `s`, consente al motore delle espressioni regolari di gestire la stringa di input come se fosse composta da una sola riga.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-221">The <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType> option, or the `s` inline option, causes the regular expression engine to treat the input string as if it consists of a single line.</span></span> <span data-ttu-id="4ee9d-222">Lo fa modificando il comportamento dell'elemento di linguaggio punto (`.`) in modo che corrisponda a qualsiasi carattere anziché a qualsiasi carattere ad eccezione del carattere di nuova riga `\n` o \u000A.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-222">It does this by changing the behavior of the period (`.`) language element so that it matches every character, instead of matching every character except for the newline character `\n` or \u000A.</span></span>

<span data-ttu-id="4ee9d-223">L'esempio seguente illustra come cambia il comportamento dell'elemento di linguaggio `.` quando si usa l'opzione <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-223">The following example illustrates how the behavior of the `.` language element changes when you use the <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4ee9d-224">L'espressione regolare `^.+` parte dall'inizio della stringa e individua una corrispondenza per ogni carattere.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-224">The regular expression `^.+` starts at the beginning of the string and matches every character.</span></span> <span data-ttu-id="4ee9d-225">Per impostazione predefinita, la corrispondenza termina alla fine della prima riga. Il criterio di ricerca di espressioni regolari trova la corrispondenza del carattere di ritorno a capo, `\r` o \u000D, ma non di `\n`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-225">By default, the match ends at the end of the first line; the regular expression pattern matches the carriage return character, `\r` or \u000D, but it does not match `\n`.</span></span> <span data-ttu-id="4ee9d-226">Poiché l'opzione <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType> interpreta l'intera stringa di input come riga singola, ottiene una corrispondenza per ogni carattere nella stringa di input, incluso `\n`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-226">Because the <xref:System.Text.RegularExpressions.RegexOptions.Singleline?displayProperty=nameWithType> option interprets the entire input string as a single line, it matches every character in the input string, including `\n`.</span></span>

[!code-csharp[Conceptual.Regex.Language.CharacterClasses#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.characterclasses/cs/any2.cs#5)]
[!code-vb[Conceptual.Regex.Language.CharacterClasses#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.characterclasses/vb/any2.vb#5)]

<span data-ttu-id="4ee9d-227">L'esempio di seguito equivale al precedente, tranne il fatto che viene usata l'opzione inline `(?s)` per impostare la modalità a riga singola.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-227">The following example is equivalent to the previous one, except that it uses the inline option `(?s)` to enable single-line mode.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/singleline1.cs#5)]
[!code-vb[Conceptual.Regex.Language.Options#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/singleline1.vb#5)]

## <a name="explicit-captures-only"></a><span data-ttu-id="4ee9d-228">Solo acquisizioni esplicite</span><span class="sxs-lookup"><span data-stu-id="4ee9d-228">Explicit Captures Only</span></span>

<span data-ttu-id="4ee9d-229">Per impostazione predefinita, i gruppi di acquisizione vengono definiti dall'uso di parentesi nel criterio di ricerca di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-229">By default, capturing groups are defined by the use of parentheses in the regular expression pattern.</span></span> <span data-ttu-id="4ee9d-230">Ai gruppi denominati viene `(?<`assegnato un nome o un numero in base all'opzione di lingua delle*sottoespressioni* `)` del *nome,*`>`mentre i gruppi senza nome sono accessibili in base all'indice.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-230">Named groups are assigned a name or number by the `(?<`*name*`>`*subexpression*`)` language option, whereas unnamed groups are accessible by index.</span></span> <span data-ttu-id="4ee9d-231">Nell'oggetto <xref:System.Text.RegularExpressions.GroupCollection> i gruppi non denominati precedono i gruppi denominati.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-231">In the <xref:System.Text.RegularExpressions.GroupCollection> object, unnamed groups precede named groups.</span></span>

<span data-ttu-id="4ee9d-232">I costrutti di raggruppamento vengono spesso usati solo per applicare quantificatori a più elementi di linguaggio e le sottostringhe acquisite non sono di alcun interesse.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-232">Grouping constructs are often used only to apply quantifiers to multiple language elements, and the captured substrings are of no interest.</span></span> <span data-ttu-id="4ee9d-233">Ad esempio, se l'espressione regolare seguente:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-233">For example, if the following regular expression:</span></span>

`\b\(?((\w+),?\s?)+[\.!?]\)?`

<span data-ttu-id="4ee9d-234">è intesa solo per l'estrazione di frasi che terminano con un punto, un punto esclamativo o un punto interrogativo da un documento, solo la frase risultante (rappresentata dall'oggetto <xref:System.Text.RegularExpressions.Match>) rappresenta un elemento di interesse.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-234">is intended only to extract sentences that end with a period, exclamation point, or question mark from a document, only the resulting sentence (which is represented by the <xref:System.Text.RegularExpressions.Match> object) is of interest.</span></span> <span data-ttu-id="4ee9d-235">Le singola parole nella raccolta non lo sono.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-235">The individual words in the collection are not.</span></span>

<span data-ttu-id="4ee9d-236">I gruppi di acquisizione che successivamente non vengono usati possono risultare costosi, in quanto il motore delle espressioni regolari deve popolare entrambi gli oggetti raccolta <xref:System.Text.RegularExpressions.GroupCollection> e <xref:System.Text.RegularExpressions.CaptureCollection>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-236">Capturing groups that are not subsequently used can be expensive, because the regular expression engine must populate both the <xref:System.Text.RegularExpressions.GroupCollection> and <xref:System.Text.RegularExpressions.CaptureCollection> collection objects.</span></span> <span data-ttu-id="4ee9d-237">In alternativa, si può usare l'opzione <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType> o l'opzione inline `n` per specificare che le sole acquisizioni valide sono i gruppi denominati o numerati in modo esplicito definiti dal costrutto `(?<`*nome*`>` *sottoespressione*`)`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-237">As an alternative, you can use either the <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType> option or the `n` inline option to specify that the only valid captures are explicitly named or numbered groups that are designated by the `(?<`*name*`>` *subexpression*`)` construct.</span></span>

<span data-ttu-id="4ee9d-238">L'esempio seguente mostra informazioni sulle corrispondenze restituite dal criterio di ricerca di espressioni regolari `\b\(?((\w+),?\s?)+[\.!?]\)?` quando viene chiamato il metodo <xref:System.Text.RegularExpressions.Regex.Match%2A> con e senza l'opzione <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-238">The following example displays information about the matches returned by the `\b\(?((\w+),?\s?)+[\.!?]\)?` regular expression pattern when the <xref:System.Text.RegularExpressions.Regex.Match%2A> method is called with and without the <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4ee9d-239">Come mostra l'output della prima chiamata al metodo, il motore delle espressioni regolari popola interamente gli oggetti raccolta <xref:System.Text.RegularExpressions.GroupCollection> e <xref:System.Text.RegularExpressions.CaptureCollection> con informazioni sulle sottostringhe acquisite.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-239">As the output from the first method call shows, the regular expression engine fully populates the <xref:System.Text.RegularExpressions.GroupCollection> and <xref:System.Text.RegularExpressions.CaptureCollection> collection objects with information about captured substrings.</span></span> <span data-ttu-id="4ee9d-240">Poiché il secondo metodo viene chiamato con `options` impostato su <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType>, non acquisisce informazioni sui gruppi.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-240">Because the second method is called with `options` set to <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType>, it does not capture information on groups.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/explicit1.cs#9)]
[!code-vb[Conceptual.Regex.Language.Options#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/explicit1.vb#9)]

<span data-ttu-id="4ee9d-241">Il criterio di ricerca di espressioni regolari `\b\(?((?>\w+),?\s?)+[\.!?]\)?` è definito nel modo illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-241">The regular expression pattern`\b\(?((?>\w+),?\s?)+[\.!?]\)?` is defined as shown in the following table.</span></span>

|<span data-ttu-id="4ee9d-242">Modello</span><span class="sxs-lookup"><span data-stu-id="4ee9d-242">Pattern</span></span>|<span data-ttu-id="4ee9d-243">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4ee9d-243">Description</span></span>|
|-------------|-----------------|
|`\b`|<span data-ttu-id="4ee9d-244">Inizia dal confine di una parola.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-244">Begin at a word boundary.</span></span>|
|`\(?`|<span data-ttu-id="4ee9d-245">Trova la corrispondenza di una o nessuna parentesi di apertura ("(").</span><span class="sxs-lookup"><span data-stu-id="4ee9d-245">Match zero or one occurrences of the opening parenthesis ("(").</span></span>|
|`(?>\w+),?`|<span data-ttu-id="4ee9d-246">Trova la corrispondenza di uno o più caratteri alfanumerici seguiti da una o nessuna virgola.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-246">Match one or more word characters, followed by zero or one commas.</span></span> <span data-ttu-id="4ee9d-247">Non eseguire il backtracking quando viene trovata la corrispondenza di caratteri alfanumerici.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-247">Do not backtrack when matching word characters.</span></span>|
|`\s?`|<span data-ttu-id="4ee9d-248">Trova la corrispondenza di uno o nessuno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-248">Match zero or one white-space characters.</span></span>|
|`((\w+),?\s?)+`|<span data-ttu-id="4ee9d-249">Trova una o più volte la corrispondenza di una combinazione di uno o più caratteri alfanumerici, una o nessuna virgola e uno o nessuno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-249">Match the combination of one or more word characters, zero or one commas, and zero or one white-space characters one or more times.</span></span>|
|`[\.!?]\)?`|<span data-ttu-id="4ee9d-250">Trova la corrispondenza di qualsiasi dei tre simboli di punteggiatura, seguiti da una o nessuna parentesi di chiusura (")").</span><span class="sxs-lookup"><span data-stu-id="4ee9d-250">Match any of the three punctuation symbols, followed by zero or one closing parentheses (")").</span></span>|

<span data-ttu-id="4ee9d-251">È anche possibile usare l'elemento inline `(?n)` per disattivare le acquisizioni automatiche.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-251">You can also use the `(?n)` inline element to suppress automatic captures.</span></span> <span data-ttu-id="4ee9d-252">L'esempio seguente modifica il criterio di ricerca di espressioni regolari precedente in modo da usare l'elemento inline `(?n)` anziché l'opzione <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-252">The following example modifies the previous regular expression pattern to use the `(?n)` inline element instead of the <xref:System.Text.RegularExpressions.RegexOptions.ExplicitCapture?displayProperty=nameWithType> option.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/explicit2.cs#10)]
[!code-vb[Conceptual.Regex.Language.Options#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/explicit2.vb#10)]

<span data-ttu-id="4ee9d-253">Infine, si può usare l'elemento di gruppo inline `(?n:)` per disattivare le acquisizioni automatiche gruppo per gruppo.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-253">Finally, you can use the inline group element `(?n:)` to suppress automatic captures on a group-by-group basis.</span></span> <span data-ttu-id="4ee9d-254">L'esempio di seguito modifica il criterio precedente per disattivare le acquisizioni non denominate nel gruppo esterno, `((?>\w+),?\s?)`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-254">The following example modifies the previous pattern to suppress unnamed captures in the outer group, `((?>\w+),?\s?)`.</span></span> <span data-ttu-id="4ee9d-255">Notare che in questo modo vengono disattivare le acquisizioni non denominate anche nel gruppo interno.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-255">Note that this suppresses unnamed captures in the inner group as well.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/explicit3.cs#11)]
[!code-vb[Conceptual.Regex.Language.Options#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/explicit3.vb#11)]

## <a name="compiled-regular-expressions"></a><span data-ttu-id="4ee9d-256">Espressioni regolari compilate</span><span class="sxs-lookup"><span data-stu-id="4ee9d-256">Compiled Regular Expressions</span></span>

<span data-ttu-id="4ee9d-257">Per impostazione predefinita, le espressioni regolari in .NET vengono interpretate.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-257">By default, regular expressions in .NET are interpreted.</span></span> <span data-ttu-id="4ee9d-258">Quando viene creata un'istanza di un oggetto <xref:System.Text.RegularExpressions.Regex> o viene chiamato un metodo <xref:System.Text.RegularExpressions.Regex> statico, il criterio di ricerca di espressioni regolari viene convertito in un set di codici operativi personalizzati, che vengono usati da un interprete per eseguire l'espressione regolare.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-258">When a <xref:System.Text.RegularExpressions.Regex> object is instantiated or a static <xref:System.Text.RegularExpressions.Regex> method is called, the regular expression pattern is parsed into a set of custom opcodes, and an interpreter uses these opcodes to run the regular expression.</span></span> <span data-ttu-id="4ee9d-259">Questo comporta un compromesso: il tempo di inizializzazione del motore delle espressioni regolari viene ridotto al minimo, a scapito delle prestazioni in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-259">This involves a tradeoff: The cost of initializing the regular expression engine is minimized at the expense of run-time performance.</span></span>

<span data-ttu-id="4ee9d-260">È possibile usare espressioni regolari compilate anziché interpretate mediante l'opzione <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-260">You can use compiled instead of interpreted regular expressions by using the <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4ee9d-261">In questo caso, quando un criterio viene passato al motore delle espressioni regolari, viene convertito in un set di codici operativi e quindi in MSIL, che può essere passato direttamente a Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-261">In this case, when a pattern is passed to the regular expression engine, it is parsed into a set of opcodes and then converted to Microsoft intermediate language (MSIL), which can be passed directly to the common language runtime.</span></span> <span data-ttu-id="4ee9d-262">Le espressioni regolari compilate massimizzano le prestazioni in fase di esecuzione a scapito del tempo di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-262">Compiled regular expressions maximize run-time performance at the expense of initialization time.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-263">Un'espressione regolare può essere compilata solo fornendo il valore <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> al parametro `options` di un costruttore di classe <xref:System.Text.RegularExpressions.Regex> o di un metodo statico dei criteri di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-263">A regular expression can be compiled only by supplying the <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> value to the `options` parameter of a <xref:System.Text.RegularExpressions.Regex> class constructor or a static pattern-matching method.</span></span> <span data-ttu-id="4ee9d-264">Non è disponibile come opzione inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-264">It is not available as an inline option.</span></span>

<span data-ttu-id="4ee9d-265">È possibile usare le espressioni regolari compilate sia nelle chiamate a occorrenze statiche che nelle chiamate a istanze di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-265">You can use compiled regular expressions in calls to both static and instance regular expressions.</span></span> <span data-ttu-id="4ee9d-266">Nelle espressioni regolari statiche, l'opzione <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> viene passata al parametro `options` del metodo dei criteri di ricerca di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-266">In static regular expressions, the <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> option is passed to the `options` parameter of the regular expression pattern-matching method.</span></span> <span data-ttu-id="4ee9d-267">Nelle istanze di espressioni regolari, viene passato al parametro `options` del costruttore della classe <xref:System.Text.RegularExpressions.Regex>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-267">In instance regular expressions, it is passed to the `options` parameter of the <xref:System.Text.RegularExpressions.Regex> class constructor.</span></span> <span data-ttu-id="4ee9d-268">In entrambi i casi, le prestazioni risultano migliorate.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-268">In both cases, it results in enhanced performance.</span></span>

<span data-ttu-id="4ee9d-269">Il miglioramento delle prestazioni, tuttavia, si verifica solo in presenza delle condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-269">However, this improvement in performance occurs only under the following conditions:</span></span>

- <span data-ttu-id="4ee9d-270">Un oggetto <xref:System.Text.RegularExpressions.Regex> che rappresenta una particolare espressione regolare viene usato in più chiamate a metodi dei criteri di ricerca di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-270">A <xref:System.Text.RegularExpressions.Regex> object that represents a particular regular expression is used in multiple calls to regular expression pattern-matching methods.</span></span>

- <span data-ttu-id="4ee9d-271">L'oggetto <xref:System.Text.RegularExpressions.Regex> non può uscire dall'ambito, dunque può essere riutilizzato.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-271">The <xref:System.Text.RegularExpressions.Regex> object is not allowed to go out of scope, so it can be reused.</span></span>

- <span data-ttu-id="4ee9d-272">Un'espressione regolare statica viene usata in più chiamate a metodi dei criteri di ricerca di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-272">A static regular expression is used in multiple calls to regular expression pattern-matching methods.</span></span> <span data-ttu-id="4ee9d-273">(Il miglioramento delle prestazioni è possibile perché le espressioni regolari usate nelle chiamate al metodo statico vengono memorizzate nella cache dal motore delle espressioni regolari.)</span><span class="sxs-lookup"><span data-stu-id="4ee9d-273">(The performance improvement is possible because regular expressions used in static method calls are cached by the regular expression engine.)</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-274">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> non è correlata al metodo <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A?displayProperty=nameWithType>, che crea un assembly speciale che contiene espressioni regolari compilate predefinite.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-274">The <xref:System.Text.RegularExpressions.RegexOptions.Compiled?displayProperty=nameWithType> option is unrelated to the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A?displayProperty=nameWithType> method, which creates a special-purpose assembly that contains predefined compiled regular expressions.</span></span>

## <a name="ignore-white-space"></a><span data-ttu-id="4ee9d-275">Ignora spazi vuoti</span><span class="sxs-lookup"><span data-stu-id="4ee9d-275">Ignore White Space</span></span>

<span data-ttu-id="4ee9d-276">Per impostazione predefinita, gli spazi vuoti in un criterio di ricerca di espressioni regolari sono significativi. Forzano il motore delle espressioni regolari a trovare una corrispondenza del carattere spazio nella stringa di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-276">By default, white space in a regular expression pattern is significant; it forces the regular expression engine to match a white-space character in the input string.</span></span> <span data-ttu-id="4ee9d-277">Per questo motivo, l'espressione regolare "`\b\w+\s`" e "`\b\w+` " sono espressioni regolari pressoché equivalenti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-277">Because of this, the regular expression "`\b\w+\s`" and "`\b\w+` " are roughly equivalent regular expressions.</span></span> <span data-ttu-id="4ee9d-278">Inoltre, quando il simbolo di cancelletto (#) viene incontrato in un criterio di ricerca di espressioni regolari, viene interpretato come carattere letterale di cui trovare la corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-278">In addition, when the number sign (#) is encountered in a regular expression pattern, it is interpreted as a literal character to be matched.</span></span>

<span data-ttu-id="4ee9d-279">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>, o l'opzione inline `x`, modifica questo comportamento predefinito come segue:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-279">The <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option, or the `x` inline option, changes this default behavior as follows:</span></span>

- <span data-ttu-id="4ee9d-280">Gli spazi vuoti non di escape nel criterio di ricerca di espressioni regolari vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-280">Unescaped white space in the regular expression pattern is ignored.</span></span> <span data-ttu-id="4ee9d-281">Per far parte di un criterio di ricerca di espressioni regolari, gli spazi vuoti devono essere preceduti da un carattere di escape (ad esempio `\s` o "`\` ").</span><span class="sxs-lookup"><span data-stu-id="4ee9d-281">To be part of a regular expression pattern, white-space characters must be escaped (for example, as `\s` or "`\` ").</span></span>

- <span data-ttu-id="4ee9d-282">Il simbolo di cancelletto (#) viene interpretato come l'inizio di un commento anziché come un carattere letterale.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-282">The number sign (#) is interpreted as the beginning of a comment, rather than as a literal character.</span></span> <span data-ttu-id="4ee9d-283">Tutto il testo nel criterio di ricerca di espressioni regolari, dal carattere # alla fine della stringa, viene interpretato come un commento.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-283">All text in the regular expression pattern from the # character to the end of the string is interpreted as a comment.</span></span>

<span data-ttu-id="4ee9d-284">Nei casi seguenti, tuttavia, gli spazi in un'espressione regolare non vengono ignorati anche se si usa l'opzione <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-284">However, in the following cases, white-space characters in a regular expression aren't ignored, even if you use the <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option:</span></span>

- <span data-ttu-id="4ee9d-285">Uno spazio vuoto in una classe di caratteri viene sempre interpretato letteralmente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-285">White space within a character class is always interpreted literally.</span></span> <span data-ttu-id="4ee9d-286">Ad esempio, il criterio di ricerca di espressioni regolari `[ .,;:]` trova la corrispondenza di qualsiasi spazio vuoto, punto, virgola, punto e virgola o due punti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-286">For example, the regular expression pattern `[ .,;:]` matches any single white-space character, period, comma, semicolon, or colon.</span></span>

- <span data-ttu-id="4ee9d-287">Lo spazio vuoto non è consentito all'interno di un quantificatore tra parentesi `{`quadre, ad esempio *n*`}`, `{` *n*`,}`e `{` *n*`,`*m*`}`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-287">White space isn't allowed within a bracketed quantifier, such as `{`*n*`}`, `{`*n*`,}`, and `{`*n*`,`*m*`}`.</span></span> <span data-ttu-id="4ee9d-288">Ad esempio, il criterio di ricerca di espressioni regolari `\d{1, 3}` non riesce a trovare sequenze di cifre da una a tre cifre perché contiene uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-288">For example, the regular expression pattern `\d{1, 3}` fails to match any sequences of digits from one to three digits because it contains a white-space character.</span></span>

- <span data-ttu-id="4ee9d-289">Gli spazi vuoti non sono consentiti all'interno di una sequenza di caratteri che introduce un elemento di linguaggio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-289">White space isn't allowed within a character sequence that introduces a language element.</span></span> <span data-ttu-id="4ee9d-290">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-290">For example:</span></span>

  - <span data-ttu-id="4ee9d-291">La `(?:` *sottoespressione dell'elemento* `)` del linguaggio `(?:` rappresenta un gruppo di non acquisizione e la parte dell'elemento non può avere spazi incorporati.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-291">The language element `(?:`*subexpression*`)` represents a noncapturing group, and the `(?:` portion of the element can't have embedded spaces.</span></span> <span data-ttu-id="4ee9d-292">La `(? :` *sottoespressione* `)` del <xref:System.ArgumentException> modello genera un'eccezione in fase di esecuzione perché `( ?:`il motore delle espressioni regolari non è in grado di analizzare il modello e la *sottoespressione* `)` del modello non corrisponde alla *sottoespressione*.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-292">The pattern `(? :`*subexpression*`)` throws an <xref:System.ArgumentException> at run time because the regular expression engine can't parse the pattern, and the pattern `( ?:`*subexpression*`)` fails to match *subexpression*.</span></span>

  - <span data-ttu-id="4ee9d-293">Il `\p{` *nome*`}`dell'elemento di linguaggio , che rappresenta una categoria `\p{` Unicode o un blocco denominato, non può includere spazi incorporati nella parte dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-293">The language element `\p{`*name*`}`, which represents a Unicode category or named block, can't include embedded spaces in the `\p{` portion of the element.</span></span> <span data-ttu-id="4ee9d-294">Se si include uno spazio vuoto, l'elemento genera un'eccezione <xref:System.ArgumentException> in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-294">If you do include a white space, the element throws an <xref:System.ArgumentException> at run time.</span></span>

<span data-ttu-id="4ee9d-295">Abilitare questa opzione consente di semplificare espressioni regolari spesso difficili da analizzare e capire.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-295">Enabling this option helps simplify regular expressions that are often difficult to parse and to understand.</span></span> <span data-ttu-id="4ee9d-296">Migliora la leggibilità e rende possibile documentare un'espressione regolare.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-296">It improves readability, and makes it possible to document a regular expression.</span></span>

<span data-ttu-id="4ee9d-297">L'esempio di seguito definisce il criterio di ricerca di espressioni regolari seguente:</span><span class="sxs-lookup"><span data-stu-id="4ee9d-297">The following example defines the following regular expression pattern:</span></span>

`\b \(? ( (?>\w+) ,?\s? )+  [\.!?] \)? # Matches an entire sentence.`

<span data-ttu-id="4ee9d-298">Questo criterio è simile a quello definito nella sezione [Solo acquisizioni esplicite](#explicit-captures-only), ad eccezione del fatto che usa l'opzione <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> per ignorare lo spazio vuoto del criterio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-298">This pattern is similar to the pattern defined in the [Explicit Captures Only](#explicit-captures-only) section, except that it uses the <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option to ignore pattern white space.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/whitespace1.cs#12)]
[!code-vb[Conceptual.Regex.Language.Options#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/whitespace1.vb#12)]

<span data-ttu-id="4ee9d-299">L'esempio seguente usa l'opzione inline `(?x)` per ignorare lo spazio vuoto del criterio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-299">The following example uses the inline option `(?x)` to ignore pattern white space.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/whitespace2.cs#13)]
[!code-vb[Conceptual.Regex.Language.Options#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/whitespace2.vb#13)]

## <a name="right-to-left-mode"></a><span data-ttu-id="4ee9d-300">Modalità da destra a sinistra</span><span class="sxs-lookup"><span data-stu-id="4ee9d-300">Right-to-Left Mode</span></span>

<span data-ttu-id="4ee9d-301">Per impostazione predefinita, il motore delle espressioni regolari effettua la ricerca da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-301">By default, the regular expression engine searches from left to right.</span></span> <span data-ttu-id="4ee9d-302">È possibile invertire la direzione della ricerca tramite l'opzione <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-302">You can reverse the search direction by using the <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> option.</span></span> <span data-ttu-id="4ee9d-303">La ricerca inizia automaticamente nella posizione dell'ultimo carattere della stringa.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-303">The search automatically begins at the last character position of the string.</span></span> <span data-ttu-id="4ee9d-304">Per i metodi dei criteri di ricerca che includono un parametro della posizione iniziale, ad esempio <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29?displayProperty=nameWithType>, la posizione iniziale è l'indice della posizione dell'ultimo carattere a destra in corrispondenze del quale ha inizio la ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-304">For pattern-matching methods that include a starting position parameter, such as <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29?displayProperty=nameWithType>, the starting position is the index of the rightmost character position at which the search is to begin.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-305">La modalità da destra a sinistra è disponibile solo fornendo il valore <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> al parametro `options` di un costruttore della classe <xref:System.Text.RegularExpressions.Regex> o un metodo statico dei criteri di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-305">Right-to-left pattern mode is available only by supplying the <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> value to the `options` parameter of a <xref:System.Text.RegularExpressions.Regex> class constructor or static pattern-matching method.</span></span> <span data-ttu-id="4ee9d-306">Non è disponibile come opzione inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-306">It is not available as an inline option.</span></span>

<span data-ttu-id="4ee9d-307">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> modifica solo la direzione di ricerca; non interpreta il criterio di ricerca di espressioni regolari da destra a sinistra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-307">The <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> option changes the search direction only; it does not interpret the regular expression pattern from right to left.</span></span> <span data-ttu-id="4ee9d-308">Ad esempio, l'espressione regolare `\bb\w+\s` trova le corrispondenze di parole che iniziano con la lettera "b" e sono seguite da uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-308">For example, the regular expression `\bb\w+\s` matches words that begin with the letter "b" and are followed by a white-space character.</span></span> <span data-ttu-id="4ee9d-309">Nell'esempio seguente, la stringa di input è costituita da tre parole che comprendono uno o più caratteri "b".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-309">In the following example, the input string consists of three words that include one or more "b" characters.</span></span> <span data-ttu-id="4ee9d-310">La prima parola inizia con "b", la seconda termina con "b" e la terza contiene due caratteri "b" al centro.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-310">The first word begins with "b", the second ends with "b", and the third includes two "b" characters in the middle of the word.</span></span> <span data-ttu-id="4ee9d-311">Come mostra l'output dell'esempio, solo le prime parole corrispondono al criterio di ricerca di espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-311">As the output from the example shows, only the first word matches the regular expression pattern.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/righttoleft1.cs#17)]
[!code-vb[Conceptual.Regex.Language.Options#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/righttoleft1.vb#17)]

<span data-ttu-id="4ee9d-312">Si noti inoltre che `(?=`l'asserzione lookahead (l'elemento language *della sottoespressione)* `)` e l'asserzione lookbehind (l'elemento `(?<=`language della *sottoespressione)* `)` non modificano la direzione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-312">Also note that the lookahead assertion (the `(?=`*subexpression*`)` language element) and the lookbehind assertion (the `(?<=`*subexpression*`)` language element) do not change direction.</span></span> <span data-ttu-id="4ee9d-313">Le asserzioni lookahead cercano a destra, mentre le asserzioni lookbehind cercano a sinistra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-313">The lookahead assertions look to the right; the lookbehind assertions look to the left.</span></span> <span data-ttu-id="4ee9d-314">Ad esempio, l'espressione regolare `(?<=\d{1,2}\s)\w+,?\s\d{4}` usa l'asserzione lookbehind per testare una data che precede il nome di un mese.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-314">For example, the regular expression `(?<=\d{1,2}\s)\w+,?\s\d{4}` uses the lookbehind assertion to test for a date that precedes a month name.</span></span> <span data-ttu-id="4ee9d-315">L'espressione regolare trova quindi la corrispondenza di mese e anno.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-315">The regular expression then matches the month and the year.</span></span> <span data-ttu-id="4ee9d-316">Per informazioni sulle asserzioni lookahead e lookbehind, vedere [Costrutti di raggruppamento](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-316">For information on lookahead and lookbehind assertions, see [Grouping Constructs](../../../docs/standard/base-types/grouping-constructs-in-regular-expressions.md).</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/righttoleft2.cs#18)]
[!code-vb[Conceptual.Regex.Language.Options#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/righttoleft2.vb#18)]

<span data-ttu-id="4ee9d-317">Il criterio di ricerca di espressioni regolari è definito nel modo illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-317">The regular expression pattern is defined as shown in the following table.</span></span>

|<span data-ttu-id="4ee9d-318">Modello</span><span class="sxs-lookup"><span data-stu-id="4ee9d-318">Pattern</span></span>|<span data-ttu-id="4ee9d-319">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4ee9d-319">Description</span></span>|
|-------------|-----------------|
|`(?<=\d{1,2}\s)`|<span data-ttu-id="4ee9d-320">L'inizio della corrispondenza deve essere preceduto da una o due cifre decimali seguite da uno spazio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-320">The beginning of the match must be preceded by one or two decimal digits followed by a space.</span></span>|
|`\w+`|<span data-ttu-id="4ee9d-321">Trova la corrispondenza di uno o più caratteri alfanumerici.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-321">Match one or more word characters.</span></span>|
|`,?`|<span data-ttu-id="4ee9d-322">Trova la corrispondenza di una o nessuna virgola.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-322">Match zero or one comma characters.</span></span>|
|`\s`|<span data-ttu-id="4ee9d-323">Trova la corrispondenza con uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-323">Match a white-space character.</span></span>|
|`\d{4}`|<span data-ttu-id="4ee9d-324">Trova la corrispondenza con quattro cifre decimali.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-324">Match four decimal digits.</span></span>|

## <a name="ecmascript-matching-behavior"></a><span data-ttu-id="4ee9d-325">Comportamento di corrispondenza ECMAScript</span><span class="sxs-lookup"><span data-stu-id="4ee9d-325">ECMAScript Matching Behavior</span></span>

<span data-ttu-id="4ee9d-326">Per impostazione predefinita, il motore delle espressioni regolari usa un comportamento canonico nella ricerca di corrispondenza di un criterio di ricerca di espressioni regolari nel testo di input.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-326">By default, the regular expression engine uses canonical behavior when matching a regular expression pattern to input text.</span></span> <span data-ttu-id="4ee9d-327">Si può però istruire il motore delle espressioni regolari in modo che usi il comportamento di corrispondenza ECMAScript specificando l'opzione <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-327">However, you can instruct the regular expression engine to use ECMAScript matching behavior by specifying the <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType> option.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-328">Il comportamento conforme a ECMAScript è disponibile solo fornendo il valore <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType> al parametro `options` di un costruttore della classe <xref:System.Text.RegularExpressions.Regex> o un metodo statico dei criteri di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-328">ECMAScript-compliant behavior is available only by supplying the <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType> value to the `options` parameter of a <xref:System.Text.RegularExpressions.Regex> class constructor or static pattern-matching method.</span></span> <span data-ttu-id="4ee9d-329">Non è disponibile come opzione inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-329">It is not available as an inline option.</span></span>

<span data-ttu-id="4ee9d-330">L'opzione <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType> può essere combinata solo con le opzioni <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> e <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-330">The <xref:System.Text.RegularExpressions.RegexOptions.ECMAScript?displayProperty=nameWithType> option can be combined only with the <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> options.</span></span> <span data-ttu-id="4ee9d-331">L'uso di qualsiasi altra opzione in un'espressione regolare genera un'eccezione <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-331">The use of any other option in a regular expression results in an <xref:System.ArgumentOutOfRangeException>.</span></span>

<span data-ttu-id="4ee9d-332">Il comportamento di ECMAScript e quello delle espressioni regolari canoniche differiscono in tre aspetti: sintassi delle classi di caratteri, gruppi di acquisizione autoreferenziali e interpretazione degli ottali rispetto a quella dei backreference.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-332">The behavior of ECMAScript and canonical regular expressions differs in three areas: character class syntax, self-referencing capturing groups, and octal versus backreference interpretation.</span></span>

- <span data-ttu-id="4ee9d-333">Sintassi delle classi di caratteri.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-333">Character class syntax.</span></span> <span data-ttu-id="4ee9d-334">Poiché le espressioni regolari canoniche supportano Unicode a differenza di ECMAScript, le classi di caratteri in ECMAScript hanno una sintassi più limitata e alcuni elementi di linguaggio delle classi di caratteri hanno un significato diverso.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-334">Because canonical regular expressions support Unicode whereas ECMAScript does not, character classes in ECMAScript have a more limited syntax, and some character class language elements have a different meaning.</span></span> <span data-ttu-id="4ee9d-335">Ad esempio, ECMAScript non supporta elementi di linguaggio come la categoria Unicode o gli elementi di blocco `\p` e `\P`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-335">For example, ECMAScript does not support language elements such as the Unicode category or block elements `\p` and `\P`.</span></span> <span data-ttu-id="4ee9d-336">Analogamente, l'elemento `\w`, che trova la corrispondenza di un carattere alfanumerico è equivalente alla classe di caratteri `[a-zA-Z_0-9]` quando si usa ECMAScript e a `[\p{Ll}\p{Lu}\p{Lt}\p{Lo}\p{Nd}\p{Pc}\p{Lm}]` quando si usa il comportamento canonico.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-336">Similarly, the `\w` element, which matches a word character, is equivalent to the `[a-zA-Z_0-9]` character class when using ECMAScript and `[\p{Ll}\p{Lu}\p{Lt}\p{Lo}\p{Nd}\p{Pc}\p{Lm}]` when using canonical behavior.</span></span> <span data-ttu-id="4ee9d-337">Per ulteriori informazioni, vedere [Classi di caratteri](../../../docs/standard/base-types/character-classes-in-regular-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-337">For more information, see [Character Classes](../../../docs/standard/base-types/character-classes-in-regular-expressions.md).</span></span>

  <span data-ttu-id="4ee9d-338">L'esempio seguente illustra le differenze tra i criteri di ricerca canonici ed ECMAScript.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-338">The following example illustrates the difference between canonical and ECMAScript pattern matching.</span></span> <span data-ttu-id="4ee9d-339">Definisce un'espressione regolare, `\b(\w+\s*)+`, che trova la corrispondenza di parole seguite da spazi vuoti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-339">It defines a regular expression, `\b(\w+\s*)+`, that matches words followed by white-space characters.</span></span> <span data-ttu-id="4ee9d-340">L'input è costituito da due stringhe, una che usa il set di caratteri latini e l'altra che usa il set di caratteri cirillici.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-340">The input consists of two strings, one that uses the Latin character set and the other that uses the Cyrillic character set.</span></span> <span data-ttu-id="4ee9d-341">Come mostra l'output, la chiamata al metodo <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> che usa i criteri di ricerca ECMAScript non riesce a trovare la corrispondenza delle parole in cirillico, mentre la chiamata al metodo che usa i criteri di ricerca individua trova la corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-341">As the output shows, the call to the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method that uses ECMAScript matching fails to match the Cyrillic words, whereas the method call that uses canonical matching does match these words.</span></span>

  [!code-csharp[Conceptual.Regex.Language.Options#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/ecmascript1.cs#16)]
  [!code-vb[Conceptual.Regex.Language.Options#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/ecmascript1.vb#16)]

- <span data-ttu-id="4ee9d-342">Gruppi di acquisizione autoreferenziali.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-342">Self-referencing capturing groups.</span></span> <span data-ttu-id="4ee9d-343">È necessario aggiornare una classe di acquisizione di espressioni regolari con un backreference autoreferenziale ogni volta che viene eseguita un'iterazione dell'acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-343">A regular expression capture class with a backreference to itself must be updated with each capture iteration.</span></span> <span data-ttu-id="4ee9d-344">Come mostra l'esempio seguente, questa funzionalità consente all'espressione regolare `((a+)(\1) ?)+` di trovare la corrispondenza della stringa di input " aa aaaa aaaaaa " quando si usa ECMAScript, ma non quando si usano i criteri di ricerca canonici.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-344">As the following example shows, this feature enables the regular expression `((a+)(\1) ?)+` to match the input string " aa aaaa aaaaaa " when using ECMAScript, but not when using canonical matching.</span></span>

  [!code-csharp[Conceptual.Regex.Language.Options#21](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/ecmascript2.cs#21)]
  [!code-vb[Conceptual.Regex.Language.Options#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/ecmascript2.vb#21)]

  <span data-ttu-id="4ee9d-345">L'espressione regolare è definita nel modo illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-345">The regular expression is defined as shown in the following table.</span></span>

  |<span data-ttu-id="4ee9d-346">Modello</span><span class="sxs-lookup"><span data-stu-id="4ee9d-346">Pattern</span></span>|<span data-ttu-id="4ee9d-347">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4ee9d-347">Description</span></span>|
  |-------------|-----------------|
  |<span data-ttu-id="4ee9d-348">(a+)</span><span class="sxs-lookup"><span data-stu-id="4ee9d-348">(a+)</span></span>|<span data-ttu-id="4ee9d-349">Trova la corrispondenza della lettera "a" una o più volte.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-349">Match the letter "a" one or more times.</span></span> <span data-ttu-id="4ee9d-350">Equivale al secondo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-350">This is the second capturing group.</span></span>|
  |<span data-ttu-id="4ee9d-351">(\1)</span><span class="sxs-lookup"><span data-stu-id="4ee9d-351">(\1)</span></span>|<span data-ttu-id="4ee9d-352">Trova la corrispondenza della sottostringa acquisita dal primo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-352">Match the substring captured by the first capturing group.</span></span> <span data-ttu-id="4ee9d-353">Equivale al terzo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-353">This is the third capturing group.</span></span>|
  |<span data-ttu-id="4ee9d-354">?</span><span class="sxs-lookup"><span data-stu-id="4ee9d-354">?</span></span>|<span data-ttu-id="4ee9d-355">Trova la corrispondenza di uno o nessuno spazio.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-355">Match zero or one space characters.</span></span>|
  |<span data-ttu-id="4ee9d-356">((a+)(\1) ?)+</span><span class="sxs-lookup"><span data-stu-id="4ee9d-356">((a+)(\1) ?)+</span></span>|<span data-ttu-id="4ee9d-357">Trova una o più volte la corrispondenza di uno o più caratteri "a" seguiti da una stringa che corrisponde al primo gruppo di acquisizione seguito da zero o da uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-357">Match the pattern of one or more "a" characters followed by a string that matches the first capturing group followed by zero or one space characters one or more times.</span></span> <span data-ttu-id="4ee9d-358">Equivale al primo gruppo di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-358">This is the first capturing group.</span></span>|

- <span data-ttu-id="4ee9d-359">Risoluzione delle ambiguità tra caratteri di escape ottali e backreference.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-359">Resolution of ambiguities between octal escapes and backreferences.</span></span> <span data-ttu-id="4ee9d-360">La tabella seguente contiene un riepilogo delle differenze tra l'interpretazione ottale e quella dei backreference nelle espressioni regolari canoniche e di ECMAScript.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-360">The following table summarizes the differences in octal versus backreference interpretation by canonical and ECMAScript regular expressions.</span></span>

  |<span data-ttu-id="4ee9d-361">Espressione regolare‏</span><span class="sxs-lookup"><span data-stu-id="4ee9d-361">Regular expression</span></span>|<span data-ttu-id="4ee9d-362">Comportamento canonico</span><span class="sxs-lookup"><span data-stu-id="4ee9d-362">Canonical behavior</span></span>|<span data-ttu-id="4ee9d-363">Comportamento ECMAScript</span><span class="sxs-lookup"><span data-stu-id="4ee9d-363">ECMAScript behavior</span></span>|
  |------------------------|------------------------|-------------------------|
  |<span data-ttu-id="4ee9d-364">`\0` seguito da cifre ottali comprese tra 0 e 2</span><span class="sxs-lookup"><span data-stu-id="4ee9d-364">`\0` followed by 0 to 2 octal digits</span></span>|<span data-ttu-id="4ee9d-365">Interpretare come un ottale.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-365">Interpret as an octal.</span></span> <span data-ttu-id="4ee9d-366">Ad esempio, `\044` viene sempre interpretato come un valore ottale e significa "$".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-366">For example, `\044` is always interpreted as an octal value and means "$".</span></span>|<span data-ttu-id="4ee9d-367">Stesso comportamento.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-367">Same behavior.</span></span>|
  |<span data-ttu-id="4ee9d-368">`\` seguito da una cifra compresa tra 1 e 9, quindi da nessuna cifra decimale aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4ee9d-368">`\` followed by a digit from 1 to 9, followed by no additional decimal digits,</span></span>|<span data-ttu-id="4ee9d-369">Interpretare come un backreference.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-369">Interpret as a backreference.</span></span> <span data-ttu-id="4ee9d-370">Ad esempio, `\9` rappresenta sempre un backreference 9, anche se il nono gruppo di acquisizione non esiste.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-370">For example, `\9` always means backreference 9, even if a ninth capturing group does not exist.</span></span> <span data-ttu-id="4ee9d-371">Se il gruppo di acquisizione non esiste, il parser dell'espressione regolare genera un'eccezione <xref:System.ArgumentException>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-371">If the capturing group does not exist, the regular expression parser throws an <xref:System.ArgumentException>.</span></span>|<span data-ttu-id="4ee9d-372">Se esiste un gruppo di acquisizione di una singola cifra decimale, il carattere viene considerato un backreference di tale cifra.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-372">If a single decimal digit capturing group exists, backreference to that digit.</span></span> <span data-ttu-id="4ee9d-373">Altrimenti il valore viene interpretato come un valore letterale.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-373">Otherwise, interpret the value as a literal.</span></span>|
  |<span data-ttu-id="4ee9d-374">`\` seguito da una cifra compresa tra 1 e 9, quindi da ulteriori cifre decimali</span><span class="sxs-lookup"><span data-stu-id="4ee9d-374">`\` followed by a digit from 1 to 9, followed by additional decimal digits</span></span>|<span data-ttu-id="4ee9d-375">Interpretare le cifre come un valore decimale.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-375">Interpret the digits as a decimal value.</span></span> <span data-ttu-id="4ee9d-376">Se tale gruppo di acquisizione esiste, l'espressione viene interpretata come un backreference.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-376">If that capturing group exists, interpret the expression as a backreference.</span></span><br /><br /> <span data-ttu-id="4ee9d-377">In caso contrario, interpretare le cifre ottali iniziali fino all'ottale 377, ovvero considerare solo gli 8 bit inferiori del valore.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-377">Otherwise, interpret the leading octal digits up to octal 377; that is, consider only the low 8 bits of the value.</span></span> <span data-ttu-id="4ee9d-378">Interpretare le cifre restanti come valori letterali.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-378">Interpret the remaining digits as literals.</span></span> <span data-ttu-id="4ee9d-379">Ad esempio, nell'espressione `\3000`, se il gruppo di acquisizione 300 esiste, l'espressione viene interpretata come un backreference 300; se il gruppo di acquisizione 300 non esiste, viene interpretata come ottale 300 seguito da 0.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-379">For example, in the expression `\3000`, if capturing group 300 exists, interpret as backreference 300; if capturing group 300 does not exist, interpret as octal 300 followed by 0.</span></span>|<span data-ttu-id="4ee9d-380">Interpretare come un backreference convertendo il maggior numero possibile di cifre a un valore decimale che si può riferire a un'acquisizione.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-380">Interpret as a backreference by converting as many digits as possible to a decimal value that can refer to a capture.</span></span> <span data-ttu-id="4ee9d-381">Se non è possibile convertire alcuna cifra, interpretare il carattere come un ottale usando le cifre ottali iniziali fino all'ottale 377.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-381">If no digits can be converted, interpret as an octal by using the leading octal digits up to octal 377; interpret the remaining digits as literals.</span></span>|

## <a name="comparison-using-the-invariant-culture"></a><span data-ttu-id="4ee9d-382">Confronto usando la lingua inglese</span><span class="sxs-lookup"><span data-stu-id="4ee9d-382">Comparison Using the Invariant Culture</span></span>

<span data-ttu-id="4ee9d-383">Per impostazione predefinita, quando il motore delle espressioni regolari esegue confronti senza distinzione fra maiuscole e minuscole, usa le convenzioni sulla combinazione di maiuscole e minuscole delle impostazioni cultura correnti per determinare i caratteri maiuscoli e minuscoli equivalenti.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-383">By default, when the regular expression engine performs case-insensitive comparisons, it uses the casing conventions of the current culture to determine equivalent uppercase and lowercase characters.</span></span>

<span data-ttu-id="4ee9d-384">Tuttavia, questo comportamento risulta inappropriato per alcuni tipi di confronti, in particolare nel caso di confronto di input dell'utente con i nomi di risorse di sistema, ad esempio password, file o URL.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-384">However, this behavior is undesirable for some types of comparisons, particularly when comparing user input to the names of system resources, such as passwords, files, or URLs.</span></span> <span data-ttu-id="4ee9d-385">Questo scenario è illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-385">The following example illustrates such as scenario.</span></span> <span data-ttu-id="4ee9d-386">Il codice ha lo scopo di bloccare l'accesso a qualsiasi risorsa il cui URL è preceduto da **FILE://**.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-386">The code is intended to block access to any resource whose URL is prefaced with **FILE://**.</span></span> <span data-ttu-id="4ee9d-387">L'espressione regolare tenta una corrispondenza senza distinzione tra maiuscole e minuscole con la stringa tramite l'espressione regolare `$FILE://`.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-387">The regular expression attempts a case-insensitive match with the string by using the regular expression `$FILE://`.</span></span> <span data-ttu-id="4ee9d-388">Tuttavia, quando le impostazioni cultura del sistema correnti sono tr-TR (turco di Turchia), "I" non è l'equivalente maiuscolo di "i".</span><span class="sxs-lookup"><span data-stu-id="4ee9d-388">However, when the current system culture is tr-TR (Turkish-Turkey), "I" is not the uppercase equivalent of "i".</span></span> <span data-ttu-id="4ee9d-389">Di conseguenza, la chiamata al metodo <xref:System.Text.RegularExpressions.Regex.IsMatch%2A?displayProperty=nameWithType> restituisce `false` e l'accesso al file è consentito.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-389">As a result, the call to the <xref:System.Text.RegularExpressions.Regex.IsMatch%2A?displayProperty=nameWithType> method returns `false`, and access to the file is allowed.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/culture1.cs#14)]
[!code-vb[Conceptual.Regex.Language.Options#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/culture1.vb#14)]

> [!NOTE]
> <span data-ttu-id="4ee9d-390">Per altre informazioni sui confronti di stringhe che supportano la distinzione tra maiuscole e minuscole e che usano la lingua inglese, vedere [Procedure consigliate per l'uso di stringhe](../../../docs/standard/base-types/best-practices-strings.md).</span><span class="sxs-lookup"><span data-stu-id="4ee9d-390">For more information about string comparisons that are case-sensitive and that use the invariant culture, see [Best Practices for Using Strings](../../../docs/standard/base-types/best-practices-strings.md).</span></span>

<span data-ttu-id="4ee9d-391">Invece di usare i confronti senza distinzione fra maiuscole e minuscole delle impostazioni cultura correnti, è possibile specificare l'opzione <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType> per ignorare le differenze culturali di lingua e usare le convenzioni della lingua inglese.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-391">Instead of using the case-insensitive comparisons of the current culture, you can specify the <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType> option to ignore cultural differences in language and to use the conventions of the invariant culture.</span></span>

> [!NOTE]
> <span data-ttu-id="4ee9d-392">Il confronto usando la lingua inglese è disponibile solo fornendo il valore <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType> al parametro `options` di un costruttore della classe <xref:System.Text.RegularExpressions.Regex> o un metodo statico dei criteri di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-392">Comparison using the invariant culture is available only by supplying the <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType> value to the `options` parameter of a <xref:System.Text.RegularExpressions.Regex> class constructor or static pattern-matching method.</span></span> <span data-ttu-id="4ee9d-393">Non è disponibile come opzione inline.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-393">It is not available as an inline option.</span></span>

<span data-ttu-id="4ee9d-394">L'esempio che segue è identico al precedente, tranne il fatto che il metodo statico <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> viene chiamato con opzioni che includono <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-394">The following example is identical to the previous example, except that the static <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method is called with options that include <xref:System.Text.RegularExpressions.RegexOptions.CultureInvariant?displayProperty=nameWithType>.</span></span> <span data-ttu-id="4ee9d-395">Anche quando le impostazioni cultura correnti sono quelle del turco (Turchia), il motore delle espressioni regolari consente di individuare la corrispondenza tra "FILE" e "file" e di bloccare l'accesso alla risorsa del file.</span><span class="sxs-lookup"><span data-stu-id="4ee9d-395">Even when the current culture is set to Turkish (Turkey), the regular expression engine is able to successfully match "FILE" and "file" and block access to the file resource.</span></span>

[!code-csharp[Conceptual.Regex.Language.Options#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.regex.language.options/cs/culture1.cs#15)]
[!code-vb[Conceptual.Regex.Language.Options#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.regex.language.options/vb/culture1.vb#15)]

## <a name="see-also"></a><span data-ttu-id="4ee9d-396">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="4ee9d-396">See also</span></span>

- [<span data-ttu-id="4ee9d-397">Linguaggio di espressioni regolari - Riferimento rapido</span><span class="sxs-lookup"><span data-stu-id="4ee9d-397">Regular Expression Language - Quick Reference</span></span>](../../../docs/standard/base-types/regular-expression-language-quick-reference.md)
