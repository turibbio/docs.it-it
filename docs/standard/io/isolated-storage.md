---
title: Spazio di memorizzazione isolato
description: Esplorare lo spazio di memorizzazione isolato, ovvero un meccanismo di archiviazione dei dati che garantisce l'isolamento & sicurezza definendo modi standardizzati di associare il codice ai dati salvati.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- data storage using isolated storage
- stores
- storing data using isolated storage
- isolated storage
- location of isolated storage in file system
- standardizing storage systems
- storing data using isolated storage, when not to use
- code, isolated storage
- isolated storage, options
- data storage using isolated storage, when not to use
- storing data using isolated storage, options
- isolated storage, when not to use
- data storage using isolated storage, options
- isolation
ms.assetid: aff939d7-9e49-46f2-a8cd-938d3020e94e
ms.openlocfilehash: b9915faff2593cc51868c20e1a83a05ffca9f548
ms.sourcegitcommit: dc2feef0794cf41dbac1451a13b8183258566c0e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/24/2020
ms.locfileid: "85325935"
---
# <a name="isolated-storage"></a><span data-ttu-id="e04b6-103">Spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-103">Isolated Storage</span></span>
<a name="top"></a> <span data-ttu-id="e04b6-104">Per le applicazioni desktop, lo spazio di memorizzazione isolato è un meccanismo di archiviazione dati che offre isolamento e sicurezza definendo modi standardizzati di associare il codice ai dati salvati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-104">For desktop apps, isolated storage is a data storage mechanism that provides isolation and safety by defining standardized ways of associating code with saved data.</span></span> <span data-ttu-id="e04b6-105">La standardizzazione offre anche altri vantaggi.</span><span class="sxs-lookup"><span data-stu-id="e04b6-105">Standardization provides other benefits as well.</span></span> <span data-ttu-id="e04b6-106">Gli amministratori possono utilizzare strumenti in grado di modificare l'archiviazione isolata per configurare lo spazio di archiviazione dei file, per impostare i criteri di sicurezza e per eliminare dati inutilizzati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-106">Administrators can use tools designed to manipulate isolated storage to configure file storage space, set security policies, and delete unused data.</span></span> <span data-ttu-id="e04b6-107">Con lo spazio di memorizzazione isolato, non occorre più fornire al codice percorsi univoci per individuare posizioni sicure nel file system e i dati sono protetti da altre applicazioni che dispongono esclusivamente dell'accesso allo spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-107">With isolated storage, your code no longer needs unique paths to specify safe locations in the file system, and data is protected from other applications that only have isolated storage access.</span></span> <span data-ttu-id="e04b6-108">Non è necessario specificare informazioni hardcoded che indicano il percorso dell'area di archiviazione di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-108">Hard-coded information that indicates where an application's storage area is located is unnecessary.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e04b6-109">Lo spazio di memorizzazione isolato non è disponibile per le app di Windows 8. x Store.</span><span class="sxs-lookup"><span data-stu-id="e04b6-109">Isolated storage is not available for Windows 8.x Store apps.</span></span> <span data-ttu-id="e04b6-110">Al contrario, usare le classi di dati dell'applicazione negli spazi dei nomi `Windows.Storage` inclusi nell'API di Windows Runtime per archiviare dati e file locali.</span><span class="sxs-lookup"><span data-stu-id="e04b6-110">Instead, use the application data classes in the `Windows.Storage` namespaces included in the Windows Runtime API to store local data and files.</span></span> <span data-ttu-id="e04b6-111">Per altre informazioni, vedere [Dati dell'applicazione](https://docs.microsoft.com/previous-versions/windows/apps/hh464917(v=win.10)) nel Centro per sviluppatori Windows.</span><span class="sxs-lookup"><span data-stu-id="e04b6-111">For more information, see [Application data](https://docs.microsoft.com/previous-versions/windows/apps/hh464917(v=win.10)) in the Windows Dev Center.</span></span>

<span data-ttu-id="e04b6-112">In questo argomento sono incluse le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="e04b6-112">This topic contains the following sections:</span></span>

- [<span data-ttu-id="e04b6-113">Raggruppamenti e archivi dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-113">Data Compartments and Stores</span></span>](#data_compartments_and_stores)

- [<span data-ttu-id="e04b6-114">Quote per lo spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-114">Quotas for Isolated Storage</span></span>](#quotas)

- [<span data-ttu-id="e04b6-115">Accesso sicuro</span><span class="sxs-lookup"><span data-stu-id="e04b6-115">Secure Access</span></span>](#secure_access)

- [<span data-ttu-id="e04b6-116">Utilizzo consentito e rischi di sicurezza</span><span class="sxs-lookup"><span data-stu-id="e04b6-116">Allowed Usage and Security Risks</span></span>](#allowed_usage)

- [<span data-ttu-id="e04b6-117">Percorsi dello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-117">Isolated Storage Locations</span></span>](#isolated_storage_locations)

- [<span data-ttu-id="e04b6-118">Creazione, enumerazione ed eliminazione dello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-118">Creating, Enumerating, and Deleting Isolated Storage</span></span>](#isolated_storage_tasks)

- [<span data-ttu-id="e04b6-119">Scenari per l'utilizzo dell'archiviazione isolata</span><span class="sxs-lookup"><span data-stu-id="e04b6-119">Scenarios for Isolated Storage</span></span>](#scenarios_for_isolated_storage)

- [<span data-ttu-id="e04b6-120">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="e04b6-120">Related Topics</span></span>](#related_topics)

- [<span data-ttu-id="e04b6-121">Riferimento</span><span class="sxs-lookup"><span data-stu-id="e04b6-121">Reference</span></span>](#reference)

<a name="data_compartments_and_stores"></a>

## <a name="data-compartments-and-stores"></a><span data-ttu-id="e04b6-122">Raggruppamenti e archivi dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-122">Data Compartments and Stores</span></span>

<span data-ttu-id="e04b6-123">Quando un'applicazione memorizza dati in un file, il nome del file e il percorso di archiviazione devono essere scelti attentamente, per ridurre la possibilità che il percorso di archiviazione venga individuato da un'altra applicazione e sia quindi soggetto a danneggiamenti.</span><span class="sxs-lookup"><span data-stu-id="e04b6-123">When an application stores data in a file, the file name and storage location must be carefully chosen to minimize the possibility that the storage location will be known to another application and, therefore, will be vulnerable to corruption.</span></span> <span data-ttu-id="e04b6-124">Senza un sistema standard in grado di gestire questi problemi, può risultare complesso sviluppare tecniche specifiche che riducano i conflitti di archiviazione e i risultati conseguiti potrebbero non essere affidabili.</span><span class="sxs-lookup"><span data-stu-id="e04b6-124">Without a standard system in place to manage these problems, developing ad hoc techniques that minimize storage conflicts can be complex, and the results can be unreliable.</span></span>

<span data-ttu-id="e04b6-125">Con l'archiviazione isolata i dati vengono sempre isolati in base all'utente o all'assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-125">With isolated storage, data is always isolated by user and by assembly.</span></span> <span data-ttu-id="e04b6-126">L'identità dell'assembly viene determinata da credenziali quali l'origine o il nome sicuro.</span><span class="sxs-lookup"><span data-stu-id="e04b6-126">Credentials such as the origin or the strong name of the assembly determine assembly identity.</span></span> <span data-ttu-id="e04b6-127">I dati possono essere isolati anche in base al dominio applicazione, utilizzando credenziali analoghe.</span><span class="sxs-lookup"><span data-stu-id="e04b6-127">Data can also be isolated by application domain, using similar credentials.</span></span>

<span data-ttu-id="e04b6-128">Quando si utilizza lo spazio di memorizzazione isolato, le applicazioni salvano i dati in un raggruppamento dati univoco, associato ad alcuni aspetti dell'identità del codice quali l'autore o la firma.</span><span class="sxs-lookup"><span data-stu-id="e04b6-128">When you use isolated storage, your application saves data to a unique data compartment that is associated with some aspect of the code's identity, such as its publisher or signature.</span></span> <span data-ttu-id="e04b6-129">Il contesto dati è un'astrazione, non è un percorso di archiviazione specifico. È costituito da uno o più file di archiviazione isolata, denominati archivi, contenenti i percorsi di directory in cui sono effettivamente memorizzati i dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-129">The data compartment is an abstraction, not a specific storage location; it consists of one or more isolated storage files, called stores, which contain the actual directory locations where data is stored.</span></span> <span data-ttu-id="e04b6-130">È possibile, ad esempio, che a un'applicazione sia associato un raggruppamento dati e che una directory del file system implementi l'archivio in cui sono effettivamente conservati i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-130">For example, an application might have a data compartment associated with it, and a directory in the file system would implement the store that actually preserves the data for that application.</span></span> <span data-ttu-id="e04b6-131">Nell'archivio è possibile salvare qualsiasi tipo di dati, dalle preferenze utente allo stato dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-131">The data saved in the store can be any kind of data, from user preference information to application state.</span></span> <span data-ttu-id="e04b6-132">Per lo sviluppatore, la posizione del contesto dati è trasparente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-132">For the developer, the location of the data compartment is transparent.</span></span> <span data-ttu-id="e04b6-133">Gli archivi solitamente risiedono sul client, ma un'applicazione server può utilizzare gli archivi isolati per archiviare le informazioni impersonando l'utente sta funzionando.</span><span class="sxs-lookup"><span data-stu-id="e04b6-133">Stores usually reside on the client, but a server application could use isolated stores to store information by impersonating the user on whose behalf it is functioning.</span></span> <span data-ttu-id="e04b6-134">Tramite l'archiviazione isolata è inoltre possibile memorizzare informazioni su un server con un profilo utente comune, in modo che sia possibile spostare le informazioni insieme all'utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-134">Isolated storage can also store information on a server with a user's roaming profile so that the information will travel with the roaming user.</span></span>

<a name="quotas"></a>

## <a name="quotas-for-isolated-storage"></a><span data-ttu-id="e04b6-135">Quote per lo spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-135">Quotas for Isolated Storage</span></span>

<span data-ttu-id="e04b6-136">Una quota è un limite allo spazio che può essere utilizzato per l'archiviazione isolata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-136">A quota is a limit on the amount of isolated storage that can be used.</span></span> <span data-ttu-id="e04b6-137">La quota definisce i byte di spazio su file, l'overhead associato alla directory e altre informazioni dell'archivio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-137">The quota includes bytes of file space as well as the overhead associated with the directory and other information in the store.</span></span> <span data-ttu-id="e04b6-138">Lo spazio di memorizzazione isolato utilizza le quote di autorizzazione, ovvero limiti di archiviazione impostati utilizzando gli oggetti <xref:System.Security.Permissions.IsolatedStoragePermission> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-138">Isolated storage uses permission quotas, which are storage limits that are set by using <xref:System.Security.Permissions.IsolatedStoragePermission> objects.</span></span> <span data-ttu-id="e04b6-139">Se si tenta di scrivere dati oltre il limite definito dalla quota, verrà generata un'eccezione <xref:System.IO.IsolatedStorage.IsolatedStorageException> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-139">If you try to write data that exceeds the quota, an <xref:System.IO.IsolatedStorage.IsolatedStorageException> exception is thrown.</span></span>  <span data-ttu-id="e04b6-140">I criteri di protezione , modificabili tramite lo strumento .NET Framework Configuration (Mscorcfg.msc), determinano le autorizzazioni concesse al codice.</span><span class="sxs-lookup"><span data-stu-id="e04b6-140">Security policy, which can be modified using the .NET Framework Configuration Tool (Mscorcfg.msc), determines which permissions are granted to code.</span></span> <span data-ttu-id="e04b6-141">Il codice a cui è stata concessa <xref:System.Security.Permissions.IsolatedStoragePermission> è limitato all'utilizzo di spazio di archiviazione non superiore a quanto consente la proprietà <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-141">Code that has been granted <xref:System.Security.Permissions.IsolatedStoragePermission> is restricted to using no more storage than the <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> property allows.</span></span> <span data-ttu-id="e04b6-142">Poiché tuttavia il codice può eludere le quote presentando diverse identità utente, le quote rappresentano per il codice un limite indicativo piuttosto che un limite di protezione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-142">However, because code can bypass permission quotas by presenting different user identities, permission quotas serve as guidelines for how code should behave rather than as a firm limit on code behavior.</span></span>

<span data-ttu-id="e04b6-143">Le quote non si applicano agli archivi roaming.</span><span class="sxs-lookup"><span data-stu-id="e04b6-143">Quotas are not enforced on roaming stores.</span></span> <span data-ttu-id="e04b6-144">Perché il codice possa farne uso, occorre pertanto un livello di autorizzazione leggermente superiore.</span><span class="sxs-lookup"><span data-stu-id="e04b6-144">Because of this, a slightly higher level of permission is required for code to use them.</span></span> <span data-ttu-id="e04b6-145">I valori di enumerazione <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> e <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specificano un'autorizzazione a utilizzare lo spazio di memorizzazione isolato per un utente mobile.</span><span class="sxs-lookup"><span data-stu-id="e04b6-145">The enumeration values <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> and <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specify a permission to use isolated storage for a roaming user.</span></span>

<a name="secure_access"></a>

## <a name="secure-access"></a><span data-ttu-id="e04b6-146">Accesso sicuro</span><span class="sxs-lookup"><span data-stu-id="e04b6-146">Secure Access</span></span>

<span data-ttu-id="e04b6-147">L'utilizzo dell'archiviazione isolata consente alle applicazioni parzialmente attendibili di archiviare i dati in modo controllato dal criterio di sicurezza del computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-147">Using isolated storage enables partially trusted applications to store data in a manner that is controlled by the computer's security policy.</span></span> <span data-ttu-id="e04b6-148">Questa caratteristica si rivela particolarmente utile per l'esecuzione controllata di componenti scaricati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-148">This is especially useful for downloaded components that a user might want to run cautiously.</span></span> <span data-ttu-id="e04b6-149">I criteri di sicurezza concedono raramente questo tipo di autorizzazione del codice quando si accede al file system utilizzando meccanismi di I/O standard.</span><span class="sxs-lookup"><span data-stu-id="e04b6-149">Security policy rarely grants this kind of code permission when you access the file system by using standard I/O mechanisms.</span></span> <span data-ttu-id="e04b6-150">Tuttavia, per impostazione predefinita, all'esecuzione di codice dal computer locale, da una rete locale o da Internet è concesso il diritto di utilizzare lo spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-150">However, by default, code running from the local computer, a local network, or the Internet is granted the right to use isolated storage.</span></span>

<span data-ttu-id="e04b6-151">Gli amministratori possono limitare lo spazio di archiviazione isolata a disposizione di un'applicazione o di un utente, in base a un appropriato livello di attendibilità.</span><span class="sxs-lookup"><span data-stu-id="e04b6-151">Administrators can limit how much isolated storage an application or a user has available, based on an appropriate trust level.</span></span> <span data-ttu-id="e04b6-152">Gli amministratori possono inoltre rimuovere completamente i dati persistenti di un utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-152">In addition, administrators can remove a user's persisted data completely.</span></span> <span data-ttu-id="e04b6-153">Per creare o accedere a spazio di memorizzazione isolato è necessario che il codice disponga di un'autorizzazione <xref:System.Security.Permissions.IsolatedStorageFilePermission> appropriata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-153">To create or access isolated storage, code must be granted the appropriate <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission.</span></span>

<span data-ttu-id="e04b6-154">Per accedere all'archiviazione isolata, il codice deve disporre di tutti i diritti nativi del sistema operativo della piattaforma.</span><span class="sxs-lookup"><span data-stu-id="e04b6-154">To access isolated storage, code must have all necessary native platform operating system rights.</span></span> <span data-ttu-id="e04b6-155">È necessario soddisfare gli elenchi di controllo di accesso (ACL, Access Control List) che determinano quali utenti dispongono dei diritti per l'utilizzo del file system.</span><span class="sxs-lookup"><span data-stu-id="e04b6-155">The access control lists (ACLs) that control which users have the rights to use the file system must be satisfied.</span></span> <span data-ttu-id="e04b6-156">Le applicazioni .NET Framework dispongono già dei diritti del sistema operativo per accedere allo spazio di memorizzazione isolato, a meno che non eseguano la rappresentazione (specifica della piattaforma).</span><span class="sxs-lookup"><span data-stu-id="e04b6-156">.NET Framework applications already have operating system rights to access isolated storage unless they perform (platform-specific) impersonation.</span></span> <span data-ttu-id="e04b6-157">In questo caso l'applicazione deve verificare che l'identità dell'utente impersonato disponga di appropriati diritti del sistema operativo per accedere all'archiviazione isolata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-157">In this case, the application is responsible for ensuring that the impersonated user identity has the proper operating system rights to access isolated storage.</span></span> <span data-ttu-id="e04b6-158">Tale tipo di accesso consente al codice in esecuzione o che viene scaricato dal Web di leggere e scrivere in un'area di archiviazione relativa a un particolare utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-158">This access provides a convenient way for code that is run or downloaded from the web to read and write to a storage area related to a particular user.</span></span>

<span data-ttu-id="e04b6-159">Per controllare l'accesso allo spazio di memorizzazione isolato, Common Language Runtime utilizza gli oggetti <xref:System.Security.Permissions.IsolatedStorageFilePermission> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-159">To control access to isolated storage, the common language runtime uses <xref:System.Security.Permissions.IsolatedStorageFilePermission> objects.</span></span> <span data-ttu-id="e04b6-160">Ogni oggetto dispone di proprietà che specificano i seguenti valori:</span><span class="sxs-lookup"><span data-stu-id="e04b6-160">Each object has properties that specify the following values:</span></span>

- <span data-ttu-id="e04b6-161">Utilizzo consentito, che indica il tipo di accesso consentito.</span><span class="sxs-lookup"><span data-stu-id="e04b6-161">Allowed usage, which indicates the type of access that is allowed.</span></span> <span data-ttu-id="e04b6-162">I valori sono i membri dell'enumerazione <xref:System.Security.Permissions.IsolatedStorageContainment> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-162">The values are members of the <xref:System.Security.Permissions.IsolatedStorageContainment> enumeration.</span></span> <span data-ttu-id="e04b6-163">Per ulteriori informazioni su questi valori, vedere la tabella nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="e04b6-163">For more information about these values, see the table in the next section.</span></span>

- <span data-ttu-id="e04b6-164">Quota di archiviazione, come illustrato nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-164">Storage quota, as discussed in the preceding section.</span></span>

<span data-ttu-id="e04b6-165">Il runtime richiede l'autorizzazione <xref:System.Security.Permissions.IsolatedStorageFilePermission> la prima volta che il codice tenta di aprire un archivio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-165">The runtime demands <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission when code first attempts to open a store.</span></span> <span data-ttu-id="e04b6-166">Decide quindi se concedere o meno questa autorizzazione in base al grado di attendibilità del codice.</span><span class="sxs-lookup"><span data-stu-id="e04b6-166">It decides whether to grant this permission, based on how much the code is trusted.</span></span> <span data-ttu-id="e04b6-167">Se l'autorizzazione viene concessa, i valori di quota di archiviazione e di utilizzo consentito verranno determinati dai criteri di sicurezza e dalla richiesta avanzata dal codice per <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="e04b6-167">If the permission is granted, the allowed usage and storage quota values are determined by security policy and by the code's request for <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span> <span data-ttu-id="e04b6-168">I criteri di sicurezza vengono impostati mediante lo strumento .NET Framework Configuration (Mscorcfg.msc).</span><span class="sxs-lookup"><span data-stu-id="e04b6-168">Security policy is set by using the .NET Framework Configuration Tool (Mscorcfg.msc).</span></span> <span data-ttu-id="e04b6-169">Tutti i chiamanti nello stack di chiamate vengono controllati per garantire che ciascun chiamante disponga almeno dell'utilizzo consentito appropriato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-169">All callers in the call stack are checked to ensure that each caller has at least the appropriate allowed usage.</span></span> <span data-ttu-id="e04b6-170">Il runtime controlla inoltre la quota imposta al codice che ha aperto o creato l'archivio in cui si deve salvare il file.</span><span class="sxs-lookup"><span data-stu-id="e04b6-170">The runtime also checks the quota imposed on the code that opened or created the store in which the file is to be saved.</span></span> <span data-ttu-id="e04b6-171">Se le condizioni vengono soddisfatte, verrà concessa l'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-171">If these conditions are satisfied, permission is granted.</span></span> <span data-ttu-id="e04b6-172">La quota viene controllata nuovamente ogni volta che un file viene scritto nell'archivio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-172">The quota is checked again every time a file is written to the store.</span></span>

<span data-ttu-id="e04b6-173">Non occorre che il codice dell'applicazione richieda l'autorizzazione, perché Common Language Runtime concederà qualsiasi <xref:System.Security.Permissions.IsolatedStorageFilePermission> appropriato in base ai criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="e04b6-173">Application code is not required to request permission because the common language runtime will grant whatever <xref:System.Security.Permissions.IsolatedStorageFilePermission> is appropriate based on security policy.</span></span> <span data-ttu-id="e04b6-174">Tuttavia, esistono buone ragioni per richiedere le autorizzazioni specifiche necessarie all'applicazione, comprese <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="e04b6-174">However, there are good reasons to request specific permissions that your application needs, including <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span>

<a name="allowed_usage"></a>

## <a name="allowed-usage-and-security-risks"></a><span data-ttu-id="e04b6-175">Utilizzo consentito e rischi di sicurezza</span><span class="sxs-lookup"><span data-stu-id="e04b6-175">Allowed Usage and Security Risks</span></span>

<span data-ttu-id="e04b6-176">L'utilizzo consentito specificato da <xref:System.Security.Permissions.IsolatedStorageFilePermission> determina il grado in cui al codice verrà consentito di creare e utilizzare lo spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-176">The allowed usage specified by <xref:System.Security.Permissions.IsolatedStorageFilePermission> determines the degree to which code will be allowed to create and use isolated storage.</span></span> <span data-ttu-id="e04b6-177">Nella tabella riportata di seguito viene illustrato come l'utilizzo consentito specificato nell'autorizzazione corrisponde ai tipi di isolamento. Vengono inoltre riepilogati i rischi di sicurezza associati a ciascun utilizzo consentito.</span><span class="sxs-lookup"><span data-stu-id="e04b6-177">The following table shows how the allowed usage specified in the permission corresponds to types of isolation and summarizes the security risks associated with each allowed usage.</span></span>

|<span data-ttu-id="e04b6-178">Utilizzo consentito</span><span class="sxs-lookup"><span data-stu-id="e04b6-178">Allowed usage</span></span>|<span data-ttu-id="e04b6-179">Tipi di isolamento</span><span class="sxs-lookup"><span data-stu-id="e04b6-179">Isolation types</span></span>|<span data-ttu-id="e04b6-180">Impatto sulla sicurezza</span><span class="sxs-lookup"><span data-stu-id="e04b6-180">Security impact</span></span>|
|-------------------|---------------------|---------------------|
|<xref:System.Security.Permissions.IsolatedStorageContainment.None>|<span data-ttu-id="e04b6-181">Non è consentito alcun utilizzo dell'archiviazione isolata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-181">No isolated storage use is allowed.</span></span>|<span data-ttu-id="e04b6-182">Non vi è impatto per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="e04b6-182">There is no security impact.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByUser>|<span data-ttu-id="e04b6-183">Isolamento in base all'utente, al dominio e all'assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-183">Isolation by user, domain, and assembly.</span></span> <span data-ttu-id="e04b6-184">Ciascun assembly presenta un archivio secondario all'interno del dominio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-184">Each assembly has a separate substore within the domain.</span></span> <span data-ttu-id="e04b6-185">Gli archivi che utilizzano questa autorizzazione vengono isolati in modo implicito dal computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-185">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="e04b6-186">Questo livello di autorizzazione lascia le risorse vulnerabili all'utilizzo eccessivo non autorizzato, nonostante la resistenza offerta dall'adozione delle quote.</span><span class="sxs-lookup"><span data-stu-id="e04b6-186">This permission level leaves resources open to unauthorized overuse, although enforced quotas make it more difficult.</span></span> <span data-ttu-id="e04b6-187">Tale abuso viene definito denial of service (negazione del servizio).</span><span class="sxs-lookup"><span data-stu-id="e04b6-187">This is called a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser>|<span data-ttu-id="e04b6-188">Come `DomainIsolationByUser`, ma l'archivio viene salvato in un percorso di cui verrà effettuato il roaming se i profili degli utenti mobili sono attivati e le quote non sono applicate.</span><span class="sxs-lookup"><span data-stu-id="e04b6-188">Same as `DomainIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="e04b6-189">Poiché le quote devono essere disabilitate, le risorse di archiviazione sono più soggette ad attacchi denial of service.</span><span class="sxs-lookup"><span data-stu-id="e04b6-189">Because quotas must be disabled, storage resources are more vulnerable to a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByUser>|<span data-ttu-id="e04b6-190">Isolamento in base all'utente e all'assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-190">Isolation by user and assembly.</span></span> <span data-ttu-id="e04b6-191">Gli archivi che utilizzano questa autorizzazione vengono isolati in modo implicito dal computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-191">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="e04b6-192">A questo livello vengono attivate le quote, per offrire una maggior resistenza agli attacchi denial of service.</span><span class="sxs-lookup"><span data-stu-id="e04b6-192">Quotas are enforced at this level to help prevent a denial of service attack.</span></span> <span data-ttu-id="e04b6-193">Lo stesso assembly in esecuzione in un altro dominio può accedere a questo archivio, rendendo possibile la fuga di informazioni tra applicazioni.</span><span class="sxs-lookup"><span data-stu-id="e04b6-193">The same assembly in another domain can access this store, opening the possibility that information could be leaked between applications.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser>|<span data-ttu-id="e04b6-194">Come `AssemblyIsolationByUser`, ma l'archivio viene salvato in un percorso di cui verrà effettuato il roaming se i profili degli utenti mobili sono attivati e le quote non sono applicate.</span><span class="sxs-lookup"><span data-stu-id="e04b6-194">Same as `AssemblyIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="e04b6-195">Come `AssemblyIsolationByUser`, ma senza quote. Aumenta il rischio che i servizi vengano attaccati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-195">Same as in `AssemblyIsolationByUser`, but without quotas, the risk of a denial of service attack increases.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AdministerIsolatedStorageByUser>|<span data-ttu-id="e04b6-196">Isolamento in base all'utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-196">Isolation by user.</span></span> <span data-ttu-id="e04b6-197">In genere questo livello di autorizzazione viene utilizzato solo per gli strumenti di debug e di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-197">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="e04b6-198">L'accesso con questa autorizzazione consente al codice di visualizzare o rimuovere i file o le directory dell'archiviazione isolata di un utente, indipendentemente dall'isolamento dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-198">Access with this permission allows code to view or delete any of a user's isolated storage files or directories (regardless of assembly isolation).</span></span> <span data-ttu-id="e04b6-199">I rischi includono, tra l'altro, la fuga di informazioni e la perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-199">Risks include, but are not limited to, leaking information and data loss.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.UnrestrictedIsolatedStorage>|<span data-ttu-id="e04b6-200">Isolamento in base a tutti gli utenti, i domini e gli assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-200">Isolation by all users, domains, and assemblies.</span></span> <span data-ttu-id="e04b6-201">In genere questo livello di autorizzazione viene utilizzato solo per gli strumenti di debug e di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-201">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="e04b6-202">Questa autorizzazione crea la possibilità che vengano compromessi tutti gli archivi isolati di tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="e04b6-202">This permission creates the potential for a total compromise of all isolated stores for all users.</span></span>|

## <a name="safety-of-isolated-storage-components-with-regard-to-untrusted-data"></a><span data-ttu-id="e04b6-203">Sicurezza dei componenti dello spazio di memorizzazione isolato per quanto riguarda i dati non attendibili</span><span class="sxs-lookup"><span data-stu-id="e04b6-203">Safety of isolated storage components with regard to untrusted data</span></span>

<span data-ttu-id="e04b6-204">__Questa sezione si applica ai Framework seguenti:__</span><span class="sxs-lookup"><span data-stu-id="e04b6-204">__This section applies to the following frameworks:__</span></span>

- <span data-ttu-id="e04b6-205">.NET Framework (tutte le versioni)</span><span class="sxs-lookup"><span data-stu-id="e04b6-205">.NET Framework (all versions)</span></span>
- <span data-ttu-id="e04b6-206">.NET Core 2.1 +</span><span class="sxs-lookup"><span data-stu-id="e04b6-206">.NET Core 2.1+</span></span>
- <span data-ttu-id="e04b6-207">.NET 5.0 +</span><span class="sxs-lookup"><span data-stu-id="e04b6-207">.NET 5.0+</span></span>

<span data-ttu-id="e04b6-208">Il .NET Framework e .NET Core offrono lo [spazio di memorizzazione isolato](/dotnet/standard/io/isolated-storage) come meccanismo per salvare in modo permanente i dati per un utente, un'applicazione o un componente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-208">The .NET Framework and .NET Core offer [isolated storage](/dotnet/standard/io/isolated-storage) as a mechanism to persist data for a user, an application, or a component.</span></span> <span data-ttu-id="e04b6-209">Si tratta di un componente legacy progettato principalmente per gli scenari di sicurezza dall'accesso di codice ora deprecati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-209">This is a legacy component primarily designed for now-deprecated Code Access Security scenarios.</span></span>

<span data-ttu-id="e04b6-210">È possibile usare diversi strumenti e API di archiviazione isolata per leggere i dati attraverso i confini del trust.</span><span class="sxs-lookup"><span data-stu-id="e04b6-210">Various isolated storage APIs and tools can be used to read data across trust boundaries.</span></span> <span data-ttu-id="e04b6-211">Ad esempio, la lettura di dati da un ambito a livello di computer può aggregare i dati di altri account utente meno attendibili nel computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-211">For example, reading data from a machine-wide scope can aggregate data from other, possibly less-trusted user accounts on the machine.</span></span> <span data-ttu-id="e04b6-212">I componenti o le applicazioni che leggono dagli ambiti di archiviazione isolata a livello di computer devono essere consapevoli delle conseguenze della lettura di questi dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-212">Components or applications which read from machine-wide isolated storage scopes should be aware of the consequences of reading this data.</span></span>

### <a name="security-sensitive-apis-which-can-read-from-the-machine-wide-scope"></a><span data-ttu-id="e04b6-213">API sensibili alla sicurezza che possono leggere dall'ambito a livello di computer</span><span class="sxs-lookup"><span data-stu-id="e04b6-213">Security-sensitive APIs which can read from the machine-wide scope</span></span>

<span data-ttu-id="e04b6-214">Componenti o applicazioni che chiamano una delle API seguenti lette dall'ambito a livello di computer:</span><span class="sxs-lookup"><span data-stu-id="e04b6-214">Components or applications that call any of the following APIs read from the machine-wide scope:</span></span>

* <span data-ttu-id="e04b6-215">[IsolatedStorageFile. GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passaggio di un ambito che include il flag IsolatedStorageScope. Machine</span><span class="sxs-lookup"><span data-stu-id="e04b6-215">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* [<span data-ttu-id="e04b6-216">IsolatedStorageFile. GetMachineStoreForApplication</span><span class="sxs-lookup"><span data-stu-id="e04b6-216">IsolatedStorageFile.GetMachineStoreForApplication</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforapplication)
* [<span data-ttu-id="e04b6-217">IsolatedStorageFile. GetMachineStoreForAssembly</span><span class="sxs-lookup"><span data-stu-id="e04b6-217">IsolatedStorageFile.GetMachineStoreForAssembly</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforassembly)
* [<span data-ttu-id="e04b6-218">IsolatedStorageFile. GetMachineStoreForDomain</span><span class="sxs-lookup"><span data-stu-id="e04b6-218">IsolatedStorageFile.GetMachineStoreForDomain</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestorefordomain)
* <span data-ttu-id="e04b6-219">[IsolatedStorageFile. GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passaggio di un ambito che include il flag IsolatedStorageScope. Machine</span><span class="sxs-lookup"><span data-stu-id="e04b6-219">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* <span data-ttu-id="e04b6-220">[IsolatedStorageFile. Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passaggio di un ambito che include il `IsolatedStorageScope.Machine` flag</span><span class="sxs-lookup"><span data-stu-id="e04b6-220">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passing a scope that includes the `IsolatedStorageScope.Machine` flag</span></span>

<span data-ttu-id="e04b6-221">Lo [strumento per lo spazio di memorizzazione isolato](/dotnet/framework/tools/storeadm-exe-isolated-storage-tool) `storeadm.exe` viene influenzato se viene chiamato con l' `/machine` opzione, come illustrato nel codice seguente:</span><span class="sxs-lookup"><span data-stu-id="e04b6-221">The [isolated storage tool](/dotnet/framework/tools/storeadm-exe-isolated-storage-tool) `storeadm.exe` is impacted if called with the `/machine` switch, as shown in the following code:</span></span>

```txt
storeadm.exe /machine [any-other-switches]
```

<span data-ttu-id="e04b6-222">Lo strumento spazio di memorizzazione isolato viene fornito come parte di Visual Studio e .NET Framework SDK.</span><span class="sxs-lookup"><span data-stu-id="e04b6-222">The isolated storage tool is provided as part of Visual Studio and the .NET Framework SDK.</span></span>

<span data-ttu-id="e04b6-223">Se l'applicazione non implica chiamate alle API precedenti o se il flusso di lavoro non comporta la chiamata `storeadm.exe` in questo modo, questo documento non è applicabile.</span><span class="sxs-lookup"><span data-stu-id="e04b6-223">If the application doesn't involve calls to the preceding APIs, or if the workflow doesn't involve calling `storeadm.exe` in this manner, this document doesn't apply.</span></span>

### <a name="impact-in-multi-user-environments"></a><span data-ttu-id="e04b6-224">Effetti sugli ambienti multiutente</span><span class="sxs-lookup"><span data-stu-id="e04b6-224">Impact in multi-user environments</span></span>

<span data-ttu-id="e04b6-225">Come indicato in precedenza, l'impatto sulla sicurezza di queste API risulta che i dati scritti da un ambiente di trust vengono letti da un ambiente di trust diverso.</span><span class="sxs-lookup"><span data-stu-id="e04b6-225">As mentioned previously, the security impact from these APIs results from data written from one trust environment is read from a different trust environment.</span></span> <span data-ttu-id="e04b6-226">Lo spazio di memorizzazione isolato USA in genere uno dei tre percorsi per leggere e scrivere i dati:</span><span class="sxs-lookup"><span data-stu-id="e04b6-226">Isolated storage generally uses one of three locations to read and write data:</span></span>

1. <span data-ttu-id="e04b6-227">`%LOCALAPPDATA%\IsolatedStorage\`: Ad esempio, `C:\Users\<username>\AppData\Local\IsolatedStorage\` per `User` ambito.</span><span class="sxs-lookup"><span data-stu-id="e04b6-227">`%LOCALAPPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Local\IsolatedStorage\`, for `User` scope.</span></span>
2. <span data-ttu-id="e04b6-228">`%APPDATA%\IsolatedStorage\`: Ad esempio, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\` per `User|Roaming` ambito.</span><span class="sxs-lookup"><span data-stu-id="e04b6-228">`%APPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\`, for `User|Roaming` scope.</span></span>
3. <span data-ttu-id="e04b6-229">`%PROGRAMDATA%\IsolatedStorage\`: Ad esempio, `C:\ProgramData\IsolatedStorage\` per `Machine` ambito.</span><span class="sxs-lookup"><span data-stu-id="e04b6-229">`%PROGRAMDATA%\IsolatedStorage\`: For example, `C:\ProgramData\IsolatedStorage\`, for `Machine` scope.</span></span>

<span data-ttu-id="e04b6-230">Le prime due posizioni sono isolate per utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-230">The first two locations are isolated per-user.</span></span> <span data-ttu-id="e04b6-231">Windows garantisce che diversi account utente nello stesso computer non possano accedere alle cartelle dei profili utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-231">Windows ensures that different user accounts on the same machine cannot access each other's user profile folders.</span></span> <span data-ttu-id="e04b6-232">Due account utente diversi che utilizzano gli `User` `User|Roaming` archivi o non vedranno i dati dell'altro e non possono interferire con i dati dell'altro.</span><span class="sxs-lookup"><span data-stu-id="e04b6-232">Two different user accounts who use the `User` or `User|Roaming` stores will not see each other's data and cannot interfere with each other's data.</span></span>

<span data-ttu-id="e04b6-233">La terza posizione è condivisa tra tutti gli account utente nel computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-233">The third location is shared across all user accounts on the machine.</span></span> <span data-ttu-id="e04b6-234">Account diversi possono leggere e scrivere in questo percorso e sono in grado di visualizzare i dati reciproci.</span><span class="sxs-lookup"><span data-stu-id="e04b6-234">Different accounts can read from and write to this location, and they're able to see each other's data.</span></span>

<span data-ttu-id="e04b6-235">I percorsi precedenti possono variare in base alla versione di Windows in uso.</span><span class="sxs-lookup"><span data-stu-id="e04b6-235">The preceding paths may differ based on the version of Windows in use.</span></span>

<span data-ttu-id="e04b6-236">Si consideri ora un sistema multiutente con due utenti registrati, _Mallory_ e _Bob_.</span><span class="sxs-lookup"><span data-stu-id="e04b6-236">Now consider a multi-user system with two registered users _Mallory_ and _Bob_.</span></span> <span data-ttu-id="e04b6-237">Mallory è in grado di accedere alla directory del profilo utente `C:\Users\Mallory\` e può accedere al percorso di archiviazione condiviso a livello di computer `C:\ProgramData\IsolatedStorage\` .</span><span class="sxs-lookup"><span data-stu-id="e04b6-237">Mallory has the ability to access her user profile directory `C:\Users\Mallory\`, and she can access the shared machine-wide storage location `C:\ProgramData\IsolatedStorage\`.</span></span> <span data-ttu-id="e04b6-238">Non riesce ad accedere alla directory del profilo utente di Bob `C:\Users\Bob\` .</span><span class="sxs-lookup"><span data-stu-id="e04b6-238">She cannot access Bob's user profile directory `C:\Users\Bob\`.</span></span>

<span data-ttu-id="e04b6-239">Se Mallory vuole attaccare Bob, potrebbe scrivere dati nel percorso di archiviazione a livello di computer, quindi provare a influenzare Bob nella lettura dall'archivio a livello di computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-239">If Mallory wishes to attack Bob, she might write data to the machine-wide storage location, then attempt to influence Bob into reading from the machine-wide store.</span></span> <span data-ttu-id="e04b6-240">Quando Bob esegue un'app che legge da questo archivio, l'app funzionerà sui dati di Mallory posizionati, ma dall'interno del contesto dell'account utente di Bob.</span><span class="sxs-lookup"><span data-stu-id="e04b6-240">When Bob runs an app that reads from this store, that app will operate on the data Mallory placed there, but from within the context of Bob's user account.</span></span> <span data-ttu-id="e04b6-241">Nella parte restante di questo documento vengono contemplate diversi vettori di attacco e le operazioni che le app possono eseguire per ridurre al minimo il rischio di questi attacchi.</span><span class="sxs-lookup"><span data-stu-id="e04b6-241">The remainder of this document contemplates various attack vectors and what steps apps can do to minimize their risk to these attacks.</span></span>

<span data-ttu-id="e04b6-242">__Nota:__ Per poter eseguire tale attacco, Mallory richiede:</span><span class="sxs-lookup"><span data-stu-id="e04b6-242">__Note:__ In order for such an attack to take place, Mallory requires:</span></span>

* <span data-ttu-id="e04b6-243">Un account utente nel computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-243">A user account on the machine.</span></span>
* <span data-ttu-id="e04b6-244">Possibilità di inserire un file in una posizione nota nella file system.</span><span class="sxs-lookup"><span data-stu-id="e04b6-244">The ability to place a file into a known location on the file system.</span></span>
* <span data-ttu-id="e04b6-245">Sapere che Bob a un certo punto eseguirà un'app che tenta di leggere i dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-245">Knowledge that Bob will at some point run an app which attempts to read this data.</span></span>

<span data-ttu-id="e04b6-246">Non si tratta di vettori di minaccia applicabili agli ambienti desktop a utente singolo standard, ad esempio i PC domestici o le workstation aziendali con singolo dipendente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-246">These are not threat vectors which apply to standard single-user desktop environments like home PCs or single-employee enterprise workstations.</span></span>

#### <a name="elevation-of-privilege"></a><span data-ttu-id="e04b6-247">Elevazione dei privilegi</span><span class="sxs-lookup"><span data-stu-id="e04b6-247">Elevation of privilege</span></span>

<span data-ttu-id="e04b6-248">Un attacco __di tipo elevazione dei privilegi__ si verifica quando l'app di Bob legge il file di Mallory e tenta automaticamente di eseguire un'azione in base al contenuto del payload.</span><span class="sxs-lookup"><span data-stu-id="e04b6-248">An __elevation of privilege__ attack occurs when Bob's app reads Mallory's file and automatically tries to take some action based on the contents of that payload.</span></span> <span data-ttu-id="e04b6-249">Si consideri un'app che legge il contenuto di uno script di avvio dall'archivio a livello di computer e passa tali contenuti a `Process.Start` .</span><span class="sxs-lookup"><span data-stu-id="e04b6-249">Consider an app that reads the contents of a startup script from the machine-wide store and passes those contents to `Process.Start`.</span></span> <span data-ttu-id="e04b6-250">Se Mallory può inserire uno script dannoso all'interno dell'archivio a livello di computer, quando Bob avvia l'app:</span><span class="sxs-lookup"><span data-stu-id="e04b6-250">If Mallory can place a malicious script inside the machine-wide store, when Bob launches his app:</span></span>

* <span data-ttu-id="e04b6-251">L'app analizza e avvia lo script dannoso di Mallory _nel contesto del profilo utente di Bob_.</span><span class="sxs-lookup"><span data-stu-id="e04b6-251">His app parses and launches Mallory's malicious script _under the context of Bob's user profile_.</span></span>
* <span data-ttu-id="e04b6-252">Accesso a Mallory Gaines all'account di Bob sul computer locale.</span><span class="sxs-lookup"><span data-stu-id="e04b6-252">Mallory gaines access to Bob's account on the local machine.</span></span>

#### <a name="denial-of-service"></a><span data-ttu-id="e04b6-253">Denial of Service</span><span class="sxs-lookup"><span data-stu-id="e04b6-253">Denial of service</span></span>

<span data-ttu-id="e04b6-254">Un attacco __Denial of Service__ si verifica quando l'app di Bob legge il file di Mallory e si arresta in modo anomalo o smette di funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-254">A __denial of service__ attack occurs when Bob's app reads Mallory's file and crashes or otherwise stops functioning correctly.</span></span> <span data-ttu-id="e04b6-255">Si consideri di nuovo l'app citata in precedenza, che tenta di analizzare uno script di avvio dall'archivio a livello di computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-255">Consider again the app mentioned previously, which attempts to parse a startup script from the machine-wide store.</span></span> <span data-ttu-id="e04b6-256">Se Mallory può inserire un file con contenuto non valido all'interno dell'archivio a livello di computer, potrebbe:</span><span class="sxs-lookup"><span data-stu-id="e04b6-256">If Mallory can place a file with malformed contents inside the machine-wide store, she might:</span></span>

* <span data-ttu-id="e04b6-257">Far sì che l'app di Bob generi un'eccezione prima nel percorso di avvio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-257">Cause Bob's app to throw an exception early in the startup path.</span></span>
* <span data-ttu-id="e04b6-258">Impedire l'avvio dell'app correttamente a causa dell'eccezione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-258">Prevent the app from launching successfully because of the exception.</span></span>

<span data-ttu-id="e04b6-259">Ha quindi negato a Bob la possibilità di avviare l'app con il proprio account utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-259">She has then denied Bob the ability to launch the app under his own user account.</span></span>

#### <a name="information-disclosure"></a><span data-ttu-id="e04b6-260">Divulgazione di informazioni</span><span class="sxs-lookup"><span data-stu-id="e04b6-260">Information disclosure</span></span>

<span data-ttu-id="e04b6-261">Un attacco di __divulgazione di informazioni__ si verifica quando Mallory può ingannare Bob per rivelare il contenuto di un file a cui Mallory non ha normalmente accesso.</span><span class="sxs-lookup"><span data-stu-id="e04b6-261">An __information disclosure__ attack occurs when Mallory can trick Bob into disclosing the contents of a file that Mallory does not normally have access to.</span></span> <span data-ttu-id="e04b6-262">Si tenga presente che Bob ha un file Secret *C:\Users\Bob\secret.txt* che Mallory desidera leggere.</span><span class="sxs-lookup"><span data-stu-id="e04b6-262">Consider that Bob has a secret file *C:\Users\Bob\secret.txt* that Mallory wants to read.</span></span> <span data-ttu-id="e04b6-263">Conosce il percorso di questo file, ma non è in grado di leggerlo perché Windows non consente di accedere alla directory dei profili utente di Bob.</span><span class="sxs-lookup"><span data-stu-id="e04b6-263">She knows the path to this file, but she cannot read it because Windows forbids her from gaining access to Bob's user profile directory.</span></span>

<span data-ttu-id="e04b6-264">Al contrario, Mallory inserisce un collegamento reale nell'archivio a livello di computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-264">Instead, Mallory places a hard link into the machine-wide store.</span></span> <span data-ttu-id="e04b6-265">Si tratta di un tipo speciale di file che non contiene alcun contenuto, bensì punta a un altro file su disco.</span><span class="sxs-lookup"><span data-stu-id="e04b6-265">This is a special kind of file that itself does not contain any contents, rather, it points to another file on disk.</span></span> <span data-ttu-id="e04b6-266">Il tentativo di leggere il file di collegamento reale leggerà invece il contenuto del file di destinazione del collegamento.</span><span class="sxs-lookup"><span data-stu-id="e04b6-266">Attempting to read the hard link file will instead read the contents of the file targeted by the link.</span></span> <span data-ttu-id="e04b6-267">Dopo aver creato il collegamento reale, Mallory non è ancora in grado di leggere il contenuto del file perché non ha accesso alla destinazione ( `C:\Users\Bob\secret.txt` ) del collegamento.</span><span class="sxs-lookup"><span data-stu-id="e04b6-267">After creating the hard link, Mallory still cannot read the file contents because she does not have access to the target (`C:\Users\Bob\secret.txt`) of the link.</span></span> <span data-ttu-id="e04b6-268">Tuttavia _, Bob ha_ accesso a questo file.</span><span class="sxs-lookup"><span data-stu-id="e04b6-268">However, Bob _does_ have access to this file.</span></span>

<span data-ttu-id="e04b6-269">Quando l'app Bob legge dall'archivio a livello di computer, ora legge inavvertitamente il contenuto del `secret.txt` file, proprio come se il file fosse presente nell'archivio a livello di computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-269">When Bob's app reads from the machine-wide store, it now inadvertently reads the contents of his `secret.txt` file, just as if the file itself had been present in the machine-wide store.</span></span> <span data-ttu-id="e04b6-270">Quando l'app di Bob viene chiusa, se tenta di risalvare il file nell'archivio a livello di computer, verrà posizionata una copia effettiva del file nella directory \* C:\ProgramData\IsolatedStorage \*</span><span class="sxs-lookup"><span data-stu-id="e04b6-270">When Bob's app exits, if it attempts to resave the file to the machine-wide store, it will end up placing an actual copy of the file in the \*C:\ProgramData\IsolatedStorage\* directory.</span></span> <span data-ttu-id="e04b6-271">Poiché questa directory è leggibile da qualsiasi utente nel computer, Mallory può ora leggere il contenuto del file.</span><span class="sxs-lookup"><span data-stu-id="e04b6-271">Since this directory is readable by any user on the machine, Mallory can now read the contents of the file.</span></span>

### <a name="best-practices-to-defend-against-these-attacks"></a><span data-ttu-id="e04b6-272">Procedure consigliate per la difesa da questi attacchi</span><span class="sxs-lookup"><span data-stu-id="e04b6-272">Best practices to defend against these attacks</span></span>

<span data-ttu-id="e04b6-273">__Importante:__ Se nell'ambiente sono presenti più utenti __non__ attendibili reciprocamente, non chiamare l'API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` o richiamare lo strumento `storeadm.exe /machine /list` .</span><span class="sxs-lookup"><span data-stu-id="e04b6-273">__Important:__ If your environment has multiple mutually untrusted users, __do not__ call the API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` or invoke the tool `storeadm.exe /machine /list`.</span></span> <span data-ttu-id="e04b6-274">Entrambi presuppongono che stiano operando su dati attendibili.</span><span class="sxs-lookup"><span data-stu-id="e04b6-274">Both of these assume that they're operating on trusted data.</span></span> <span data-ttu-id="e04b6-275">Se un utente malintenzionato può effettuare il seeding di un payload dannoso nell'archivio a livello di computer, tale payload può causare un attacco di elevazione dei privilegi nel contesto dell'utente che esegue questi comandi.</span><span class="sxs-lookup"><span data-stu-id="e04b6-275">If an attacker can seed a malicious payload in the machine-wide store, that payload can lead to an elevation of privilege attack under the context of the user who runs these commands.</span></span>

<span data-ttu-id="e04b6-276">Se si opera in un ambiente multiutente, riconsiderare l'utilizzo di funzionalità di spazio di memorizzazione isolato che hanno come destinazione l'ambito del _computer_ .</span><span class="sxs-lookup"><span data-stu-id="e04b6-276">If operating in a multi-user environment, reconsider use of isolated storage features which target the _Machine_ scope.</span></span> <span data-ttu-id="e04b6-277">Se un'app deve leggere i dati da un percorso a livello di computer, preferisce leggere i dati da un percorso scrivibile solo da account amministratore.</span><span class="sxs-lookup"><span data-stu-id="e04b6-277">If an app must read data from a machine-wide location, prefer to read the data from a location that are writable only by admin accounts.</span></span> <span data-ttu-id="e04b6-278">La `%PROGRAMFILES%` Directory e l' `HKLM` hive del registro di sistema sono esempi di percorsi scrivibili solo dagli amministratori e leggibili da tutti.</span><span class="sxs-lookup"><span data-stu-id="e04b6-278">The `%PROGRAMFILES%` directory and the `HKLM` registry hive are examples of locations which are writable by only administrators and readable by everyone.</span></span> <span data-ttu-id="e04b6-279">I dati letti da tali percorsi vengono pertanto considerati attendibili.</span><span class="sxs-lookup"><span data-stu-id="e04b6-279">Data read from those locations is therefore considered trustworthy.</span></span>

<span data-ttu-id="e04b6-280">Se un'app deve usare l'ambito del _computer_ in un ambiente multiutente, convalidare il contenuto di tutti i file letti dall'archivio a livello di computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-280">If an app must use the _Machine_ scope in a multi-user environment, validate the contents of any file that you read from the machine-wide store.</span></span> <span data-ttu-id="e04b6-281">Se l'app deserializza gli oggetti grafici da questi file, provare a usare serializzatori più sicuri, come `XmlSerializer` anziché serializzatori pericolosi come `BinaryFormatter` o `NetDataContractSerializer` .</span><span class="sxs-lookup"><span data-stu-id="e04b6-281">If the app deserializing object graphs from these files, consider using safer serializers like `XmlSerializer` instead of dangerous serializers like `BinaryFormatter` or `NetDataContractSerializer`.</span></span> <span data-ttu-id="e04b6-282">Prestare attenzione con gli oggetti grafici o gli oggetti grafici profondamente annidati che eseguono l'allocazione delle risorse in base al contenuto del file.</span><span class="sxs-lookup"><span data-stu-id="e04b6-282">Use caution with deeply nested object graphs or object graphs which perform resource allocation based on the file contents.</span></span>

<a name="isolated_storage_locations"></a>

## <a name="isolated-storage-locations"></a><span data-ttu-id="e04b6-283">Percorsi dello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-283">Isolated Storage Locations</span></span>

<span data-ttu-id="e04b6-284">Talvolta risulta utile verificare una modifica nello spazio di memorizzazione isolato utilizzando il file system del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e04b6-284">Sometimes it is helpful to verify a change to isolated storage by using the file system of the operating system.</span></span> <span data-ttu-id="e04b6-285">È possibile che si voglia conoscere il percorso dei file di spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-285">You might also want to know the location of isolated storage files.</span></span> <span data-ttu-id="e04b6-286">Il percorso varia in base al sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e04b6-286">This location is different depending on the operating system.</span></span> <span data-ttu-id="e04b6-287">Nella tabella che segue vengono illustrati i percorsi principali in cui viene creata l'archiviazione isolata in alcuni sistemi operativi.</span><span class="sxs-lookup"><span data-stu-id="e04b6-287">The following table shows the root locations where isolated storage is created on a few common operating systems.</span></span> <span data-ttu-id="e04b6-288">Cercare la directory Microsoft\IsolatedStorage in questo percorso radice.</span><span class="sxs-lookup"><span data-stu-id="e04b6-288">Look for Microsoft\IsolatedStorage directories under this root location.</span></span> <span data-ttu-id="e04b6-289">Per visualizzare cartelle e file nascosti, in modo da poter individuare l'archiviazione isolata nel file system, è necessario modificare le impostazioni della cartella.</span><span class="sxs-lookup"><span data-stu-id="e04b6-289">You must change folder settings to show hidden files and folders in order to see isolated storage in the file system.</span></span>

|<span data-ttu-id="e04b6-290">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="e04b6-290">Operating system</span></span>|<span data-ttu-id="e04b6-291">Percorso nel file system</span><span class="sxs-lookup"><span data-stu-id="e04b6-291">Location in file system</span></span>|
|----------------------|-----------------------------|
|<span data-ttu-id="e04b6-292">Windows 2000, Windows XP, Windows Server 2003 - (aggiornamento da Windows NT 4.0)</span><span class="sxs-lookup"><span data-stu-id="e04b6-292">Windows 2000, Windows XP, Windows Server 2003  (upgrade from Windows NT 4.0)</span></span>|<span data-ttu-id="e04b6-293">Archivi con supporto roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-293">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="e04b6-294">\<SYSTEMROOT>\Profiles \\<utente \> \Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-294">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="e04b6-295">Archivi non abilitati al roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-295">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="e04b6-296">\<SYSTEMROOT>\Profiles \\<utente \> \Impostazioni locali\Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-296">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="e04b6-297">Windows 2000 - installazione pulita (e aggiornamenti da Windows 98 e Windows NT 3.51)</span><span class="sxs-lookup"><span data-stu-id="e04b6-297">Windows 2000  - clean installation (and upgrades from Windows 98 and Windows NT 3.51)</span></span>|<span data-ttu-id="e04b6-298">Archivi con supporto roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-298">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="e04b6-299">\<SYSTEMDRIVE>\Documents and Settings \\<utente \> \Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-299">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="e04b6-300">Archivi non abilitati al roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-300">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="e04b6-301">\<SYSTEMDRIVE>\Documents and Settings \\<utente \> \Impostazioni locali\Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-301">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="e04b6-302">Windows XP, Windows Server 2003 - installazione pulita (e aggiornamenti da Windows 2000 e Windows 98)</span><span class="sxs-lookup"><span data-stu-id="e04b6-302">Windows XP, Windows Server 2003 - clean installation (and upgrades from Windows 2000 and Windows 98)</span></span>|<span data-ttu-id="e04b6-303">Archivi con supporto roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-303">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="e04b6-304">\<SYSTEMDRIVE>\Documents and Settings \\<utente \> \Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-304">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="e04b6-305">Archivi non abilitati al roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-305">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="e04b6-306">\<SYSTEMDRIVE>\Documents and Settings \\<utente \> \Impostazioni locali\Dati dati</span><span class="sxs-lookup"><span data-stu-id="e04b6-306">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="e04b6-307">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span><span class="sxs-lookup"><span data-stu-id="e04b6-307">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span></span>|<span data-ttu-id="e04b6-308">Archivi con supporto roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-308">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="e04b6-309">\<SYSTEMDRIVE>\Users \\<utente \> \AppData\Roaming</span><span class="sxs-lookup"><span data-stu-id="e04b6-309">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span></span><br /><br /> <span data-ttu-id="e04b6-310">Archivi non abilitati al roaming =</span><span class="sxs-lookup"><span data-stu-id="e04b6-310">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="e04b6-311">\<SYSTEMDRIVE>\Users \\<utente \> \AppData\Local</span><span class="sxs-lookup"><span data-stu-id="e04b6-311">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span></span>|

<a name="isolated_storage_tasks"></a>

## <a name="creating-enumerating-and-deleting-isolated-storage"></a><span data-ttu-id="e04b6-312">Creazione, enumerazione ed eliminazione dello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-312">Creating, Enumerating, and Deleting Isolated Storage</span></span>

<span data-ttu-id="e04b6-313">.NET Framework fornisce tre classi dello spazio dei nomi <xref:System.IO.IsolatedStorage> per aiutare ad eseguire attività che coinvolgono lo spazio di memorizzazione isolato:</span><span class="sxs-lookup"><span data-stu-id="e04b6-313">The .NET Framework provides three classes in the <xref:System.IO.IsolatedStorage> namespace to help you perform tasks that involve isolated storage:</span></span>

- <span data-ttu-id="e04b6-314"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, che deriva da <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> e fornisce la gestione di base di file di applicazione e assembly archiviati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-314"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, derives from <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> and provides basic management of stored assembly and application files.</span></span> <span data-ttu-id="e04b6-315">Un'istanza della classe <xref:System.IO.IsolatedStorage.IsolatedStorageFile> rappresenta un singolo archivio contenuto nel file system.</span><span class="sxs-lookup"><span data-stu-id="e04b6-315">An instance of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class represents a single store located in the file system.</span></span>

- <span data-ttu-id="e04b6-316"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> , che deriva da <xref:System.IO.FileStream?displayProperty=nameWithType> e fornisce l'accesso ai file di un archivio.</span><span class="sxs-lookup"><span data-stu-id="e04b6-316"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> derives from <xref:System.IO.FileStream?displayProperty=nameWithType> and provides access to the files in a store.</span></span>

- <span data-ttu-id="e04b6-317"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> è un'enumerazione che consente di creare e selezionare un archivio con il tipo di isolamento appropriato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-317"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> is an enumeration that enables you to create and select a store with the appropriate isolation type.</span></span>

<span data-ttu-id="e04b6-318">Le classi di archiviazione isolata consentono di creare, enumerare ed eliminare l'archiviazione isolata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-318">The isolated storage classes enable you to create, enumerate, and delete isolated storage.</span></span> <span data-ttu-id="e04b6-319">I metodi per l'esecuzione di queste attività sono disponibili tramite l'oggetto <xref:System.IO.IsolatedStorage.IsolatedStorageFile> .</span><span class="sxs-lookup"><span data-stu-id="e04b6-319">The methods for performing these tasks are available through the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="e04b6-320">Per alcune operazioni occorre disporre dell'autorizzazione <xref:System.Security.Permissions.IsolatedStorageFilePermission> , che rappresenta il diritto di amministrare lo spazio di memorizzazione isolato. Potrebbero essere necessari anche i diritti di sistema operativo per accedere al file o alla directory.</span><span class="sxs-lookup"><span data-stu-id="e04b6-320">Some operations require you to have the <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission that represents the right to administer isolated storage; you might also need to have operating system rights to access the file or directory.</span></span>

<span data-ttu-id="e04b6-321">Per una serie di esempi che illustrano le attività dello spazio di memorizzazione isolato comuni, vedere gli argomenti relativi alle procedure elencati in [Argomenti correlati](#related_topics).</span><span class="sxs-lookup"><span data-stu-id="e04b6-321">For a series of examples that demonstrate common isolated storage tasks, see the how-to topics listed in [Related Topics](#related_topics).</span></span>

<a name="scenarios_for_isolated_storage"></a>

## <a name="scenarios-for-isolated-storage"></a><span data-ttu-id="e04b6-322">Scenari per l'utilizzo dell'archiviazione isolata</span><span class="sxs-lookup"><span data-stu-id="e04b6-322">Scenarios for Isolated Storage</span></span>

<span data-ttu-id="e04b6-323">Lo spazio di memorizzazione isolato risulta utile in molte situazioni, inclusi i seguenti quattro scenari:</span><span class="sxs-lookup"><span data-stu-id="e04b6-323">Isolated storage is useful in many situations, including these four scenarios:</span></span>

- <span data-ttu-id="e04b6-324">Controlli di cui è stato eseguito il download.</span><span class="sxs-lookup"><span data-stu-id="e04b6-324">Downloaded controls.</span></span> <span data-ttu-id="e04b6-325">Ai controlli di codice gestito scaricati da Internet non è consentito scrivere sul disco fisso mediante le normali classi di I/O, ma è permesso l'utilizzo dell'archiviazione isolata per la memorizzazione degli stati dell'applicazione e delle impostazioni dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-325">Managed code controls downloaded from the Internet are not allowed to write to the hard drive through normal I/O classes, but they can use isolated storage to persist users' settings and application states.</span></span>

- <span data-ttu-id="e04b6-326">Archiviazione di componenti condivisi.</span><span class="sxs-lookup"><span data-stu-id="e04b6-326">Shared component storage.</span></span> <span data-ttu-id="e04b6-327">I componenti condivisi tra le applicazioni possono utilizzare l'archiviazione isolata per fornire accesso controllato agli archivi di dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-327">Components that are shared between applications can use isolated storage to provide controlled access to data stores.</span></span>

- <span data-ttu-id="e04b6-328">Archiviazione server.</span><span class="sxs-lookup"><span data-stu-id="e04b6-328">Server storage.</span></span> <span data-ttu-id="e04b6-329">Le applicazioni server possono utilizzare l'archiviazione isolata per fornire singoli archivi a un ampio numero di utenti che inoltrano richieste all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e04b6-329">Server applications can use isolated storage to provide individual stores for a large number of users making requests to the application.</span></span> <span data-ttu-id="e04b6-330">Poiché l'archiviazione isolata è sempre isolata dall'utente, il server deve impersonare l'utente che inoltra la richiesta.</span><span class="sxs-lookup"><span data-stu-id="e04b6-330">Because isolated storage is always segregated by user, the server must impersonate the user making the request.</span></span> <span data-ttu-id="e04b6-331">In questo caso, i dati vengono isolati in base all'identità del principale, che è la stessa usata dall'applicazione per distinguere gli utenti.</span><span class="sxs-lookup"><span data-stu-id="e04b6-331">In this case, data is isolated based on the identity of the principal, which is the same identity the application uses to distinguish between its users.</span></span>

- <span data-ttu-id="e04b6-332">Roaming.</span><span class="sxs-lookup"><span data-stu-id="e04b6-332">Roaming.</span></span> <span data-ttu-id="e04b6-333">Le applicazioni possono anche utilizzare l'archiviazione isolata con i profili di utente roaming.</span><span class="sxs-lookup"><span data-stu-id="e04b6-333">Applications can also use isolated storage with roaming user profiles.</span></span> <span data-ttu-id="e04b6-334">In questo modo gli archivi isolati di un utente possono spostarsi con il profilo.</span><span class="sxs-lookup"><span data-stu-id="e04b6-334">This allows a user's isolated stores to roam with the profile.</span></span>

<span data-ttu-id="e04b6-335">Non utilizzare lo spazio di memorizzazione isolato nelle seguenti situazioni:</span><span class="sxs-lookup"><span data-stu-id="e04b6-335">You should not use isolated storage in the following situations:</span></span>

- <span data-ttu-id="e04b6-336">Per archiviare informazioni segrete di grande importanza quali password o chiavi non crittografate, in quanto lo spazio di memorizzazione isolato non è protetto da codice a elevata attendibilità, da codice non gestito o da utenti attendibili del computer.</span><span class="sxs-lookup"><span data-stu-id="e04b6-336">To store high-value secrets, such as unencrypted keys or passwords, because isolated storage is not protected from highly trusted code, from unmanaged code, or from trusted users of the computer.</span></span>

- <span data-ttu-id="e04b6-337">Per archiviare codice.</span><span class="sxs-lookup"><span data-stu-id="e04b6-337">To store code.</span></span>

- <span data-ttu-id="e04b6-338">Per salvare le impostazioni di distribuzione e di configurazione controllate dagli amministratori.</span><span class="sxs-lookup"><span data-stu-id="e04b6-338">To store configuration and deployment settings, which administrators control.</span></span> <span data-ttu-id="e04b6-339">Si noti che le preferenze utente non sono considerate impostazioni di configurazione, poiché gli amministratori non le controllano.</span><span class="sxs-lookup"><span data-stu-id="e04b6-339">(User preferences are not considered to be configuration settings because administrators do not control them.)</span></span>

<span data-ttu-id="e04b6-340">Molte applicazioni utilizzano un database per memorizzare e isolare dati. In questo caso una o più righe di un database possono rappresentare l'archiviazione di un utente specifico.</span><span class="sxs-lookup"><span data-stu-id="e04b6-340">Many applications use a database to store and isolate data, in which case one or more rows in a database might represent storage for a specific user.</span></span> <span data-ttu-id="e04b6-341">È possibile utilizzare l'archiviazione isolata invece di un database quando il numero di utenti è ridotto, quando l'overhead per l'utilizzo di un database è notevole o quando non si dispone di un database.</span><span class="sxs-lookup"><span data-stu-id="e04b6-341">You might choose to use isolated storage instead of a database when the number of users is small, when the overhead of using a database is significant, or when no database facility exists.</span></span> <span data-ttu-id="e04b6-342">Inoltre, l'archiviazione isolata rappresenta una valida alternativa quando l'applicazione richiede un'archiviazione più flessibile e complessa di quanto non consenta una riga in un database.</span><span class="sxs-lookup"><span data-stu-id="e04b6-342">Also, when the application requires storage that is more flexible and complex than what a row in a database provides, isolated storage can provide a viable alternative.</span></span>

<a name="related_topics"></a>

## <a name="related-topics"></a><span data-ttu-id="e04b6-343">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="e04b6-343">Related Topics</span></span>

|<span data-ttu-id="e04b6-344">Titolo</span><span class="sxs-lookup"><span data-stu-id="e04b6-344">Title</span></span>|<span data-ttu-id="e04b6-345">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e04b6-345">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="e04b6-346">Tipi di isolamento</span><span class="sxs-lookup"><span data-stu-id="e04b6-346">Types of Isolation</span></span>](types-of-isolation.md)|<span data-ttu-id="e04b6-347">Vengono descritti i vari tipi di isolamento.</span><span class="sxs-lookup"><span data-stu-id="e04b6-347">Describes the different types of isolation.</span></span>|
|[<span data-ttu-id="e04b6-348">Procedura: Recuperare archivi per lo spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-348">How to: Obtain Stores for Isolated Storage</span></span>](how-to-obtain-stores-for-isolated-storage.md)|<span data-ttu-id="e04b6-349">Viene fornito un esempio di utilizzo della classe <xref:System.IO.IsolatedStorage.IsolatedStorageFile> per ottenere uno spazio di memorizzazione isolato in base all'utente e all'assembly.</span><span class="sxs-lookup"><span data-stu-id="e04b6-349">Provides an example of using the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class to obtain a store isolated by user and assembly.</span></span>|
|[<span data-ttu-id="e04b6-350">Procedura: Enumerare gli archivi per lo spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-350">How to: Enumerate Stores for Isolated Storage</span></span>](how-to-enumerate-stores-for-isolated-storage.md)|<span data-ttu-id="e04b6-351">Viene illustrato come utilizzare il metodo <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> per calcolare la dimensione dell'intero spazio di memorizzazione isolato dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e04b6-351">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> method to calculate the size of all isolated storage for the user.</span></span>|
|[<span data-ttu-id="e04b6-352">Procedura: Eliminare gli archivi nello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-352">How to: Delete Stores in Isolated Storage</span></span>](how-to-delete-stores-in-isolated-storage.md)|<span data-ttu-id="e04b6-353">Vengono illustrati i due possibili utilizzi del metodo <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> per l'eliminazione degli spazi di memorizzazione isolati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-353">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> method in two different ways to delete isolated stores.</span></span>|
|[<span data-ttu-id="e04b6-354">Procedura: Anticipare le condizioni di spazio insufficiente con lo spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-354">How to: Anticipate Out-of-Space Conditions with Isolated Storage</span></span>](how-to-anticipate-out-of-space-conditions-with-isolated-storage.md)|<span data-ttu-id="e04b6-355">Viene illustrato come misurare lo spazio rimanente in un archivio isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-355">Shows how to measure the remaining space in an isolated store.</span></span>|
|[<span data-ttu-id="e04b6-356">Procedura: Creare file e directory nello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-356">How to: Create Files and Directories in Isolated Storage</span></span>](how-to-create-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="e04b6-357">Vengono forniti alcuni esempi di creazione di file e directory in un archivio isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-357">Provides some examples of creating files and directories in an isolated store.</span></span>|
|[<span data-ttu-id="e04b6-358">Procedura: Trovare file e directory esistenti nello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-358">How to: Find Existing Files and Directories in Isolated Storage</span></span>](how-to-find-existing-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="e04b6-359">Viene illustrato come leggere la struttura di directory e i file dell'archiviazione isolata.</span><span class="sxs-lookup"><span data-stu-id="e04b6-359">Demonstrates how to read the directory structure and files in isolated storage.</span></span>|
|[<span data-ttu-id="e04b6-360">Procedura: Leggere e scrivere sui file nello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-360">How to: Read and Write to Files in Isolated Storage</span></span>](how-to-read-and-write-to-files-in-isolated-storage.md)|<span data-ttu-id="e04b6-361">Viene fornito un esempio di scrittura e rilettura di una stringa in un file di spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-361">Provides an example of writing a string to an isolated storage file and reading it back.</span></span>|
|[<span data-ttu-id="e04b6-362">Procedura: Eliminare file e directory nello spazio di memorizzazione isolato</span><span class="sxs-lookup"><span data-stu-id="e04b6-362">How to: Delete Files and Directories in Isolated Storage</span></span>](how-to-delete-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="e04b6-363">Viene illustrato come eliminare file e directory di uno spazio di memorizzazione isolato.</span><span class="sxs-lookup"><span data-stu-id="e04b6-363">Demonstrates how to delete isolated storage files and directories.</span></span>|
|[<span data-ttu-id="e04b6-364">I/O di file e di flussi</span><span class="sxs-lookup"><span data-stu-id="e04b6-364">File and Stream I/O</span></span>](index.md)|<span data-ttu-id="e04b6-365">Illustra le modalità di esecuzione di un file sincrono e asincrono e dell'accesso al flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="e04b6-365">Explains how you can perform synchronous and asynchronous file and data stream access.</span></span>|

<a name="reference"></a>

## <a name="reference"></a><span data-ttu-id="e04b6-366">Riferimento</span><span class="sxs-lookup"><span data-stu-id="e04b6-366">Reference</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFileStream?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageScope?displayProperty=nameWithType>
