---
title: .NET Portability Analyzer | .NET
description: Informazioni su come usare lo strumento .NET Portability Analyzer per valutare la portabilità del codice tra le diverse implementazioni di .NET, inclusi .NET Core, .NET Standard, UWP e Xamarin.
ms.date: 09/13/2019
ms.technology: dotnet-standard
ms.assetid: 0375250f-5704-4993-a6d5-e21c499cea1e
ms.openlocfilehash: 8d019bef5fddac9f7c3d93e416cea061905c82ff
ms.sourcegitcommit: 7370aa8203b6036cea1520021b5511d0fd994574
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/02/2020
ms.locfileid: "82728450"
---
# <a name="the-net-portability-analyzer"></a><span data-ttu-id="60f99-103">.NET Portability Analyzer</span><span class="sxs-lookup"><span data-stu-id="60f99-103">The .NET Portability Analyzer</span></span>

<span data-ttu-id="60f99-104">È possibile fare in modo che le librerie in uso supportino architetture multi-piattaforma</span><span class="sxs-lookup"><span data-stu-id="60f99-104">Want to make your libraries support multi-platform?</span></span> <span data-ttu-id="60f99-105">Si vuole vedere quanto lavoro è necessario per l'esecuzione dell'applicazione .NET Framework in .NET Core?</span><span class="sxs-lookup"><span data-stu-id="60f99-105">Want to see how much work is required to make your .NET Framework application run on .NET Core?</span></span> <span data-ttu-id="60f99-106">[.NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) è uno strumento che analizza gli assembly e fornisce un report dettagliato sulle API .NET mancanti affinché le applicazioni o le librerie siano portabili sulle piattaforme .NET di destinazione specificate.</span><span class="sxs-lookup"><span data-stu-id="60f99-106">The [.NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) is a tool that analyzes assemblies and provides a detailed report on .NET APIs that are missing for the applications or libraries to be portable on your specified targeted .NET platforms.</span></span> <span data-ttu-id="60f99-107">Portability Analyzer è offerto come [estensione di Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), che analizza un assembly per ogni progetto e come [app console ApiPort](https://aka.ms/apiportdownload), che analizza gli assembly in base ai file o alla directory specificati.</span><span class="sxs-lookup"><span data-stu-id="60f99-107">The Portability Analyzer is offered as a [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), which analyzes one assembly per project, and as a [ApiPort console app](https://aka.ms/apiportdownload), which analyzes assemblies by specified files or directory.</span></span>

<span data-ttu-id="60f99-108">Dopo aver convertito il progetto in modo che sia destinato alla nuova piattaforma, ad esempio .NET Core, è possibile usare lo [strumento Analizzatore di API](api-analyzer.md) basato su <xref:System.PlatformNotSupportedException> Roslyn per identificare le API che generano eccezioni e altri problemi di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="60f99-108">Once you've converted your project to target the new platform, like .NET Core, you can use the Roslyn-based [API Analyzer tool](api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> exceptions and other compatibility issues.</span></span>

## <a name="common-targets"></a><span data-ttu-id="60f99-109">Destinazioni comuni</span><span class="sxs-lookup"><span data-stu-id="60f99-109">Common targets</span></span>

- <span data-ttu-id="60f99-110">[.NET Core](../../core/index.yml): ha una struttura modulare, con assembly affiancato ed è destinato a scenari multi-piattaforma.</span><span class="sxs-lookup"><span data-stu-id="60f99-110">[.NET Core](../../core/index.yml): Has a modular design, employs side-by-side, and targets cross-platform scenarios.</span></span> <span data-ttu-id="60f99-111">La modalità affiancata consente di adottare le nuove versioni di .NET Core senza interrompere le altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="60f99-111">Side-by-side allows you to adopt new .NET Core versions without breaking other apps.</span></span> <span data-ttu-id="60f99-112">Se l'obiettivo è di convertire l'app in una versione di .NET Core che supporta architetture multipiattaforma, questa è la destinazione consigliata.</span><span class="sxs-lookup"><span data-stu-id="60f99-112">If your goal is to port your app to .NET Core supporting cross-platforms, this is the recommended target.</span></span>
- <span data-ttu-id="60f99-113">. [NET standard](../../standard/net-standard.md): include le API .NET standard disponibili in tutte le implementazioni di .NET.</span><span class="sxs-lookup"><span data-stu-id="60f99-113">.[NET Standard](../../standard/net-standard.md): Includes the .NET Standard APIs available on all .NET implementations.</span></span> <span data-ttu-id="60f99-114">Se l'obiettivo è poter eseguire la libreria in tutte le piattaforme supportate da .NET, questa è la destinazione consigliata.</span><span class="sxs-lookup"><span data-stu-id="60f99-114">If your goal is to make your library to run on all .NET supported platforms, this is recommended target.</span></span>
- <span data-ttu-id="60f99-115">[ASP.NET Core](/aspnet/core): un framework Web moderno basato su .NET Core.</span><span class="sxs-lookup"><span data-stu-id="60f99-115">[ASP.NET Core](/aspnet/core): A modern web-framework built on .NET Core.</span></span> <span data-ttu-id="60f99-116">Se l'obiettivo è di convertire l'app Web in .NET Core per supportare più piattaforme, questa è la destinazione consigliata.</span><span class="sxs-lookup"><span data-stu-id="60f99-116">If your goal is to port your web app to .NET Core to support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="60f99-117">.NET Core + [estensioni della piattaforma](../../core/porting/windows-compat-pack.md): include le API di .NET Core, oltre a Windows Compatibility Pack, che offre molte delle .NET Framework tecnologie disponibili.</span><span class="sxs-lookup"><span data-stu-id="60f99-117">.NET Core + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Core APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="60f99-118">Questa è una destinazione consigliata per la conversione dell'app da .NET Framework a .NET Core in Windows.</span><span class="sxs-lookup"><span data-stu-id="60f99-118">This is a recommended target for porting your app from .NET Framework to .NET Core on Windows.</span></span>
- <span data-ttu-id="60f99-119">.NET Standard + [estensioni della piattaforma](../../core/porting/windows-compat-pack.md): include le API .NET standard, oltre a Windows Compatibility Pack, che offre molte delle tecnologie .NET Framework disponibili.</span><span class="sxs-lookup"><span data-stu-id="60f99-119">.NET Standard + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Standard APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="60f99-120">Questa è una destinazione consigliata per la conversione della libreria da .NET Framework a .NET Core in Windows.</span><span class="sxs-lookup"><span data-stu-id="60f99-120">This is a recommended target for porting your library from .NET Framework to .NET Core on Windows.</span></span>

## <a name="how-to-use-the-net-portability-analyzer"></a><span data-ttu-id="60f99-121">Come usare .NET Portability Analyzer</span><span class="sxs-lookup"><span data-stu-id="60f99-121">How to use the .NET Portability Analyzer</span></span>

<span data-ttu-id="60f99-122">Per iniziare a usare .NET Portability Analyzer in Visual Studio, è prima necessario scaricare l'estensione da [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer) e installarla.</span><span class="sxs-lookup"><span data-stu-id="60f99-122">To begin using the .NET Portability Analyzer in Visual Studio, you first need to download and install the extension from the [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span></span> <span data-ttu-id="60f99-123">Funziona in Visual Studio 2017 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="60f99-123">It works on Visual Studio 2017 and later versions.</span></span> <span data-ttu-id="60f99-124">È possibile configurarlo in Visual Studio tramite **analizza** > **le impostazioni di Portability Analyzer** e selezionare le piattaforme di destinazione, ovvero le piattaforme .NET e le versioni di cui si vuole valutare i gap di portabilità rispetto alla piattaforma/versione con cui viene compilato l'assembly corrente.</span><span class="sxs-lookup"><span data-stu-id="60f99-124">Configure it in Visual Studio via **Analyze** > **Portability Analyzer Settings** and select your Target Platforms, which are the .NET platforms/versions that you want to evaluate the portability gaps comparing with the platform/version that your current assembly is built with.</span></span>

![Screenshot di Portability Analyzer.](./media/portability-analyzer/portability-screenshot.png)

<span data-ttu-id="60f99-126">È anche possibile usare l'applicazione console ApiPort, scaricandola dal [repository ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="60f99-126">You can also use the ApiPort console application, download it from [ApiPort repository](https://aka.ms/apiportdownload).</span></span> <span data-ttu-id="60f99-127">È possibile usare l'opzione di comando `listTargets` per visualizzare l'elenco di destinazioni disponibili e quindi selezionare le piattaforme di destinazione specificando l'opzione di comando `-t` o `--target`.</span><span class="sxs-lookup"><span data-stu-id="60f99-127">You can use `listTargets` command option to display the available target list, then pick target platforms by specifying `-t` or `--target` command option.</span></span>

### <a name="analyze-portability"></a><span data-ttu-id="60f99-128">Analizzare la portabilità</span><span class="sxs-lookup"><span data-stu-id="60f99-128">Analyze portability</span></span>
<span data-ttu-id="60f99-129">Per analizzare l'intero progetto in Visual Studio, fare clic con il pulsante destro del mouse sul progetto in **Esplora soluzioni** e selezionare **Analyze Assembly Portability** (Analizza portabilità dell'assembly).</span><span class="sxs-lookup"><span data-stu-id="60f99-129">To analyze your entire project in Visual Studio, right-click on your project in **Solution Explorer** and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="60f99-130">In caso contrario, accedere al menu **Analizza** e selezionare **Analyze Assembly Portability** (Analizza portabilità assembly).</span><span class="sxs-lookup"><span data-stu-id="60f99-130">Otherwise, go to the **Analyze** menu and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="60f99-131">Da qui selezionare il file eseguibile o la DLL del progetto.</span><span class="sxs-lookup"><span data-stu-id="60f99-131">From there, select your project's executable or DLL.</span></span>

![Screenshot di Portability Analyzer da Esplora soluzioni.](./media/portability-analyzer/portability-solution-explorer.png)

<span data-ttu-id="60f99-133">È anche possibile usare l'[app console ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="60f99-133">You can also use the [ApiPort console app](https://aka.ms/apiportdownload).</span></span>

- <span data-ttu-id="60f99-134">Digitare il comando seguente per analizzare la directory corrente: `ApiPort.exe analyze -f .`</span><span class="sxs-lookup"><span data-stu-id="60f99-134">Type the following command to analyze the current directory: `ApiPort.exe analyze -f .`</span></span>
- <span data-ttu-id="60f99-135">Per analizzare un elenco specifico di file con estensione dll, digitare il comando seguente: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span><span class="sxs-lookup"><span data-stu-id="60f99-135">To analyze a specific list of .dll files, type the following command: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span></span>
- <span data-ttu-id="60f99-136">Per altre informazioni, eseguire il comando `ApiPort.exe -?`</span><span class="sxs-lookup"><span data-stu-id="60f99-136">Run `ApiPort.exe -?` to get more help</span></span>

<span data-ttu-id="60f99-137">È consigliabile includere tutti i file con estensione exe e dll correlati disponibili che si vogliono convertire, escludendo i file da cui l'app dipende, ma di cui non si ha la proprietà e che non si è in grado di convertire.</span><span class="sxs-lookup"><span data-stu-id="60f99-137">It is recommended that you include all the related exe and dll files that you own and want to port, and exclude the files that your app depends on, but you don't own and can't port.</span></span> <span data-ttu-id="60f99-138">Questa operazione consentirà di ottenere il report di portabilità più pertinente possibile.</span><span class="sxs-lookup"><span data-stu-id="60f99-138">This will give you most relevant portability report.</span></span>

### <a name="view-and-interpret-portability-result"></a><span data-ttu-id="60f99-139">Visualizzare e interpretare i risultati di portabilità</span><span class="sxs-lookup"><span data-stu-id="60f99-139">View and interpret portability result</span></span>

<span data-ttu-id="60f99-140">Nel report sono visualizzate solo le API non supportate da una piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="60f99-140">Only APIs that are unsupported by a Target Platform appear in the report.</span></span>
<span data-ttu-id="60f99-141">Dopo aver eseguito l'analisi in Visual Studio, si vedrà comparire il collegamento al file del report sulla portabilità .NET.</span><span class="sxs-lookup"><span data-stu-id="60f99-141">After running the analysis in Visual Studio, you'll see your .NET Portability report file link pops up.</span></span> <span data-ttu-id="60f99-142">Se è stata usata l'[app console ApiPort](https://aka.ms/apiportdownload), il report sulla portabilità .NET è stato salvato in un file nel formato specificato.</span><span class="sxs-lookup"><span data-stu-id="60f99-142">If you used the [ApiPort console app](https://aka.ms/apiportdownload), your .NET Portability report is saved as a file in the format you specified.</span></span> <span data-ttu-id="60f99-143">Il valore predefinito corrisponde a un file di Excel (*xlsx*) nella directory corrente.</span><span class="sxs-lookup"><span data-stu-id="60f99-143">The default is in an Excel file (*.xlsx*) in your current directory.</span></span>

#### <a name="portability-summary"></a><span data-ttu-id="60f99-144">Riepilogo della portabilità</span><span class="sxs-lookup"><span data-stu-id="60f99-144">Portability Summary</span></span>

![Screenshot del riepilogo della portabilità.](./media/portability-analyzer/api-catalog-portablility-summary.png)

<span data-ttu-id="60f99-146">La sezione Portability Summary (Riepilogo della portabilità) del report indica la percentuale di portabilità per ogni assembly incluso nell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="60f99-146">The Portability Summary section of the report shows the portability percentage for each assembly included in the run.</span></span> <span data-ttu-id="60f99-147">Nell'esempio precedente, il 71,24% delle API .NET Framework usate nell'app `svcutil` sono disponibili in .NET Core + Estensioni della piattaforma.</span><span class="sxs-lookup"><span data-stu-id="60f99-147">In the previous example, 71.24% of the .NET Framework APIs used in the `svcutil` app are available in .NET Core + Platform Extensions.</span></span> <span data-ttu-id="60f99-148">Se si esegue lo strumento .NET Portability Analyzer per più assembly, per ognuno di questi deve essere presente una riga nel report di riepilogo della portabilità.</span><span class="sxs-lookup"><span data-stu-id="60f99-148">If you run the .NET Portability Analyzer tool against multiple assemblies, each assembly should have a row in the Portability Summary report.</span></span>

#### <a name="details"></a><span data-ttu-id="60f99-149">Dettagli</span><span class="sxs-lookup"><span data-stu-id="60f99-149">Details</span></span>

![Schermata dei dettagli relativi alla portabilità.](./media/portability-analyzer/api-catalog-portablility-details.png)

<span data-ttu-id="60f99-151">La sezione dei **Dettagli** del report elenca le API mancanti da una delle piattaforme di **destinazione**selezionate.</span><span class="sxs-lookup"><span data-stu-id="60f99-151">The **Details** section of the report lists the APIs missing from any of the selected **Targeted Platforms**.</span></span>

- <span data-ttu-id="60f99-152">Target type (Tipo di destinazione): per il tipo manca un'API da una piattaforma di destinazione</span><span class="sxs-lookup"><span data-stu-id="60f99-152">Target type: the type has missing API from a Target Platform</span></span>
- <span data-ttu-id="60f99-153">Target member (Membro di destinazione): il metodo manca da una piattaforma di destinazione</span><span class="sxs-lookup"><span data-stu-id="60f99-153">Target member: the method is missing from a Target Platform</span></span>
- <span data-ttu-id="60f99-154">Assembly name (Nome dell'assembly): assembly .NET Framework in cui deve trovarsi l'API mancante.</span><span class="sxs-lookup"><span data-stu-id="60f99-154">Assembly name: the .NET Framework assembly that the missing API lives in.</span></span>
- <span data-ttu-id="60f99-155">Ognuna delle piattaforme di destinazione selezionate è una colonna, ad esempio ".NET Core": il valore "non supportato" indica che l'API non è supportata in questa piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="60f99-155">Each of the selected Target Platforms is one column, such as ".NET Core": "Not supported" value means the API is not supported on this Target Platform.</span></span>
- <span data-ttu-id="60f99-156">Modifiche consigliate: l'API o la tecnologia consigliata per passare a.</span><span class="sxs-lookup"><span data-stu-id="60f99-156">Recommended Changes: the recommended API or technology to change to.</span></span> <span data-ttu-id="60f99-157">Attualmente, questo campo è vuoto o non aggiornato per molte API.</span><span class="sxs-lookup"><span data-stu-id="60f99-157">Currently, this field is empty or out of date for many APIs.</span></span> <span data-ttu-id="60f99-158">A causa dell'elevato numero di API, abbiamo una sfida significativa per mantenerla aggiornata.</span><span class="sxs-lookup"><span data-stu-id="60f99-158">Due to the large number of APIs, we have a significant challenge to keep it up-to-date.</span></span> <span data-ttu-id="60f99-159">Stiamo esaminando soluzioni alternative per fornire informazioni utili ai clienti.</span><span class="sxs-lookup"><span data-stu-id="60f99-159">We are looking at alternative solutions to provide helpful information to customers.</span></span>

#### <a name="missing-assemblies"></a><span data-ttu-id="60f99-160">Assembly mancanti</span><span class="sxs-lookup"><span data-stu-id="60f99-160">Missing Assemblies</span></span>

![Screenshot degli assembly mancanti.](./media/portability-analyzer/api-catalog-missing-assemblies.png)

<span data-ttu-id="60f99-162">Nel report può essere presente la sezione Missing Assemblies (Assembly mancanti).</span><span class="sxs-lookup"><span data-stu-id="60f99-162">You may find a Missing Assemblies section in your report.</span></span> <span data-ttu-id="60f99-163">Questa sezione contiene un elenco di assembly a cui fanno riferimento gli assembly analizzati e che non sono stati analizzati.</span><span class="sxs-lookup"><span data-stu-id="60f99-163">This section contains a list of assemblies that are referenced by your analyzed assemblies and were not analyzed.</span></span> <span data-ttu-id="60f99-164">Se si tratta di un assembly di cui si è proprietari, includerlo in API Portability Analyzer, in modo che sia possibile ottenere un report dettagliato di portabilità a livello di API.</span><span class="sxs-lookup"><span data-stu-id="60f99-164">If it's an assembly that you own, include it in the API portability analyzer run so that you can get a detailed, API-level portability report for it.</span></span> <span data-ttu-id="60f99-165">Se si tratta di una libreria di terze parti, verificare se è presente una versione più recente che supporta la piattaforma di destinazione e provare a eseguire il passaggio alla versione più recente.</span><span class="sxs-lookup"><span data-stu-id="60f99-165">If it's a third-party library, check if there is a newer version that supports your target platform, and consider moving to the newer version.</span></span> <span data-ttu-id="60f99-166">Infine, l'elenco deve includere tutti gli assembly di terze parti da cui dipende l'app che dispongono di una versione che supporta la piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="60f99-166">Eventually, the list should include all the third-party assemblies that your app depends on that have a version supporting your target platform.</span></span>

<span data-ttu-id="60f99-167">Per altre informazioni su .NET Portability Analyzer, vedere la [documentazione di GitHub](https://github.com/Microsoft/dotnet-apiport#documentation) e il video [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) (Panoramica rapida di .NET Portability Analyzer) in Channel 9.</span><span class="sxs-lookup"><span data-stu-id="60f99-167">For more information on the .NET Portability Analyzer, visit the [GitHub documentation](https://github.com/Microsoft/dotnet-apiport#documentation) and [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) Channel 9 video.</span></span>
