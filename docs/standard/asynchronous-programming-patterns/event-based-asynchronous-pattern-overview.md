---
title: Cenni preliminari sul modello asincrono basato su eventi
description: Esaminare i modelli asincroni basati su eventi (EAPs) in .NET, che rendono disponibili i vantaggi delle applicazioni multithreading, ma nascondono alcune complessità di progettazione.
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Event-based Asynchronous Pattern
- ProgressChangedEventArgs class
- BackgroundWorker component
- events [.NET Framework], asynchronous
- Asynchronous Pattern
- AsyncOperationManager class
- threading [.NET Framework], asynchronous features
- AsyncOperation class
- AsyncCompletedEventArgs class
ms.assetid: 792aa8da-918b-458e-b154-9836b97735f3
ms.openlocfilehash: 18fbdb29e5a1fb02601dea00964538144c07122c
ms.sourcegitcommit: 5fd4696a3e5791b2a8c449ccffda87f2cc2d4894
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/15/2020
ms.locfileid: "84768859"
---
# <a name="event-based-asynchronous-pattern-overview"></a><span data-ttu-id="38107-103">Cenni preliminari sul modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-103">Event-based Asynchronous Pattern Overview</span></span>
<span data-ttu-id="38107-104">Le applicazioni che eseguono più attività contemporaneamente, pur rimanendo disponibili all'utente, richiedono spesso una progettazione che preveda l'uso di più thread.</span><span class="sxs-lookup"><span data-stu-id="38107-104">Applications that perform many tasks simultaneously, yet remain responsive to user interaction, often require a design that uses multiple threads.</span></span> <span data-ttu-id="38107-105">Lo spazio dei nomi <xref:System.Threading> offre tutti gli strumenti necessari per creare applicazioni multithreading a elevate prestazioni, per l'uso dei quali è necessaria tuttavia una notevole esperienza nel campo dell'ingegneria del software multithreading.</span><span class="sxs-lookup"><span data-stu-id="38107-105">The <xref:System.Threading> namespace provides all the tools necessary to create high-performance multithreaded applications, but using these tools effectively requires significant experience with multithreaded software engineering.</span></span> <span data-ttu-id="38107-106">Per applicazioni multithreading relativamente semplici, il componente <xref:System.ComponentModel.BackgroundWorker> rappresenta una soluzione adeguata.</span><span class="sxs-lookup"><span data-stu-id="38107-106">For relatively simple multithreaded applications, the <xref:System.ComponentModel.BackgroundWorker> component provides a straightforward solution.</span></span> <span data-ttu-id="38107-107">Per applicazioni asincrone più complesse, si consiglia di implementare una classe che segua il modello asincrono basato su eventi.</span><span class="sxs-lookup"><span data-stu-id="38107-107">For more sophisticated asynchronous applications, consider implementing a class that adheres to the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="38107-108">Tale modello consente di usufruire dei vantaggi offerti dalle applicazioni multithreading nascondendo al contempo gran parte degli aspetti complessi inerenti la progettazione multithreading.</span><span class="sxs-lookup"><span data-stu-id="38107-108">The Event-based Asynchronous Pattern makes available the advantages of multithreaded applications while hiding many of the complex issues inherent in multithreaded design.</span></span> <span data-ttu-id="38107-109">L'uso di una classe che supporta questo modello consente di:</span><span class="sxs-lookup"><span data-stu-id="38107-109">Using a class that supports this pattern can allow you to:</span></span>  
  
- <span data-ttu-id="38107-110">Eseguire in background attività che richiedono una quantità eccessiva di tempo, come download e operazioni di database, senza interrompere l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38107-110">Perform time-consuming tasks, such as downloads and database operations, "in the background," without interrupting your application.</span></span>  
  
- <span data-ttu-id="38107-111">Eseguire più operazioni contemporaneamente, ricevendo notifiche relative al completamento di ognuna.</span><span class="sxs-lookup"><span data-stu-id="38107-111">Execute multiple operations simultaneously, receiving notifications when each completes.</span></span>  
  
- <span data-ttu-id="38107-112">Attendere la disponibilità delle risorse senza interrompere o bloccare l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="38107-112">Wait for resources to become available without stopping ("blocking") your application.</span></span>  
  
- <span data-ttu-id="38107-113">Comunicare con operazioni asincrone in sospeso mediante un modello noto di eventi e delegati.</span><span class="sxs-lookup"><span data-stu-id="38107-113">Communicate with pending asynchronous operations using the familiar events-and-delegates model.</span></span> <span data-ttu-id="38107-114">Per altre informazioni sull'uso di gestori eventi e delegati, vedere [Eventi](../events/index.md).</span><span class="sxs-lookup"><span data-stu-id="38107-114">For more information on using event handlers and delegates, see [Events](../events/index.md).</span></span>  
  
 <span data-ttu-id="38107-115">Una classe che supporta il modello asincrono basato su eventi avrà uno o più metodi denominati _NomeMetodo_**Async**.</span><span class="sxs-lookup"><span data-stu-id="38107-115">A class that supports the Event-based Asynchronous Pattern will have one or more methods named _MethodName_**Async**.</span></span> <span data-ttu-id="38107-116">Tali metodi possono eseguire il mirroring delle versioni sincrone che eseguono la stessa operazione sul thread corrente.</span><span class="sxs-lookup"><span data-stu-id="38107-116">These methods may mirror synchronous versions, which perform the same operation on the current thread.</span></span> <span data-ttu-id="38107-117">La classe può anche avere un evento _NomeMetodo_**Completed** e un metodo _NomeMetodo_**AsyncCancel** (o semplicemente **CancelAsync**).</span><span class="sxs-lookup"><span data-stu-id="38107-117">The class may also have a _MethodName_**Completed** event and it may have a _MethodName_**AsyncCancel** (or simply **CancelAsync**) method.</span></span>  
  
 <span data-ttu-id="38107-118"><xref:System.Windows.Forms.PictureBox> è un componente tipico che supporta il modello asincrono basato su eventi.</span><span class="sxs-lookup"><span data-stu-id="38107-118"><xref:System.Windows.Forms.PictureBox> is a typical component that supports the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="38107-119">Per scaricare un'immagine in modo sincrono è possibile chiamare il relativo metodo <xref:System.Windows.Forms.PictureBox.Load%2A>, ma qualora le dimensioni dell'immagine fossero eccessive o la connessione di rete troppo lenta, l'esecuzione dell'applicazione verrà interrotta fino al completamento dell'operazione di download e alla restituzione della chiamata a <xref:System.Windows.Forms.PictureBox.Load%2A>.</span><span class="sxs-lookup"><span data-stu-id="38107-119">You can download an image synchronously by calling its <xref:System.Windows.Forms.PictureBox.Load%2A> method, but if the image is large, or if the network connection is slow, your application will stop responding until the download operation is completed and the call to <xref:System.Windows.Forms.PictureBox.Load%2A> returns.</span></span>  
  
 <span data-ttu-id="38107-120">Per lasciare che l'applicazione continui a essere eseguita durante il caricamento dell'immagine, è possibile chiamare il metodo <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> e gestire l'evento <xref:System.Windows.Forms.PictureBox.LoadCompleted> analogamente a qualsiasi altro evento.</span><span class="sxs-lookup"><span data-stu-id="38107-120">If you want your application to keep running while the image is loading, you can call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method and handle the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event, just as you would handle any other event.</span></span> <span data-ttu-id="38107-121">Quando si chiama il metodo <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> l'esecuzione dell'applicazione procede mentre l'operazione di download continua su un altro thread, in background.</span><span class="sxs-lookup"><span data-stu-id="38107-121">When you call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method, your application will continue to run while the download proceeds on a separate thread ("in the background").</span></span> <span data-ttu-id="38107-122">Al termine dell'operazione di caricamento dell'immagine verrà chiamato il gestore eventi che potrà esaminare il parametro <xref:System.ComponentModel.AsyncCompletedEventArgs> per determinare se il download è stato eseguito.</span><span class="sxs-lookup"><span data-stu-id="38107-122">Your event handler will be called when the image-loading operation is complete, and your event handler can examine the <xref:System.ComponentModel.AsyncCompletedEventArgs> parameter to determine if the download completed successfully.</span></span>  
  
 <span data-ttu-id="38107-123">Il modello asincrono basato su eventi richiede la possibilità di annullare un'operazione asincrona, requisito supportato dal controllo <xref:System.Windows.Forms.PictureBox> per mezzo del relativo metodo <xref:System.Windows.Forms.PictureBox.CancelAsync%2A>.</span><span class="sxs-lookup"><span data-stu-id="38107-123">The Event-based Asynchronous Pattern requires that an asynchronous operation can be canceled, and the <xref:System.Windows.Forms.PictureBox> control supports this requirement with its <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> method.</span></span> <span data-ttu-id="38107-124">La chiamata del metodo <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> determina l'invio di una richiesta di interruzione del download in sospeso. Quando l'attività viene annullata, viene generato l'evento <xref:System.Windows.Forms.PictureBox.LoadCompleted>.</span><span class="sxs-lookup"><span data-stu-id="38107-124">Calling <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> submits a request to stop the pending download, and when the task is canceled, the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event is raised.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="38107-125">Il download potrebbe terminare non appena viene effettuata la richiesta di <xref:System.Windows.Forms.PictureBox.CancelAsync%2A>. In tal caso, la proprietà <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> potrebbe non riflettere la richiesta di annullamento.</span><span class="sxs-lookup"><span data-stu-id="38107-125">It is possible that the download will finish just as the <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> request is made, so <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> may not reflect the request to cancel.</span></span> <span data-ttu-id="38107-126">Si tratta di una *race condition*, ovvero di un problema riscontrato comunemente nella programmazione multithreading.</span><span class="sxs-lookup"><span data-stu-id="38107-126">This is called a *race condition* and is a common issue in multithreaded programming.</span></span> <span data-ttu-id="38107-127">Per altre informazioni sui problemi inerenti la programmazione multithreading, vedere [Procedure consigliate per il threading gestito](../threading/managed-threading-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="38107-127">For more information on issues in multithreaded programming, see [Managed Threading Best Practices](../threading/managed-threading-best-practices.md).</span></span>  
  
## <a name="characteristics-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="38107-128">Caratteristiche del modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-128">Characteristics of the Event-based Asynchronous Pattern</span></span>  
 <span data-ttu-id="38107-129">Sono disponibili diversi tipi di modello asincrono basato su eventi, a seconda della complessità delle operazioni supportate da una determinata classe.</span><span class="sxs-lookup"><span data-stu-id="38107-129">The Event-based Asynchronous Pattern may take several forms, depending on the complexity of the operations supported by a particular class.</span></span> <span data-ttu-id="38107-130">Le classi più semplici possono presentare un solo metodo _NomeMetodo_**Async** e un evento _NomeMetodo_**Completed** corrispondente.</span><span class="sxs-lookup"><span data-stu-id="38107-130">The simplest classes may have a single _MethodName_**Async** method and a corresponding _MethodName_**Completed** event.</span></span> <span data-ttu-id="38107-131">Le classi più complesse possono invece avere diversi metodi _NomeMetodo_**Async**, ognuno dei quali con un evento _NomeMetodo_**Completed** associato, nonché versioni sincrone di tali metodi.</span><span class="sxs-lookup"><span data-stu-id="38107-131">More complex classes may have several _MethodName_**Async** methods, each with a corresponding _MethodName_**Completed** event, as well as synchronous versions of these methods.</span></span> <span data-ttu-id="38107-132">Per ogni metodo asincrono le classi possono supportare funzionalità di annullamento e creazione di rapporti sullo stato di avanzamento, nonché risultati incrementali.</span><span class="sxs-lookup"><span data-stu-id="38107-132">Classes can optionally support cancellation, progress reporting, and incremental results for each asynchronous method.</span></span>  
  
 <span data-ttu-id="38107-133">Un metodo asincrono può anche supportare più chiamate in sospeso, ovvero più richiami concorrenti, consentendo al codice di chiamarlo un numero indeterminato di volte prima del completamento di altre operazioni in sospeso.</span><span class="sxs-lookup"><span data-stu-id="38107-133">An asynchronous method may also support multiple pending calls (multiple concurrent invocations), allowing your code to call it any number of times before it completes other pending operations.</span></span> <span data-ttu-id="38107-134">Una gestione efficace di questa situazione può richiedere che l'applicazione tenga traccia del completamento di ogni operazione.</span><span class="sxs-lookup"><span data-stu-id="38107-134">Correctly handling this situation may require your application to track the completion of each operation.</span></span>  
  
### <a name="examples-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="38107-135">Esempi del modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-135">Examples of the Event-based Asynchronous Pattern</span></span>  
 <span data-ttu-id="38107-136">I componenti <xref:System.Media.SoundPlayer> e <xref:System.Windows.Forms.PictureBox> rappresentano implementazioni semplici del modello asincrono basato su eventi.</span><span class="sxs-lookup"><span data-stu-id="38107-136">The <xref:System.Media.SoundPlayer> and <xref:System.Windows.Forms.PictureBox> components represent simple implementations of the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="38107-137">I componenti <xref:System.Net.WebClient> e <xref:System.ComponentModel.BackgroundWorker> rappresentano implementazioni più complesse del modello in questione.</span><span class="sxs-lookup"><span data-stu-id="38107-137">The <xref:System.Net.WebClient> and <xref:System.ComponentModel.BackgroundWorker> components represent more complex implementations of the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="38107-138">Di seguito viene riportata una dichiarazione di classe di esempio conforme al modello:</span><span class="sxs-lookup"><span data-stu-id="38107-138">Below is an example class declaration that conforms to the pattern:</span></span>  
  
```vb  
Public Class AsyncExample  
    ' Synchronous methods.  
    Public Function Method1(ByVal param As String) As Integer
    Public Sub Method2(ByVal param As Double)
  
    ' Asynchronous methods.  
    Overloads Public Sub Method1Async(ByVal param As String)
    Overloads Public Sub Method1Async(ByVal param As String, ByVal userState As Object)
    Public Event Method1Completed As Method1CompletedEventHandler  
  
    Overloads Public Sub Method2Async(ByVal param As Double)
    Overloads Public Sub Method2Async(ByVal param As Double, ByVal userState As Object)
    Public Event Method2Completed As Method2CompletedEventHandler  
  
    Public Sub CancelAsync(ByVal userState As Object)
  
    Public ReadOnly Property IsBusy () As Boolean  
  
    ' Class implementation not shown.  
End Class  
```  
  
```csharp  
public class AsyncExample  
{  
    // Synchronous methods.  
    public int Method1(string param);  
    public void Method2(double param);  
  
    // Asynchronous methods.  
    public void Method1Async(string param);  
    public void Method1Async(string param, object userState);  
    public event Method1CompletedEventHandler Method1Completed;  
  
    public void Method2Async(double param);  
    public void Method2Async(double param, object userState);  
    public event Method2CompletedEventHandler Method2Completed;  
  
    public void CancelAsync(object userState);  
  
    public bool IsBusy { get; }  
  
    // Class implementation not shown.  
}  
```  
  
 <span data-ttu-id="38107-139">La classe `AsyncExample` fittizia presenta due metodi che supportano entrambi i richiami sincroni e asincroni.</span><span class="sxs-lookup"><span data-stu-id="38107-139">The fictitious `AsyncExample` class has two methods, both of which support synchronous and asynchronous invocations.</span></span> <span data-ttu-id="38107-140">Gli overload sincroni si comportano come qualsiasi chiamata di metodo ed eseguono le operazioni sul thread chiamante. Se l'operazione eseguita richiede tempo, potrebbe verificarsi un ritardo notevole nella restituzione della chiamata.</span><span class="sxs-lookup"><span data-stu-id="38107-140">The synchronous overloads behave like any method call and execute the operation on the calling thread; if the operation is time-consuming, there may be a noticeable delay before the call returns.</span></span> <span data-ttu-id="38107-141">Gli overload asincroni avviano l'operazione su un altro thread e vengono restituiti immediatamente consentendo al thread chiamante di continuare mentre l'operazione viene eseguita in background.</span><span class="sxs-lookup"><span data-stu-id="38107-141">The asynchronous overloads will start the operation on another thread and then return immediately, allowing the calling thread to continue while the operation executes "in the background."</span></span>  
  
### <a name="asynchronous-method-overloads"></a><span data-ttu-id="38107-142">Overload di metodi asincroni</span><span class="sxs-lookup"><span data-stu-id="38107-142">Asynchronous Method Overloads</span></span>  
 <span data-ttu-id="38107-143">Esistono potenzialmente due overload per le operazioni asincrone: a richiamo singolo e a più richiami.</span><span class="sxs-lookup"><span data-stu-id="38107-143">There are potentially two overloads for the asynchronous operations: single-invocation and multiple-invocation.</span></span> <span data-ttu-id="38107-144">È possibile distinguere i due tipi di overload dalle firme dei relativi metodi. Il tipo a più richiami presenta un parametro supplementare denominato `userState`</span><span class="sxs-lookup"><span data-stu-id="38107-144">You can distinguish these two forms by their method signatures: the multiple-invocation form has an extra parameter called `userState`.</span></span> <span data-ttu-id="38107-145">e consente al codice di chiamare più volte `Method1Async(string param, object userState)` senza attendere il completamento di eventuali operazioni asincrone in sospeso.</span><span class="sxs-lookup"><span data-stu-id="38107-145">This form makes it possible for your code to call `Method1Async(string param, object userState)` multiple times without waiting for any pending asynchronous operations to finish.</span></span> <span data-ttu-id="38107-146">Se, invece, si prova a chiamare `Method1Async(string param)` prima del completamento di un richiamo precedente, il metodo genera una <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="38107-146">If, on the other hand, you try to call `Method1Async(string param)` before a previous invocation has completed, the method raises an <xref:System.InvalidOperationException>.</span></span>  
  
 <span data-ttu-id="38107-147">Il parametro `userState` degli overload a più richiami consente di distinguere le diverse operazioni asincrone.</span><span class="sxs-lookup"><span data-stu-id="38107-147">The `userState` parameter for the multiple-invocation overloads allows you to distinguish among asynchronous operations.</span></span> <span data-ttu-id="38107-148">Specificare un valore univoco, ad esempio un GUID o un codice hash, per ogni chiamata al metodo `Method1Async(string param, object userState)`. Al termine di ogni operazione, il gestore eventi potrà determinare l'istanza dell'operazione che ha generato l'evento di completamento.</span><span class="sxs-lookup"><span data-stu-id="38107-148">You provide a unique value (for example, a GUID or hash code) for each call to `Method1Async(string param, object userState)`, and when each operation is completed, your event handler can determine which instance of the operation raised the completion event.</span></span>  
  
### <a name="tracking-pending-operations"></a><span data-ttu-id="38107-149">Verifica delle operazioni in sospeso</span><span class="sxs-lookup"><span data-stu-id="38107-149">Tracking Pending Operations</span></span>  
 <span data-ttu-id="38107-150">Se si usano gli overload a più richiami, il codice deve tenere traccia degli oggetti `userState` (o ID attività) relativi alle attività in sospeso.</span><span class="sxs-lookup"><span data-stu-id="38107-150">If you use the multiple-invocation overloads, your code will need to keep track of the `userState` objects (task IDs) for pending tasks.</span></span> <span data-ttu-id="38107-151">Per ogni chiamata al metodo `Method1Async(string param, object userState)`, di solito viene generato un nuovo oggetto `userState` univoco che viene aggiunto a una raccolta.</span><span class="sxs-lookup"><span data-stu-id="38107-151">For each call to `Method1Async(string param, object userState)`, you will typically generate a new, unique `userState` object and add it to a collection.</span></span> <span data-ttu-id="38107-152">Quando l'attività corrispondente a tale oggetto `userState` genera l'evento di completamento, l'implementazione del metodo di completamento esamina <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> e la rimuove dalla raccolta.</span><span class="sxs-lookup"><span data-stu-id="38107-152">When the task corresponding to this `userState` object raises the completion event, your completion method implementation will examine <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> and remove it from your collection.</span></span> <span data-ttu-id="38107-153">Se usato in questo modo, il parametro `userState` funge da ID attività.</span><span class="sxs-lookup"><span data-stu-id="38107-153">Used this way, the `userState` parameter takes the role of a task ID.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="38107-154">È necessario specificare un valore univoco per il parametro `userState` nelle chiamate a overload a più richiami.</span><span class="sxs-lookup"><span data-stu-id="38107-154">You must be careful to provide a unique value for `userState` in your calls to multiple-invocation overloads.</span></span> <span data-ttu-id="38107-155">La specifica di ID attività non univoci determina la generazione di una <xref:System.ArgumentException> da parte della classe asincrona.</span><span class="sxs-lookup"><span data-stu-id="38107-155">Non-unique task IDs will cause the asynchronous class throw an <xref:System.ArgumentException>.</span></span>  
  
### <a name="canceling-pending-operations"></a><span data-ttu-id="38107-156">Annullamento delle operazioni in sospeso</span><span class="sxs-lookup"><span data-stu-id="38107-156">Canceling Pending Operations</span></span>  
 <span data-ttu-id="38107-157">È importante che sia possibile annullare le operazioni asincrone in qualsiasi momento prima che vengano completate.</span><span class="sxs-lookup"><span data-stu-id="38107-157">It is important to be able to cancel asynchronous operations at any time before their completion.</span></span> <span data-ttu-id="38107-158">Le classi che implementano il modello asincrono basato su eventi avranno un metodo `CancelAsync` (se è presente un solo metodo asincrono) o un metodo _NomeMetodo_**AsyncCancel** (se sono presenti più metodi asincroni).</span><span class="sxs-lookup"><span data-stu-id="38107-158">Classes that implement the Event-based Asynchronous Pattern will have a `CancelAsync` method (if there is only one asynchronous method) or a _MethodName_**AsyncCancel** method (if there are multiple asynchronous methods).</span></span>  
  
 <span data-ttu-id="38107-159">I metodi che consentono più chiamate accettano un parametro `userState` che può essere usato per tenere traccia della durata di ogni attività.</span><span class="sxs-lookup"><span data-stu-id="38107-159">Methods that allow multiple invocations take a `userState` parameter, which can be used to track the lifetime of each task.</span></span> <span data-ttu-id="38107-160">`CancelAsync` accetta un parametro `userState` che consente di annullare attività specifiche in sospeso.</span><span class="sxs-lookup"><span data-stu-id="38107-160">`CancelAsync` takes a `userState` parameter, which allows you to cancel particular pending tasks.</span></span>  
  
 <span data-ttu-id="38107-161">I metodi che supportano una sola operazione in sospeso alla volta, come `Method1Async(string param)`, non sono annullabili.</span><span class="sxs-lookup"><span data-stu-id="38107-161">Methods that support only a single pending operation at a time, like `Method1Async(string param)`, are not cancelable.</span></span>  
  
### <a name="receiving-progress-updates-and-incremental-results"></a><span data-ttu-id="38107-162">Ricezione di aggiornamenti sullo stato di avanzamento e di risultati incrementali</span><span class="sxs-lookup"><span data-stu-id="38107-162">Receiving Progress Updates and Incremental Results</span></span>  
 <span data-ttu-id="38107-163">Per tenere traccia dello stato di avanzamento e dei risultati incrementali, una classe conforme al modello asincrono basato su eventi può facoltativamente fornire un evento,</span><span class="sxs-lookup"><span data-stu-id="38107-163">A class that adheres to the Event-based Asynchronous Pattern may optionally provide an event for tracking progress and incremental results.</span></span> <span data-ttu-id="38107-164">che in genere è denominato `ProgressChanged` o _NomeMetodo_**ProgressChanged**, il cui gestore eventi accetta un parametro <xref:System.ComponentModel.ProgressChangedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="38107-164">This will typically be named `ProgressChanged` or _MethodName_**ProgressChanged**, and its corresponding event handler will take a <xref:System.ComponentModel.ProgressChangedEventArgs> parameter.</span></span>  
  
 <span data-ttu-id="38107-165">Il gestore eventi relativo all'evento `ProgressChanged` può esaminare la proprietà <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> per determinare la percentuale di completamento di un'attività asincrona.</span><span class="sxs-lookup"><span data-stu-id="38107-165">The event handler for the `ProgressChanged` event can examine the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> property to determine what percentage of an asynchronous task has been completed.</span></span> <span data-ttu-id="38107-166">Questa proprietà ha il valore compreso tra 0 e 100 e può essere usata per aggiornare la proprietà <xref:System.Windows.Forms.ProgressBar.Value%2A> di un oggetto <xref:System.Windows.Forms.ProgressBar>.</span><span class="sxs-lookup"><span data-stu-id="38107-166">This property will range from 0 to 100, and it can be used to update the <xref:System.Windows.Forms.ProgressBar.Value%2A> property of a <xref:System.Windows.Forms.ProgressBar>.</span></span> <span data-ttu-id="38107-167">Se sono in sospeso più operazioni asincrone, è possibile usare la proprietà <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> per identificare l'operazione per la quale viene generato il rapporto sullo stato di avanzamento.</span><span class="sxs-lookup"><span data-stu-id="38107-167">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> property to distinguish which operation is reporting progress.</span></span>  
  
 <span data-ttu-id="38107-168">Alcune classi possono generare un rapporto sui risultati incrementali mano a mano che procede l'esecuzione delle operazioni asincrone.</span><span class="sxs-lookup"><span data-stu-id="38107-168">Some classes may report incremental results as asynchronous operations proceed.</span></span> <span data-ttu-id="38107-169">I risultati verranno memorizzati in una classe derivata da <xref:System.ComponentModel.ProgressChangedEventArgs> e verranno visualizzati come proprietà nella classe derivata.</span><span class="sxs-lookup"><span data-stu-id="38107-169">These results will be stored in a class that derives from <xref:System.ComponentModel.ProgressChangedEventArgs> and they will appear as properties in the derived class.</span></span> <span data-ttu-id="38107-170">È possibile accedere ai risultati nel gestore eventi dell'evento `ProgressChanged` usando la stessa procedura valida per la proprietà <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A>.</span><span class="sxs-lookup"><span data-stu-id="38107-170">You can access these results in the event handler for the `ProgressChanged` event, just as you would access the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A> property.</span></span> <span data-ttu-id="38107-171">Se sono in sospeso più operazioni asincrone, è possibile usare la proprietà <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> per identificare l'operazione per la quale viene generato il rapporto sui risultati incrementali.</span><span class="sxs-lookup"><span data-stu-id="38107-171">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> property to distinguish which operation is reporting incremental results.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="38107-172">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="38107-172">See also</span></span>

- <xref:System.ComponentModel.ProgressChangedEventArgs>
- <xref:System.ComponentModel.BackgroundWorker>
- <xref:System.ComponentModel.AsyncCompletedEventArgs>
- [<span data-ttu-id="38107-173">Procedura: usare componenti che supportano il modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-173">How to: Use Components That Support the Event-based Asynchronous Pattern</span></span>](how-to-use-components-that-support-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="38107-174">Procedura: Eseguire un'operazione in background</span><span class="sxs-lookup"><span data-stu-id="38107-174">How to: Run an Operation in the Background</span></span>](../../framework/winforms/controls/how-to-run-an-operation-in-the-background.md)
- [<span data-ttu-id="38107-175">Procedura: implementare un form che utilizza un'operazione in background</span><span class="sxs-lookup"><span data-stu-id="38107-175">How to: Implement a Form That Uses a Background Operation</span></span>](../../framework/winforms/controls/how-to-implement-a-form-that-uses-a-background-operation.md)
- <span data-ttu-id="38107-176">[Event-based Asynchronous Pattern (EAP)](event-based-asynchronous-pattern-eap.md) (Modello asincrono basato su eventi, EAP)</span><span class="sxs-lookup"><span data-stu-id="38107-176">[Event-based Asynchronous Pattern (EAP)](event-based-asynchronous-pattern-eap.md)</span></span>
- [<span data-ttu-id="38107-177">Suggerimenti per l'implementazione del modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-177">Best Practices for Implementing the Event-based Asynchronous Pattern</span></span>](best-practices-for-implementing-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="38107-178">Quando implementare il modello asincrono basato su eventi</span><span class="sxs-lookup"><span data-stu-id="38107-178">Deciding When to Implement the Event-based Asynchronous Pattern</span></span>](deciding-when-to-implement-the-event-based-asynchronous-pattern.md)
