---
title: Quando utilizzare raccolte generiche
ms.date: 04/30/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- collections [.NET Framework], generic
- generic collections [.NET Framework]
ms.assetid: e7b868b1-11fe-4ac5-bed3-de68aca47739
ms.openlocfilehash: feccd8c53e5171889666ed407258b9d36ad8a140
ms.sourcegitcommit: 7370aa8203b6036cea1520021b5511d0fd994574
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/02/2020
ms.locfileid: "82728202"
---
# <a name="when-to-use-generic-collections"></a><span data-ttu-id="5d802-102">Quando usare raccolte generiche</span><span class="sxs-lookup"><span data-stu-id="5d802-102">When to use generic collections</span></span>

<span data-ttu-id="5d802-103">L'uso di raccolte generiche offre il vantaggio automatico di indipendenza dai tipi senza la necessità di derivare da un tipo di raccolta di base e implementare membri specifici del tipo.</span><span class="sxs-lookup"><span data-stu-id="5d802-103">Using generic collections gives you the automatic benefit of type safety without having to derive from a base collection type and implement type-specific members.</span></span> <span data-ttu-id="5d802-104">I tipi di raccolte generiche offrono anche prestazioni migliori rispetto ai tipi di raccolte non generiche corrispondenti (e migliori dei tipi derivati dai tipi di raccolte base non generiche) quando gli elementi della raccolta sono tipi di valore, perché con i generics non è necessario eseguire il box degli elementi.</span><span class="sxs-lookup"><span data-stu-id="5d802-104">Generic collection types also generally perform better than the corresponding nongeneric collection types (and better than types that are derived from nongeneric base collection types) when the collection elements are value types, because with generics, there's no need to box the elements.</span></span>

<span data-ttu-id="5d802-105">Per i programmi destinati .NET Standard 1,0 o versioni successive, usare le classi di raccolte generiche nello <xref:System.Collections.Concurrent> spazio dei nomi quando più thread potrebbero aggiungere o rimuovere elementi dalla raccolta contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="5d802-105">For programs that target .NET Standard 1.0 or later, use the generic collection classes in the <xref:System.Collections.Concurrent> namespace when multiple threads might be adding or removing items from the collection concurrently.</span></span> <span data-ttu-id="5d802-106">Inoltre, quando si desidera l'immutabilità, prendere in considerazione le <xref:System.Collections.Immutable> classi di raccolte generiche nello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="5d802-106">Additionally, when immutability is desired, consider the generic collection classes in the <xref:System.Collections.Immutable> namespace.</span></span>

<span data-ttu-id="5d802-107">I seguenti tipi generici corrispondono ai tipi di raccolte esistenti:</span><span class="sxs-lookup"><span data-stu-id="5d802-107">The following generic types correspond to existing collection types:</span></span>

- <span data-ttu-id="5d802-108"><xref:System.Collections.Generic.List%601> è la classe generica che corrisponde a <xref:System.Collections.ArrayList>.</span><span class="sxs-lookup"><span data-stu-id="5d802-108"><xref:System.Collections.Generic.List%601> is the generic class that corresponds to <xref:System.Collections.ArrayList>.</span></span>

- <span data-ttu-id="5d802-109"><xref:System.Collections.Generic.Dictionary%602> e <xref:System.Collections.Concurrent.ConcurrentDictionary%602> sono le classi generiche che corrispondono a <xref:System.Collections.Hashtable>.</span><span class="sxs-lookup"><span data-stu-id="5d802-109"><xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> are the generic classes that correspond to <xref:System.Collections.Hashtable>.</span></span>

- <span data-ttu-id="5d802-110"><xref:System.Collections.ObjectModel.Collection%601> è la classe generica che corrisponde a <xref:System.Collections.CollectionBase>.</span><span class="sxs-lookup"><span data-stu-id="5d802-110"><xref:System.Collections.ObjectModel.Collection%601> is the generic class that corresponds to <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="5d802-111"><xref:System.Collections.ObjectModel.Collection%601>può essere usato come classe di base, ma a differenza <xref:System.Collections.CollectionBase>di, non è astratto, che lo rende molto più semplice da usare.</span><span class="sxs-lookup"><span data-stu-id="5d802-111"><xref:System.Collections.ObjectModel.Collection%601> can be used as a base class, but unlike <xref:System.Collections.CollectionBase>, it is not abstract, which makes it much easier to use.</span></span>

- <span data-ttu-id="5d802-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> è la classe generica che corrisponde a <xref:System.Collections.ReadOnlyCollectionBase>.</span><span class="sxs-lookup"><span data-stu-id="5d802-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is the generic class that corresponds to <xref:System.Collections.ReadOnlyCollectionBase>.</span></span> <span data-ttu-id="5d802-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601>non è astratto e dispone di un costruttore che semplifica l'esposizione di un oggetto <xref:System.Collections.Generic.List%601> esistente come raccolta di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="5d802-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is not abstract and has a constructor that makes it easy to expose an existing <xref:System.Collections.Generic.List%601> as a read-only collection.</span></span>

- <span data-ttu-id="5d802-114">Le <xref:System.Collections.Generic.Queue%601>classi <xref:System.Collections.Concurrent.ConcurrentQueue%601>generiche <xref:System.Collections.Immutable.ImmutableArray%601>, <xref:System.Collections.Generic.SortedList%602>, <xref:System.Collections.Immutable.ImmutableQueue%601>, <xref:System.Collections.Immutable.ImmutableSortedSet%601> , e corrispondono alle rispettive classi non generiche con gli stessi nomi.</span><span class="sxs-lookup"><span data-stu-id="5d802-114">The <xref:System.Collections.Generic.Queue%601>, <xref:System.Collections.Concurrent.ConcurrentQueue%601>, <xref:System.Collections.Immutable.ImmutableQueue%601>, <xref:System.Collections.Immutable.ImmutableArray%601>, <xref:System.Collections.Generic.SortedList%602>, and <xref:System.Collections.Immutable.ImmutableSortedSet%601> generic classes correspond to the respective nongeneric classes with the same names.</span></span>

## <a name="additional-types"></a><span data-ttu-id="5d802-115">Tipi aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="5d802-115">Additional Types</span></span>

<span data-ttu-id="5d802-116">Diversi tipi di raccolte generiche non hanno controparti non generiche.</span><span class="sxs-lookup"><span data-stu-id="5d802-116">Several generic collection types do not have nongeneric counterparts.</span></span> <span data-ttu-id="5d802-117">incluse le seguenti:</span><span class="sxs-lookup"><span data-stu-id="5d802-117">They include the following:</span></span>

- <span data-ttu-id="5d802-118"><xref:System.Collections.Generic.LinkedList%601> è un elenco collegato di uso generale che fornisce le operazioni di inserimento e rimozione O(1).</span><span class="sxs-lookup"><span data-stu-id="5d802-118"><xref:System.Collections.Generic.LinkedList%601> is a general-purpose linked list that provides O(1) insertion and removal operations.</span></span>

- <span data-ttu-id="5d802-119"><xref:System.Collections.Generic.SortedDictionary%602> è un dizionario ordinato con operazioni di inserimento e recupero O(log `n`), che lo rende un'utile alternativa a <xref:System.Collections.Generic.SortedList%602>.</span><span class="sxs-lookup"><span data-stu-id="5d802-119"><xref:System.Collections.Generic.SortedDictionary%602> is a sorted dictionary with O(log `n`) insertion and retrieval operations, which makes it a useful alternative to <xref:System.Collections.Generic.SortedList%602>.</span></span>

- <span data-ttu-id="5d802-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> è un ibrido tra un elenco e un dizionario, che fornisce un metodo per memorizzare oggetti contenenti le loro stesse chiavi.</span><span class="sxs-lookup"><span data-stu-id="5d802-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</span></span>

- <span data-ttu-id="5d802-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implementa una classe di raccolta con funzionalità di delimitazione e blocco.</span><span class="sxs-lookup"><span data-stu-id="5d802-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implements a collection class with bounding and blocking functionality.</span></span>

- <span data-ttu-id="5d802-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> permette di eseguire rapidamente le operazioni di inserimento e rimozione di elementi non ordinati.</span><span class="sxs-lookup"><span data-stu-id="5d802-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> provides fast insertion and removal of unordered elements.</span></span>

### <a name="immutable-builders"></a><span data-ttu-id="5d802-123">Generatori non modificabili</span><span class="sxs-lookup"><span data-stu-id="5d802-123">Immutable builders</span></span>

<span data-ttu-id="5d802-124">Quando si desidera la funzionalità di immutabilità nell' <xref:System.Collections.Immutable> app, lo spazio dei nomi offre tipi di raccolta generici che è possibile usare.</span><span class="sxs-lookup"><span data-stu-id="5d802-124">When you desire immutability functionality in your app, the <xref:System.Collections.Immutable> namespace offers generic collection types you can use.</span></span> <span data-ttu-id="5d802-125">Tutti i tipi di raccolta non modificabili `Builder` offrono classi che consentono di ottimizzare le prestazioni quando si eseguono più mutazioni.</span><span class="sxs-lookup"><span data-stu-id="5d802-125">All of the immutable collection types offer `Builder` classes that can optimize performance when you're performing multiple mutations.</span></span> <span data-ttu-id="5d802-126">La `Builder` classe raggruppa le operazioni in uno stato modificabile.</span><span class="sxs-lookup"><span data-stu-id="5d802-126">The `Builder` class batches operations in a mutable state.</span></span> <span data-ttu-id="5d802-127">Quando tutte le mutazioni sono state completate, chiamare `ToImmutable` il metodo per "bloccare" tutti i nodi e creare una raccolta generica non modificabile, <xref:System.Collections.Immutable.ImmutableList%601>ad esempio,.</span><span class="sxs-lookup"><span data-stu-id="5d802-127">When all mutations have been completed, call the `ToImmutable` method to "freeze" all nodes and create an immutable generic collection, for example, an <xref:System.Collections.Immutable.ImmutableList%601>.</span></span>

<span data-ttu-id="5d802-128">L' `Builder` oggetto può essere creato chiamando il metodo non generico `CreateBuilder()` .</span><span class="sxs-lookup"><span data-stu-id="5d802-128">The `Builder` object can be created by calling the nongeneric `CreateBuilder()` method.</span></span> <span data-ttu-id="5d802-129">Da un' `Builder` istanza di è possibile chiamare `ToImmutable()`.</span><span class="sxs-lookup"><span data-stu-id="5d802-129">From a `Builder` instance, you can call `ToImmutable()`.</span></span> <span data-ttu-id="5d802-130">Analogamente, dalla `Immutable*` raccolta, è possibile chiamare `ToBuilder()` per creare un'istanza del generatore dalla raccolta generica non modificabile.</span><span class="sxs-lookup"><span data-stu-id="5d802-130">Likewise, from the `Immutable*` collection, you can call `ToBuilder()` to create a builder instance from the generic immutable collection.</span></span> <span data-ttu-id="5d802-131">Di seguito sono riportati i `Builder` diversi tipi.</span><span class="sxs-lookup"><span data-stu-id="5d802-131">The following are the various `Builder` types.</span></span>

- <xref:System.Collections.Immutable.ImmutableArray%601.Builder>
- <xref:System.Collections.Immutable.ImmutableDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableHashSet%601.Builder>
- <xref:System.Collections.Immutable.ImmutableList%601.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedSet%601.Builder>

## <a name="linq-to-objects"></a><span data-ttu-id="5d802-132">LINQ to Objects</span><span class="sxs-lookup"><span data-stu-id="5d802-132">LINQ to Objects</span></span>

<span data-ttu-id="5d802-133">La funzionalità LINQ to Objects consente di usare le query LINQ per accedere agli oggetti in memoria purché il tipo dell'oggetto implementi l'interfaccia <xref:System.Collections.IEnumerable?displayProperty=nameWithType> o <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="5d802-133">The LINQ to Objects feature enables you to use LINQ queries to access in-memory objects as long as the object type implements the <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="5d802-134">Le query LINQ forniscono un modello comune per l'accesso ai dati. sono in genere più concise e leggibili dei cicli standard `foreach` ; e forniscono funzionalità di filtro, ordinamento e raggruppamento.</span><span class="sxs-lookup"><span data-stu-id="5d802-134">LINQ queries provide a common pattern for accessing data; are typically more concise and readable than standard `foreach` loops; and provide filtering, ordering, and grouping capabilities.</span></span> <span data-ttu-id="5d802-135">Le query LINQ possono inoltre migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="5d802-135">LINQ queries can also improve performance.</span></span> <span data-ttu-id="5d802-136">Per altre informazioni, vedere [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md) e [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="5d802-136">For more information, see [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md), and [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/introduction-to-plinq.md).</span></span>

## <a name="additional-functionality"></a><span data-ttu-id="5d802-137">Funzionalità aggiuntive</span><span class="sxs-lookup"><span data-stu-id="5d802-137">Additional Functionality</span></span>
<span data-ttu-id="5d802-138">Alcuni tipi generici hanno funzionalità che non si trovano nei tipi di raccolte non generiche.</span><span class="sxs-lookup"><span data-stu-id="5d802-138">Some of the generic types have functionality that is not found in the nongeneric collection types.</span></span> <span data-ttu-id="5d802-139">Ad esempio, la classe <xref:System.Collections.Generic.List%601> , che corrisponde alla classe <xref:System.Collections.ArrayList> non generica, ha una serie di metodi che accettano i delegati generici, come ad esempio il delegato <xref:System.Predicate%601> che consente di specificare metodi per la ricerca nell'elenco, il delegato <xref:System.Action%601> che rappresenta metodi che agiscono su ciascun elemento dell'elenco e il delegato <xref:System.Converter%602> che consente di definire le conversioni tra tipi.</span><span class="sxs-lookup"><span data-stu-id="5d802-139">For example, the <xref:System.Collections.Generic.List%601> class, which corresponds to the nongeneric <xref:System.Collections.ArrayList> class, has a number of methods that accept generic delegates, such as the <xref:System.Predicate%601> delegate that allows you to specify methods for searching the list, the <xref:System.Action%601> delegate that represents methods that act on each element of the list, and the <xref:System.Converter%602> delegate that lets you define conversions between types.</span></span>

<span data-ttu-id="5d802-140">La classe <xref:System.Collections.Generic.List%601> consente di specificare le proprie implementazioni di interfaccia <xref:System.Collections.Generic.IComparer%601> generica per l'ordinamento e la ricerca nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="5d802-140">The <xref:System.Collections.Generic.List%601> class allows you to specify your own <xref:System.Collections.Generic.IComparer%601> generic interface implementations for sorting and searching the list.</span></span> <span data-ttu-id="5d802-141">Anche le classi <xref:System.Collections.Generic.SortedDictionary%602> e <xref:System.Collections.Generic.SortedList%602> hanno la stessa capacità.</span><span class="sxs-lookup"><span data-stu-id="5d802-141">The <xref:System.Collections.Generic.SortedDictionary%602> and <xref:System.Collections.Generic.SortedList%602> classes also have this capability.</span></span> <span data-ttu-id="5d802-142">Inoltre, queste classi consentono di specificare gli operatori di confronto quando viene creata la raccolta.</span><span class="sxs-lookup"><span data-stu-id="5d802-142">In addition, these classes let you specify comparers when the collection is created.</span></span> <span data-ttu-id="5d802-143">In modo analogo, le classi <xref:System.Collections.Generic.Dictionary%602> e <xref:System.Collections.ObjectModel.KeyedCollection%602> consentono di specificare operatori di confronto di uguaglianza personalizzati.</span><span class="sxs-lookup"><span data-stu-id="5d802-143">In similar fashion, the <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.ObjectModel.KeyedCollection%602> classes let you specify your own equality comparers.</span></span>

## <a name="see-also"></a><span data-ttu-id="5d802-144">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="5d802-144">See also</span></span>

- [<span data-ttu-id="5d802-145">Raccolte e strutture di dati</span><span class="sxs-lookup"><span data-stu-id="5d802-145">Collections and Data Structures</span></span>](../../../docs/standard/collections/index.md)
- [<span data-ttu-id="5d802-146">Tipi di raccolte comunemente usate</span><span class="sxs-lookup"><span data-stu-id="5d802-146">Commonly Used Collection Types</span></span>](../../../docs/standard/collections/commonly-used-collection-types.md)
- [<span data-ttu-id="5d802-147">Generics</span><span class="sxs-lookup"><span data-stu-id="5d802-147">Generics</span></span>](../../../docs/standard/generics/index.md)
