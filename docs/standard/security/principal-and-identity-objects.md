---
title: Oggetti Principal e Identity
description: Vedere informazioni sugli oggetti Identity, che rappresentano gli utenti in .NET. Vedere anche informazioni sugli oggetti Principal, che incapsulano sia un oggetto Identity & un ruolo.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- WindowsIdentity objects
- GenericIdentity objects
- GenericPrincipal objects
- identity objects, about identity objects
- security [.NET Framework], identity objects
- principal objects, about principal objects
- security [.NET Framework], principals
- WindowsPrincipal objects
ms.assetid: aa5930ad-f3d7-40aa-b6f6-c6edcd5c64f7
ms.openlocfilehash: 5fd3f1c80f22c1ebe7b2c10653ee137f00321de8
ms.sourcegitcommit: 5fd4696a3e5791b2a8c449ccffda87f2cc2d4894
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/15/2020
ms.locfileid: "84768846"
---
# <a name="principal-and-identity-objects"></a><span data-ttu-id="a272c-104">Oggetti Principal e Identity</span><span class="sxs-lookup"><span data-stu-id="a272c-104">Principal and Identity Objects</span></span>
<span data-ttu-id="a272c-105">Il codice gestito può individuare l'identità o il ruolo di un'entità tramite un <xref:System.Security.Principal.IPrincipal> oggetto che contiene un riferimento a un <xref:System.Security.Principal.IIdentity> oggetto.</span><span class="sxs-lookup"><span data-stu-id="a272c-105">Managed code can discover the identity or the role of a principal through a <xref:System.Security.Principal.IPrincipal> object, which contains a reference to an <xref:System.Security.Principal.IIdentity> object.</span></span> <span data-ttu-id="a272c-106">Può essere utile paragonare oggetti Identity e Principal a concetti familiari quali account utente e di gruppo.</span><span class="sxs-lookup"><span data-stu-id="a272c-106">It might be helpful to compare identity and principal objects to familiar concepts like user and group accounts.</span></span> <span data-ttu-id="a272c-107">Nella maggior parte degli ambienti di rete, gli account utente rappresentano utenti o programmi, mentre gli account di gruppo rappresentano determinate categorie di utenti e i diritti che essi detengono.</span><span class="sxs-lookup"><span data-stu-id="a272c-107">In most network environments, user accounts represent people or programs, while group accounts represent certain categories of users and the rights they possess.</span></span> <span data-ttu-id="a272c-108">Analogamente, gli oggetti Identity di .NET Framework rappresentano utenti, mentre i ruoli rappresentano appartenenze e contesti di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a272c-108">Similarly, .NET Framework identity objects represent users, while roles represent memberships and security contexts.</span></span> <span data-ttu-id="a272c-109">In .NET Framework l'oggetto Principal incapsula sia un oggetto Identity che un ruolo.</span><span class="sxs-lookup"><span data-stu-id="a272c-109">In the .NET Framework, the principal object encapsulates both an identity object and a role.</span></span> <span data-ttu-id="a272c-110">Le applicazioni di .NET Framework concedono diritti al principale sulla base dell'identità che esso presenta oppure, più comunemente, al ruolo che esso riveste.</span><span class="sxs-lookup"><span data-stu-id="a272c-110">.NET Framework applications grant rights to the principal based on its identity or, more commonly, its role membership.</span></span>  
  
## <a name="identity-objects"></a><span data-ttu-id="a272c-111">Oggetti Identity</span><span class="sxs-lookup"><span data-stu-id="a272c-111">Identity Objects</span></span>  
 <span data-ttu-id="a272c-112">L'oggetto Identity incapsula informazioni sull'utente o sull'entità da convalidare.</span><span class="sxs-lookup"><span data-stu-id="a272c-112">The identity object encapsulates information about the user or entity being validated.</span></span> <span data-ttu-id="a272c-113">Nella forma più semplice, gli oggetti Identity contengono un nome e un tipo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a272c-113">At their most basic level, identity objects contain a name and an authentication type.</span></span> <span data-ttu-id="a272c-114">Il nome può essere quello di un utente o di un account Windows, mentre il tipo di autenticazione può corrispondere a un protocollo di accesso supportato, quale Kerberos V5, oppure a un valore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a272c-114">The name can either be a user's name or the name of a Windows account, while the authentication type can be either a supported logon protocol, such as Kerberos V5, or a custom value.</span></span> <span data-ttu-id="a272c-115">Il .NET Framework definisce un <xref:System.Security.Principal.GenericIdentity> oggetto che può essere utilizzato per la maggior parte degli scenari di accesso personalizzati e un oggetto più specializzato <xref:System.Security.Principal.WindowsIdentity> che può essere utilizzato quando si desidera che l'applicazione si basi sull'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="a272c-115">The .NET Framework defines a <xref:System.Security.Principal.GenericIdentity> object that can be used for most custom logon scenarios and a more specialized <xref:System.Security.Principal.WindowsIdentity> object that can be used when you want your application to rely on Windows authentication.</span></span> <span data-ttu-id="a272c-116">È inoltre possibile definire una classe di identità personalizzata che contenga informazioni utente personalizzate.</span><span class="sxs-lookup"><span data-stu-id="a272c-116">Additionally, you can define your own identity class that encapsulates custom user information.</span></span>  
  
 <span data-ttu-id="a272c-117">L' <xref:System.Security.Principal.IIdentity> interfaccia definisce le proprietà per l'accesso a un nome e un tipo di autenticazione, ad esempio Kerberos V5 o NTLM.</span><span class="sxs-lookup"><span data-stu-id="a272c-117">The <xref:System.Security.Principal.IIdentity> interface defines properties for accessing a name and an authentication type, such as Kerberos V5 or NTLM.</span></span> <span data-ttu-id="a272c-118">Tutte le classi **Identity** implementano l'interfaccia **IIdentity**.</span><span class="sxs-lookup"><span data-stu-id="a272c-118">All **Identity** classes implement the **IIdentity** interface.</span></span> <span data-ttu-id="a272c-119">Non è necessaria alcuna relazione tra un oggetto **Identity** e il token di processo di Windows NT sotto cui un thread è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a272c-119">There is no required relationship between an **Identity** object and the Windows NT process token under which a thread is currently executing.</span></span> <span data-ttu-id="a272c-120">Se tuttavia l'oggetto **Identity** è un oggetto **WindowsIdentity**, si presupporrà che l'identità rappresenti un token di sicurezza di Windows NT.</span><span class="sxs-lookup"><span data-stu-id="a272c-120">However, if the **Identity** object is a **WindowsIdentity** object, the identity is assumed to represent a Windows NT security token.</span></span>  
  
## <a name="principal-objects"></a><span data-ttu-id="a272c-121">Oggetti Principal</span><span class="sxs-lookup"><span data-stu-id="a272c-121">Principal Objects</span></span>  
 <span data-ttu-id="a272c-122">L'oggetto Principal rappresenta il contesto di sicurezza in cui viene eseguito il codice.</span><span class="sxs-lookup"><span data-stu-id="a272c-122">The principal object represents the security context under which code is running.</span></span> <span data-ttu-id="a272c-123">Le applicazioni che implementano la sicurezza basata sui ruoli concedono diritti sulla base del ruolo associato all'oggetto Principal.</span><span class="sxs-lookup"><span data-stu-id="a272c-123">Applications that implement role-based security grant rights based on the role associated with a principal object.</span></span> <span data-ttu-id="a272c-124">Analogamente agli oggetti Identity, il .NET Framework fornisce un <xref:System.Security.Principal.GenericPrincipal> oggetto e un <xref:System.Security.Principal.WindowsPrincipal> oggetto.</span><span class="sxs-lookup"><span data-stu-id="a272c-124">Similar to identity objects, the .NET Framework provides a <xref:System.Security.Principal.GenericPrincipal> object and a <xref:System.Security.Principal.WindowsPrincipal> object.</span></span> <span data-ttu-id="a272c-125">È inoltre possibile definire classi di principali personalizzate.</span><span class="sxs-lookup"><span data-stu-id="a272c-125">You can also define your own custom principal classes.</span></span>  
  
 <span data-ttu-id="a272c-126">L' <xref:System.Security.Principal.IPrincipal> interfaccia definisce una proprietà per l'accesso a un oggetto **Identity** associato, nonché un metodo per determinare se l'utente identificato dall'oggetto **Principal** è un membro di un determinato ruolo.</span><span class="sxs-lookup"><span data-stu-id="a272c-126">The <xref:System.Security.Principal.IPrincipal> interface defines a property for accessing an associated **Identity** object as well as a method for determining whether the user identified by the **Principal** object is a member of a given role.</span></span> <span data-ttu-id="a272c-127">Tutte le classi **Principal** implementano l'interfaccia **IPrincipal** nonché ulteriori proprietà e metodi eventualmente necessari.</span><span class="sxs-lookup"><span data-stu-id="a272c-127">All **Principal** classes implement the **IPrincipal** interface as well as any additional properties and methods that are necessary.</span></span> <span data-ttu-id="a272c-128">Common Language Runtime fornisce ad esempio la classe **WindowsPrincipal**, che implementa funzionalità aggiuntive per il mapping tra l'appartenenza a un gruppo di Windows NT o Windows 2000 e i ruoli.</span><span class="sxs-lookup"><span data-stu-id="a272c-128">For example, the common language runtime provides the **WindowsPrincipal** class, which implements additional functionality for mapping Windows NT or Windows 2000 group membership to roles.</span></span>  
  
 <span data-ttu-id="a272c-129">Un oggetto **Principal** è associato a un oggetto Context ( <xref:System.Runtime.Remoting.Messaging.CallContext> ) di chiamata all'interno di un dominio applicazione ( <xref:System.AppDomain> ).</span><span class="sxs-lookup"><span data-stu-id="a272c-129">A **Principal** object is bound to a call context (<xref:System.Runtime.Remoting.Messaging.CallContext>) object within an application domain (<xref:System.AppDomain>).</span></span> <span data-ttu-id="a272c-130">Viene sempre creato un contesto di chiamata predefinito con ciascun nuovo **AppDomain**, così esiste sempre un contesto di chiamata disponibile per accettare l'oggetto **Principal**.</span><span class="sxs-lookup"><span data-stu-id="a272c-130">A default call context is always created with each new **AppDomain**, so there is always a call context available to accept the **Principal** object.</span></span> <span data-ttu-id="a272c-131">Quando viene creato un nuovo thread, per tale thread viene creato anche un oggetto **CallContext**.</span><span class="sxs-lookup"><span data-stu-id="a272c-131">When a new thread is created, a **CallContext** object is also created for the thread.</span></span> <span data-ttu-id="a272c-132">Il riferimento all'oggetto **Principal** viene automaticamente copiato dal thread di origine al **CallContext** del nuovo thread.</span><span class="sxs-lookup"><span data-stu-id="a272c-132">The **Principal** object reference is automatically copied from the creating thread to the new thread's **CallContext**.</span></span> <span data-ttu-id="a272c-133">Se il runtime non è in grado di determinare quale oggetto **Principal** appartiene al creatore del thread, si atterrà ai criteri predefiniti per la creazione di oggetti **Principal** e **Identity**.</span><span class="sxs-lookup"><span data-stu-id="a272c-133">If the runtime cannot determine which **Principal** object belongs to the creator of the thread, it follows the default policy for **Principal** and **Identity** object creation.</span></span>  
  
 <span data-ttu-id="a272c-134">Dei criteri configurabili specifici di un dominio applicazione definiscono le regole in base alle quali decidere quale tipo di oggetto **Principal** associare a un nuovo dominio applicazione.</span><span class="sxs-lookup"><span data-stu-id="a272c-134">A configurable application domain-specific policy defines the rules for deciding what type of **Principal** object to associate with a new application domain.</span></span> <span data-ttu-id="a272c-135">Dove consentito dai criteri di sicurezza, il runtime può creare oggetti **Principal** e **Identity** che riflettono il token del sistema operativo associato al thread di esecuzione corrente.</span><span class="sxs-lookup"><span data-stu-id="a272c-135">Where security policy permits, the runtime can create **Principal** and **Identity** objects that reflect the operating system token associated with the current thread of execution.</span></span> <span data-ttu-id="a272c-136">In base all'impostazione predefinita, il runtime utilizza oggetti **Principal** e **Identity** che rappresentano utenti non autenticati.</span><span class="sxs-lookup"><span data-stu-id="a272c-136">By default, the runtime uses **Principal** and **Identity** objects that represent unauthenticated users.</span></span> <span data-ttu-id="a272c-137">Il runtime non crea questi oggetti **Principal** e **Identity** predefiniti finché il codice non tenta di accedervi.</span><span class="sxs-lookup"><span data-stu-id="a272c-137">The runtime does not create these default **Principal** and **Identity** objects until the code attempts to access them.</span></span>  
  
 <span data-ttu-id="a272c-138">Il codice attendibile che crea un dominio applicazione può impostare i criteri di sicurezza del dominio applicazione che controllano la costruzione degli oggetti **Principal** e **Identity** predefiniti.</span><span class="sxs-lookup"><span data-stu-id="a272c-138">Trusted code that creates an application domain can set the application domain policy that controls construction of the default **Principal** and **Identity** objects.</span></span> <span data-ttu-id="a272c-139">Questi criteri specifici del dominio applicazione si applicano a tutti i thread di esecuzione di tale dominio applicazione.</span><span class="sxs-lookup"><span data-stu-id="a272c-139">This application domain-specific policy applies to all execution threads in that application domain.</span></span> <span data-ttu-id="a272c-140">Un host attendibile non gestito ha intrinsecamente la possibilità di impostare questo criterio, ma il codice gestito che imposta questo criterio deve disporre <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> di per il controllo dei criteri di dominio.</span><span class="sxs-lookup"><span data-stu-id="a272c-140">An unmanaged, trusted host inherently has the ability to set this policy, but managed code that sets this policy must have the <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> for controlling domain policy.</span></span>  
  
 <span data-ttu-id="a272c-141">Quando si trasmette un oggetto **Principal** tra più domini applicazione, ma all'interno dello stesso processo e quindi sullo stesso computer, l'infrastruttura remota consente di copiare nel contesto del chiamato un riferimento all'oggetto **Principal** associato al contesto del chiamante.</span><span class="sxs-lookup"><span data-stu-id="a272c-141">When transmitting a **Principal** object across application domains but within the same process (and therefore on the same computer), the remoting infrastructure copies a reference to the **Principal** object associated with the caller's context to the callee's context.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a272c-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a272c-142">See also</span></span>

- [<span data-ttu-id="a272c-143">Procedura: creare un oggetto WindowsPrincipal</span><span class="sxs-lookup"><span data-stu-id="a272c-143">How to: Create a WindowsPrincipal Object</span></span>](how-to-create-a-windowsprincipal-object.md)
- [<span data-ttu-id="a272c-144">Procedura: Creare oggetti GenericPrincipal e GenericIdentity</span><span class="sxs-lookup"><span data-stu-id="a272c-144">How to: Create GenericPrincipal and GenericIdentity Objects</span></span>](how-to-create-genericprincipal-and-genericidentity-objects.md)
- [<span data-ttu-id="a272c-145">Sostituzione di oggetti Principal</span><span class="sxs-lookup"><span data-stu-id="a272c-145">Replacing a Principal Object</span></span>](replacing-a-principal-object.md)
- [<span data-ttu-id="a272c-146">Rappresentazione e ripristino</span><span class="sxs-lookup"><span data-stu-id="a272c-146">Impersonating and Reverting</span></span>](impersonating-and-reverting.md)
- [<span data-ttu-id="a272c-147">Sicurezza basata sui ruoli</span><span class="sxs-lookup"><span data-stu-id="a272c-147">Role-Based Security</span></span>](role-based-security.md)
- [<span data-ttu-id="a272c-148">Concetti principali sulla sicurezza</span><span class="sxs-lookup"><span data-stu-id="a272c-148">Key Security Concepts</span></span>](key-security-concepts.md)
