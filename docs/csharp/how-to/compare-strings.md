---
title: Come confrontare le stringhe-guida a C#
description: Informazioni su come confrontare e ordinare i valori stringa, con o senza maiuscole, con o senza ordinamento specifico delle impostazioni cultura
ms.date: 10/03/2018
helpviewer_keywords:
- strings [C#], comparison
- comparing strings [C#]
ms.openlocfilehash: 725441f5399f72b6457af461d51419c35077f4c2
ms.sourcegitcommit: 7137e12f54c4e83a94ae43ec320f8cf59c1772ea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/10/2020
ms.locfileid: "84662914"
---
# <a name="how-to-compare-strings-in-c"></a><span data-ttu-id="e3999-103">Come confrontare stringhe in C\#</span><span class="sxs-lookup"><span data-stu-id="e3999-103">How to compare strings in C\#</span></span>

<span data-ttu-id="e3999-104">Il confronto delle stringhe viene eseguito per rispondere a una delle due domande seguenti: "Queste due stringhe sono uguali?"</span><span class="sxs-lookup"><span data-stu-id="e3999-104">You compare strings to answer one of two questions: "Are these two strings equal?"</span></span> <span data-ttu-id="e3999-105">oppure "In che ordine vengono disposte queste stringhe quando si esegue l'ordinamento?"</span><span class="sxs-lookup"><span data-stu-id="e3999-105">or "In what order should these strings be placed when sorting them?"</span></span>

<span data-ttu-id="e3999-106">Queste due domande vengono complicate da fattori propri dei confronti fra stringhe:</span><span class="sxs-lookup"><span data-stu-id="e3999-106">Those two questions are complicated by factors that affect string comparisons:</span></span>

- <span data-ttu-id="e3999-107">È possibile scegliere un confronto ordinale o linguistico.</span><span class="sxs-lookup"><span data-stu-id="e3999-107">You can choose an ordinal or linguistic comparison.</span></span>
- <span data-ttu-id="e3999-108">È possibile scegliere se la distinzione maiuscole/minuscole è importante.</span><span class="sxs-lookup"><span data-stu-id="e3999-108">You can choose if case matters.</span></span>
- <span data-ttu-id="e3999-109">È possibile scegliere confronti specifici in base alle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="e3999-109">You can choose culture-specific comparisons.</span></span>
- <span data-ttu-id="e3999-110">I confronti linguistici dipendono dalle impostazioni cultura e dalla piattaforma.</span><span class="sxs-lookup"><span data-stu-id="e3999-110">Linguistic comparisons are culture and platform-dependent.</span></span>

[!INCLUDE[interactive-note](~/includes/csharp-interactive-note.md)]

<span data-ttu-id="e3999-111">Quando si confrontano le stringhe, si definisce un ordine tra di esse.</span><span class="sxs-lookup"><span data-stu-id="e3999-111">When you compare strings, you define an order among them.</span></span> <span data-ttu-id="e3999-112">I confronti vengono usati per ordinare una sequenza di stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-112">Comparisons are used to sort a sequence of strings.</span></span> <span data-ttu-id="e3999-113">Quando la sequenza è disposta in un ordine noto, l'esecuzione di una ricerca risulta più semplice sia per gli utenti che per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="e3999-113">Once the sequence is in a known order, it is easier to search, both for software and for humans.</span></span> <span data-ttu-id="e3999-114">Altri confronti possono verificare se le stringhe sono uguali.</span><span class="sxs-lookup"><span data-stu-id="e3999-114">Other comparisons may check if strings are the same.</span></span> <span data-ttu-id="e3999-115">Questi controlli di similitudine sono simili alla verifica di uguaglianza, ma è possibile che alcune differenze, quali le maiuscole/minuscole, vengano ignorate.</span><span class="sxs-lookup"><span data-stu-id="e3999-115">These sameness checks are similar to equality, but some differences, such as case differences, may be ignored.</span></span>

## <a name="default-ordinal-comparisons"></a><span data-ttu-id="e3999-116">Confronti ordinali predefiniti</span><span class="sxs-lookup"><span data-stu-id="e3999-116">Default ordinal comparisons</span></span>

<span data-ttu-id="e3999-117">Per impostazione predefinita, le operazioni più comuni sono:</span><span class="sxs-lookup"><span data-stu-id="e3999-117">By default, the most common operations:</span></span>

- <xref:System.String.CompareTo%2A?displayProperty=nameWithType>
- <xref:System.String.Equals%2A?displayProperty=nameWithType>
- <span data-ttu-id="e3999-118"><xref:System.String.op_Equality%2A?displayProperty=nameWithType>e <xref:System.String.op_Inequality%2A?displayProperty=nameWithType> , ovvero [gli operatori di uguaglianza `==` e `!=` ](../language-reference/operators/equality-operators.md#string-equality)rispettivamente</span><span class="sxs-lookup"><span data-stu-id="e3999-118"><xref:System.String.op_Equality%2A?displayProperty=nameWithType> and <xref:System.String.op_Inequality%2A?displayProperty=nameWithType>, that is, [equality operators `==` and `!=`](../language-reference/operators/equality-operators.md#string-equality), respectively</span></span>

<span data-ttu-id="e3999-119">eseguire un confronto ordinale con distinzione tra maiuscole e minuscole e, se necessario, usare le impostazioni cultura correnti.</span><span class="sxs-lookup"><span data-stu-id="e3999-119">perform a case-sensitive ordinal comparison and, if necessary, use the current culture.</span></span> <span data-ttu-id="e3999-120">Nell'esempio seguente viene illustrato quanto segue:</span><span class="sxs-lookup"><span data-stu-id="e3999-120">The following example demonstrates that:</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet1":::

<span data-ttu-id="e3999-121">Il confronto ordinale predefinito non prende in considerazione le regole linguistiche quando si confrontano le stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-121">The default ordinal comparison doesn't take linguistic rules into account when comparing strings.</span></span> <span data-ttu-id="e3999-122">ma viene confrontato il valore binario di ogni oggetto <xref:System.Char> nelle due stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-122">It compares the binary value of each <xref:System.Char> object in two strings.</span></span> <span data-ttu-id="e3999-123">Di conseguenza, anche il confronto ordinale predefinito prevede la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="e3999-123">As a result, the default ordinal comparison is also case-sensitive.</span></span>

<span data-ttu-id="e3999-124">Si noti che il test per l'uguaglianza con <xref:System.String.Equals%2A?displayProperty=nameWithType> e gli `==` `!=` operatori e differisce dal confronto tra stringhe usando i <xref:System.String.CompareTo%2A?displayProperty=nameWithType> <xref:System.String.Compare(System.String,System.String)?displayProperty=nameWithType)> metodi e.</span><span class="sxs-lookup"><span data-stu-id="e3999-124">Note that the test for equality with <xref:System.String.Equals%2A?displayProperty=nameWithType> and the `==` and `!=` operators differs from string comparison using the <xref:System.String.CompareTo%2A?displayProperty=nameWithType> and <xref:System.String.Compare(System.String,System.String)?displayProperty=nameWithType)> methods.</span></span> <span data-ttu-id="e3999-125">Mentre i test per l'uguaglianza eseguono un confronto ordinale con distinzione tra maiuscole e minuscole, i metodi di confronto eseguono un confronto con distinzione tra maiuscole e minuscole e con distinzione delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="e3999-125">While the tests for equality perform a case-sensitive ordinal comparison, the comparison methods perform a case-sensitive, culture-sensitive comparison using the current culture.</span></span> <span data-ttu-id="e3999-126">Dato che i metodi di confronto predefiniti spesso eseguono diversi tipi di confronti, è consigliabile chiarire sempre l'intento del codice chiamando un overload che specifichi in modo esplicito il tipo di confronto da eseguire.</span><span class="sxs-lookup"><span data-stu-id="e3999-126">Because the default comparison methods often perform different types of comparisons, we recommend that you always make the intent of your code clear by calling an overload that explicitly specifies the type of comparison to perform.</span></span>

## <a name="case-insensitive-ordinal-comparisons"></a><span data-ttu-id="e3999-127">Confronti ordinali senza distinzione tra maiuscole e minuscole</span><span class="sxs-lookup"><span data-stu-id="e3999-127">Case-insensitive ordinal comparisons</span></span>

<span data-ttu-id="e3999-128">Il metodo <xref:System.String.Equals(System.String,System.StringComparison)?displayProperty=nameWithType> consente di specificare un valore <xref:System.StringComparison> pari a <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="e3999-128">The <xref:System.String.Equals(System.String,System.StringComparison)?displayProperty=nameWithType> method enables you to specify a <xref:System.StringComparison> value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType></span></span>
<span data-ttu-id="e3999-129">per un confronto ordinale senza distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="e3999-129">for a case-insensitive ordinal comparison.</span></span> <span data-ttu-id="e3999-130">È anche disponibile un metodo <xref:System.String.Compare(System.String,System.String,System.StringComparison)?displayProperty=nameWithType> statico che esegue un confronto ordinale senza distinzione tra maiuscole e minuscole, se si specifica il valore <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> per l'argomento <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="e3999-130">There is also a static <xref:System.String.Compare(System.String,System.String,System.StringComparison)?displayProperty=nameWithType> method that performs a case-insensitive ordinal comparison if you specify a value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for the <xref:System.StringComparison> argument.</span></span> <span data-ttu-id="e3999-131">Questi metodi sono illustrati nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="e3999-131">These are shown in the following code:</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet2":::

<span data-ttu-id="e3999-132">Quando si esegue un confronto ordinale senza distinzione tra maiuscole e minuscole, questi metodi usano le convenzioni di combinazione di maiuscole e minuscole delle [impostazioni cultura inglese non dipendenti da paese/area geografica](xref:System.Globalization.CultureInfo.InvariantCulture).</span><span class="sxs-lookup"><span data-stu-id="e3999-132">When performing a case-insensitive ordinal comparison, these methods use the casing conventions of the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture).</span></span>

## <a name="linguistic-comparisons"></a><span data-ttu-id="e3999-133">Confronti linguistici</span><span class="sxs-lookup"><span data-stu-id="e3999-133">Linguistic comparisons</span></span>

<span data-ttu-id="e3999-134">Le stringhe possono anche essere ordinate in base alle regole linguistiche delle impostazioni cultura correnti.</span><span class="sxs-lookup"><span data-stu-id="e3999-134">Strings can also be ordered using linguistic rules for the current culture.</span></span>
<span data-ttu-id="e3999-135">Questo ordinamento è detto anche "ordinamento di Word".</span><span class="sxs-lookup"><span data-stu-id="e3999-135">This is sometimes referred to as "word sort order."</span></span> <span data-ttu-id="e3999-136">Quando si esegue un confronto linguistico, è possibile che a determinati caratteri Unicode non alfanumerici venga assegnata una valenza specifica.</span><span class="sxs-lookup"><span data-stu-id="e3999-136">When you perform a linguistic comparison, some nonalphanumeric Unicode characters might have special weights assigned.</span></span> <span data-ttu-id="e3999-137">Ad esempio il trattino "-" può avere una valenza ridotta, pertanto le parole "co-op"e "coop" vengono visualizzate l'una accanto all'altra nell'ordinamento.</span><span class="sxs-lookup"><span data-stu-id="e3999-137">For example, the hyphen "-" may have a very small weight assigned to it so that "co-op" and "coop" appear next to each other in sort order.</span></span> <span data-ttu-id="e3999-138">Alcuni caratteri Unicode possono anche essere equivalenti a una sequenza di istanze di <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="e3999-138">In addition, some Unicode characters may be equivalent to a sequence of <xref:System.Char> instances.</span></span> <span data-ttu-id="e3999-139">L'esempio seguente usa la frase "Ballano per strada."</span><span class="sxs-lookup"><span data-stu-id="e3999-139">The following example uses the phrase "They dance in the street."</span></span> <span data-ttu-id="e3999-140">in tedesco con "ss" (U+0073 U+0073) in una stringa e 'ß' (U+00DF) in un'altra.</span><span class="sxs-lookup"><span data-stu-id="e3999-140">in German with the "ss" (U+0073 U+0073) in one string and 'ß' (U+00DF) in another.</span></span> <span data-ttu-id="e3999-141">Dal punto di vista linguistico (in Windows), "ss" equivale al carattere tedesco Esszet "ß", sia nelle impostazioni cultura "en-US" che in quelle "de-DE".</span><span class="sxs-lookup"><span data-stu-id="e3999-141">Linguistically (in Windows), "ss" is equal to the German Esszet: 'ß' character in both the "en-US" and "de-DE" cultures.</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet3":::

<span data-ttu-id="e3999-142">Questo esempio dimostra che i confronti linguistici sono dipendenti dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e3999-142">This sample demonstrates the operating system-dependent nature of linguistic comparisons.</span></span> <span data-ttu-id="e3999-143">L'host della finestra interattiva è un host Linux.</span><span class="sxs-lookup"><span data-stu-id="e3999-143">The host for the interactive window is a Linux host.</span></span> <span data-ttu-id="e3999-144">Il confronto linguistico e il confronto ordinale producono gli stessi risultati.</span><span class="sxs-lookup"><span data-stu-id="e3999-144">The linguistic and ordinal comparisons produce the same results.</span></span> <span data-ttu-id="e3999-145">Se si esegue lo stesso esempio in un host Windows viene visualizzato l'output seguente:</span><span class="sxs-lookup"><span data-stu-id="e3999-145">If you ran this same sample on a Windows host, you would see the following output:</span></span>

```console
<coop> is less than <co-op> using invariant culture
<coop> is greater than <co-op> using ordinal comparison
<coop> is less than <cop> using invariant culture
<coop> is less than <cop> using ordinal comparison
<co-op> is less than <cop> using invariant culture
<co-op> is less than <cop> using ordinal comparison
```

<span data-ttu-id="e3999-146">In Windows, l'ordinamento di "cop", "coop" e "co-op" cambia quando si passa da un confronto linguistico a un confronto ordinale.</span><span class="sxs-lookup"><span data-stu-id="e3999-146">On Windows, the sort order of "cop", "coop", and "co-op" change when you change from a linguistic comparison to an ordinal comparison.</span></span> <span data-ttu-id="e3999-147">Anche l'ordinamento delle due frasi in tedesco cambia a seconda del tipo di confronto.</span><span class="sxs-lookup"><span data-stu-id="e3999-147">The two German sentences also compare differently using the different comparison types.</span></span>

## <a name="comparisons-using-specific-cultures"></a><span data-ttu-id="e3999-148">Confronti che usano impostazioni cultura specifiche</span><span class="sxs-lookup"><span data-stu-id="e3999-148">Comparisons using specific cultures</span></span>

<span data-ttu-id="e3999-149">Questo esempio archivia oggetti <xref:System.Globalization.CultureInfo> per le impostazioni cultura en-US e de-DE.</span><span class="sxs-lookup"><span data-stu-id="e3999-149">This sample stores <xref:System.Globalization.CultureInfo> objects for the en-US and de-DE cultures.</span></span>
<span data-ttu-id="e3999-150">I confronti vengono eseguiti usando un oggetto <xref:System.Globalization.CultureInfo> per garantire un confronto dipendente dalle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="e3999-150">The comparisons are performed using a <xref:System.Globalization.CultureInfo> object to ensure a culture-specific comparison.</span></span>

<span data-ttu-id="e3999-151">Le impostazioni cultura usate hanno effetto sui confronti linguistici.</span><span class="sxs-lookup"><span data-stu-id="e3999-151">The culture used affects linguistic comparisons.</span></span> <span data-ttu-id="e3999-152">L'esempio seguente visualizza i risultati del confronto tra le due frasi in lingua tedesca usando le impostazioni cultura "en-US" e le impostazioni cultura "de-DE":</span><span class="sxs-lookup"><span data-stu-id="e3999-152">The following example shows the results of comparing the two German sentences using the "en-US" culture and the "de-DE" culture:</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet4":::

<span data-ttu-id="e3999-153">In genere i confronti con rilevamento delle impostazioni cultura vengono usati per confrontare e ordinare stringhe immesse dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="e3999-153">Culture-sensitive comparisons are typically used to compare and sort strings input by users with other strings input by users.</span></span> <span data-ttu-id="e3999-154">I caratteri e le convenzioni di ordinamento di queste stringhe possono variare a seconda delle impostazioni locali del computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e3999-154">The characters and sorting conventions of these strings might vary depending on the locale of the user's computer.</span></span> <span data-ttu-id="e3999-155">Anche stringhe che contengono caratteri identici potrebbero essere ordinate in modo diverso a seconda delle impostazioni cultura del thread corrente.</span><span class="sxs-lookup"><span data-stu-id="e3999-155">Even strings that contain identical characters might sort differently depending on the culture of the current thread.</span></span> <span data-ttu-id="e3999-156">Provare ad eseguire questo codice di esempio anche in locale, in un computer Windows. Si ottengono i risultati seguenti:</span><span class="sxs-lookup"><span data-stu-id="e3999-156">In addition, try this sample code locally on a Windows machine, and you will the following results:</span></span>

```console
<coop> is less than <co-op> using en-US culture
<coop> is greater than <co-op> using ordinal comparison
<coop> is less than <cop> using en-US culture
<coop> is less than <cop> using ordinal comparison
<co-op> is less than <cop> using en-US culture
<co-op> is less than <cop> using ordinal comparison
```

<span data-ttu-id="e3999-157">I confronti linguistici dipendono dalle impostazioni cultura correnti e dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e3999-157">Linguistic comparisons are dependent on the current culture, and are OS dependent.</span></span> <span data-ttu-id="e3999-158">Tenere presente questo aspetto quando si lavora con confronti tra stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-158">You must take that into account when you work with string comparisons.</span></span>

## <a name="linguistic-sorting-and-searching-strings-in-arrays"></a><span data-ttu-id="e3999-159">Ordinamento linguistico e ricerca di stringhe nelle matrici</span><span class="sxs-lookup"><span data-stu-id="e3999-159">Linguistic sorting and searching strings in arrays</span></span>

<span data-ttu-id="e3999-160">Gli esempi seguenti illustrano come eseguire l'ordinamento e la ricerca di stringhe in una matrice mediante un confronto linguistico dipendente dalle impostazioni cultura correnti.</span><span class="sxs-lookup"><span data-stu-id="e3999-160">The following examples show how to sort and search for strings in an array using a linguistic comparison dependent on the current culture.</span></span> <span data-ttu-id="e3999-161">Si usano i metodi <xref:System.Array> statici che accettano un parametro <xref:System.StringComparer?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-161">You use the static <xref:System.Array> methods that take a <xref:System.StringComparer?displayProperty=nameWithType> parameter.</span></span>

<span data-ttu-id="e3999-162">Questo esempio illustra come ordinare una matrice di stringhe in base alle impostazioni cultura correnti:</span><span class="sxs-lookup"><span data-stu-id="e3999-162">This example shows how to sort an array of strings using the current culture:</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet5":::

<span data-ttu-id="e3999-163">Quando la matrice è ordinata, è possibile cercare voci con una ricerca binaria.</span><span class="sxs-lookup"><span data-stu-id="e3999-163">Once the array is sorted, you can search for entries using a binary search.</span></span> <span data-ttu-id="e3999-164">Una ricerca binaria inizia a metà della raccolta per determinare quale metà contiene la stringa cercata.</span><span class="sxs-lookup"><span data-stu-id="e3999-164">A binary search starts in the middle of the collection to determine which half of the collection would contain the sought string.</span></span> <span data-ttu-id="e3999-165">Ogni confronto successivo divide a metà la parte rimanente della raccolta.</span><span class="sxs-lookup"><span data-stu-id="e3999-165">Each subsequent comparison subdivides the remaining part of the collection in half.</span></span>  <span data-ttu-id="e3999-166">La matrice viene ordinata usando <xref:System.StringComparer.CurrentCulture?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-166">The array is sorted using the <xref:System.StringComparer.CurrentCulture?displayProperty=nameWithType>.</span></span> <span data-ttu-id="e3999-167">La funzione locale `ShowWhere` visualizza informazioni sul punto in cui è stata trovata la stringa.</span><span class="sxs-lookup"><span data-stu-id="e3999-167">The local function `ShowWhere` displays information about where the string was found.</span></span> <span data-ttu-id="e3999-168">Se la stringa non viene trovata, il valore restituito indica quale sarebbe la sua posizione se fosse stata trovata.</span><span class="sxs-lookup"><span data-stu-id="e3999-168">If the string was not found, the returned value indicates where it would be if it were found.</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet6":::

## <a name="ordinal-sorting-and-searching-in-collections"></a><span data-ttu-id="e3999-169">Ordinamento e ricerca ordinali nelle raccolte</span><span class="sxs-lookup"><span data-stu-id="e3999-169">Ordinal sorting and searching in collections</span></span>

<span data-ttu-id="e3999-170">Il codice seguente usa la classe della raccolta <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> per memorizzare le stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-170">The following code uses the <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> collection class to store strings.</span></span> <span data-ttu-id="e3999-171">Le stringhe vengono ordinate usando il metodo <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-171">The strings are sorted using the <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="e3999-172">Questo metodo richiede un delegato che confronta e ordina due stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-172">This method needs a delegate that compares and orders two strings.</span></span> <span data-ttu-id="e3999-173">La funzione di confronto è resa disponibile dal metodo <xref:System.String.CompareTo%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-173">The <xref:System.String.CompareTo%2A?displayProperty=nameWithType> method provides that comparison function.</span></span> <span data-ttu-id="e3999-174">Eseguire l'esempio e osservare l'ordine.</span><span class="sxs-lookup"><span data-stu-id="e3999-174">Run the sample and observe the order.</span></span> <span data-ttu-id="e3999-175">Questa operazione di ordinamento usa un ordinamento ordinale con distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="e3999-175">This sort operation uses an ordinal case sensitive sort.</span></span> <span data-ttu-id="e3999-176">Per specificare regole di confronto diverse sarebbe necessario usare i metodi <xref:System.String.Compare%2A?displayProperty=nameWithType> statici.</span><span class="sxs-lookup"><span data-stu-id="e3999-176">You would use the static <xref:System.String.Compare%2A?displayProperty=nameWithType> methods to specify different comparison rules.</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet7":::

<span data-ttu-id="e3999-177">Dopo l'ordinamento è possibile eseguire ricerche nell'elenco di stringhe usando una ricerca binaria.</span><span class="sxs-lookup"><span data-stu-id="e3999-177">Once sorted, the list of strings can be searched using a binary search.</span></span> <span data-ttu-id="e3999-178">L'esempio seguente illustra come eseguire una ricerca nell'elenco ordinato usando la stessa funzione di confronto.</span><span class="sxs-lookup"><span data-stu-id="e3999-178">The following sample shows how to search the sorted listed using the same comparison function.</span></span> <span data-ttu-id="e3999-179">La funzione locale `ShowWhere` visualizza il punto in cui si trova o dovrebbe trovarsi il testo cercato:</span><span class="sxs-lookup"><span data-stu-id="e3999-179">The local function `ShowWhere` shows where the sought text is or would be:</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet8":::

<span data-ttu-id="e3999-180">Assicurarsi di usare sempre lo stesso tipo di confronto per l'ordinamento e la ricerca.</span><span class="sxs-lookup"><span data-stu-id="e3999-180">Always make sure to use the same type of comparison for sorting and searching.</span></span> <span data-ttu-id="e3999-181">L'uso di tipi di confronto diversi per l'ordinamento e la ricerca produce risultati imprevisti.</span><span class="sxs-lookup"><span data-stu-id="e3999-181">Using different comparison types for sorting and searching produces unexpected results.</span></span>

<span data-ttu-id="e3999-182">Le classi Collection, ad esempio <xref:System.Collections.Hashtable?displayProperty=nameWithType>, <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType>, e <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> contengono costruttori che accettano un parametro <xref:System.StringComparer?displayProperty=nameWithType> quando il tipo degli elementi o delle chiavi è `string`.</span><span class="sxs-lookup"><span data-stu-id="e3999-182">Collection classes such as <xref:System.Collections.Hashtable?displayProperty=nameWithType>, <xref:System.Collections.Generic.Dictionary%602?displayProperty=nameWithType>, and <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> have constructors that take a <xref:System.StringComparer?displayProperty=nameWithType> parameter when the type of the elements or keys is `string`.</span></span> <span data-ttu-id="e3999-183">In generale è necessario usare sempre questi costruttori, quando possibile, e specificare il parametro <xref:System.StringComparer.Ordinal?displayProperty=nameWithType> o <xref:System.StringComparer.OrdinalIgnoreCase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-183">In general, you should use these constructors whenever possible, and specify either <xref:System.StringComparer.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparer.OrdinalIgnoreCase?displayProperty=nameWithType>.</span></span>

## <a name="reference-equality-and-string-interning"></a><span data-ttu-id="e3999-184">Uguaglianza di riferimenti e centralizzazione delle stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-184">Reference equality and string interning</span></span>

<span data-ttu-id="e3999-185"><xref:System.Object.ReferenceEquals%2A> non è stato usato in nessun esempio.</span><span class="sxs-lookup"><span data-stu-id="e3999-185">None of the samples have used <xref:System.Object.ReferenceEquals%2A>.</span></span> <span data-ttu-id="e3999-186">Questo metodo determina se due stringhe sono lo stesso oggetto.</span><span class="sxs-lookup"><span data-stu-id="e3999-186">This method determines if two strings are the same object.</span></span> <span data-ttu-id="e3999-187">Questo può causare risultati incoerenti nei confronti tra stringhe.</span><span class="sxs-lookup"><span data-stu-id="e3999-187">This can lead to inconsistent results in string comparisons.</span></span> <span data-ttu-id="e3999-188">L'esempio seguente illustra la funzionalità di *centralizzazione delle stringhe* di C#.</span><span class="sxs-lookup"><span data-stu-id="e3999-188">The following example demonstrates the *string interning* feature of C#.</span></span> <span data-ttu-id="e3999-189">Quando un programma dichiara due o più variabili di stringa identiche, il compilatore le archivia tutte nello stesso percorso.</span><span class="sxs-lookup"><span data-stu-id="e3999-189">When a program declares two or more identical string variables, the compiler stores them all in the same location.</span></span> <span data-ttu-id="e3999-190">Chiamando il metodo <xref:System.Object.ReferenceEquals%2A> è possibile vedere che le due stringhe si riferiscono effettivamente allo stesso oggetto in memoria.</span><span class="sxs-lookup"><span data-stu-id="e3999-190">By calling the <xref:System.Object.ReferenceEquals%2A> method, you can see that the two strings actually refer to the same object in memory.</span></span> <span data-ttu-id="e3999-191">Per evitare la centralizzazione, usare il metodo <xref:System.String.Copy%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-191">Use the <xref:System.String.Copy%2A?displayProperty=nameWithType> method to avoid interning.</span></span> <span data-ttu-id="e3999-192">Dopo la copia, le due stringhe hanno posizioni di archiviazione diverse anche se hanno lo stesso valore.</span><span class="sxs-lookup"><span data-stu-id="e3999-192">After the copy has been made, the two strings have different storage locations, even though they have the same value.</span></span> <span data-ttu-id="e3999-193">Eseguire l'esempio seguente per verificare che le stringhe `a` e `b` sono *centralizzate*, ovvero condividono la stessa risorsa di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="e3999-193">Run the following sample to show that strings `a` and `b` are *interned* meaning they share the same storage.</span></span> <span data-ttu-id="e3999-194">Le stringhe `a` e `c` non lo sono.</span><span class="sxs-lookup"><span data-stu-id="e3999-194">The strings `a` and `c` are not.</span></span>

:::code language="csharp" interactive="try-dotnet-method" source="../../../samples/snippets/csharp/how-to/strings/CompareStrings.cs" id="Snippet9":::

> [!NOTE]
> <span data-ttu-id="e3999-195">Per verificare l'uguaglianza fra stringhe è opportuno usare metodi che consentono di specificare in modo esplicito il tipo di confronto da eseguire.</span><span class="sxs-lookup"><span data-stu-id="e3999-195">When you test for equality of strings, you should use the methods that explicitly specify what kind of comparison you intend to perform.</span></span> <span data-ttu-id="e3999-196">In questo modo il codice risulta molto più gestibile e leggibile.</span><span class="sxs-lookup"><span data-stu-id="e3999-196">Your code is much more maintainable and readable.</span></span> <span data-ttu-id="e3999-197">Usare gli overload dei metodi delle classi <xref:System.String?displayProperty=nameWithType> e <xref:System.Array?displayProperty=nameWithType> che accettano un parametro di enumerazione <xref:System.StringComparison>.</span><span class="sxs-lookup"><span data-stu-id="e3999-197">Use the overloads of the methods of the <xref:System.String?displayProperty=nameWithType> and <xref:System.Array?displayProperty=nameWithType> classes that take a <xref:System.StringComparison> enumeration parameter.</span></span> <span data-ttu-id="e3999-198">È possibile specificare il tipo di confronto da eseguire.</span><span class="sxs-lookup"><span data-stu-id="e3999-198">You specify which type of comparison to perform.</span></span> <span data-ttu-id="e3999-199">Evitare di usare gli operatori `==` e `!=` nelle verifiche di uguaglianza.</span><span class="sxs-lookup"><span data-stu-id="e3999-199">Avoid using the `==` and `!=` operators when you test for equality.</span></span> <span data-ttu-id="e3999-200">I metodi di istanza <xref:System.String.CompareTo%2A?displayProperty=nameWithType> eseguono sempre un confronto ordinale con distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="e3999-200">The <xref:System.String.CompareTo%2A?displayProperty=nameWithType> instance methods always perform an ordinal case-sensitive comparison.</span></span> <span data-ttu-id="e3999-201">Sono adatti soprattutto per ordinare le stringhe in ordine alfabetico.</span><span class="sxs-lookup"><span data-stu-id="e3999-201">They are primarily suited for ordering strings alphabetically.</span></span>

<span data-ttu-id="e3999-202">È possibile inserire una stringa nel pool interno oppure recuperare un riferimento a una stringa inserita nel pool interno chiamando il metodo <xref:System.String.Intern%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-202">You can intern a string or retrieve a reference to an existing interned string by calling the <xref:System.String.Intern%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="e3999-203">Per determinare se una stringa è inserita nel pool interno, chiamare il metodo <xref:System.String.IsInterned%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e3999-203">To determine whether a string is interned, call the <xref:System.String.IsInterned%2A?displayProperty=nameWithType> method.</span></span>

## <a name="see-also"></a><span data-ttu-id="e3999-204">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e3999-204">See also</span></span>

- <xref:System.Globalization.CultureInfo?displayProperty=nameWithType>
- <xref:System.StringComparer?displayProperty=nameWithType>
- [<span data-ttu-id="e3999-205">Stringhe</span><span class="sxs-lookup"><span data-stu-id="e3999-205">Strings</span></span>](../programming-guide/strings/index.md)
- [<span data-ttu-id="e3999-206">Confronto di stringhe</span><span class="sxs-lookup"><span data-stu-id="e3999-206">Comparing strings</span></span>](../../standard/base-types/comparing.md)
- [<span data-ttu-id="e3999-207">Globalizzazione e localizzazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="e3999-207">Globalizing and localizing applications</span></span>](/visualstudio/ide/globalizing-and-localizing-applications)
