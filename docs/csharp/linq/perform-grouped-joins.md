---
title: Eseguire join raggruppati (LINQ in C#)
description: Informazioni su come eseguire join raggruppati usando LINQ in C#.
ms.date: 04/22/2020
ms.assetid: 9667daf9-a5fd-4b43-a5c4-a9c2b744000e
ms.openlocfilehash: 740a861da7dfb9653a874d5baf67eeb2030555b4
ms.sourcegitcommit: 8b02d42f93adda304246a47f49f6449fc74a3af4
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/24/2020
ms.locfileid: "82135750"
---
# <a name="perform-grouped-joins"></a><span data-ttu-id="cd6f6-103">Eseguire join raggruppati</span><span class="sxs-lookup"><span data-stu-id="cd6f6-103">Perform grouped joins</span></span>

<span data-ttu-id="cd6f6-104">Il join di gruppo è utile per produrre strutture di dati gerarchiche.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-104">The group join is useful for producing hierarchical data structures.</span></span> <span data-ttu-id="cd6f6-105">Abbina ogni elemento della prima raccolta con un set di elementi correlati della seconda raccolta.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-105">It pairs each element from the first collection with a set of correlated elements from the second collection.</span></span>

<span data-ttu-id="cd6f6-106">Ad esempio, una classe o una tabella di database relazionale denominata `Student` potrebbe contenere due campi: `Id` e `Name`.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-106">For example, a class or a relational database table named `Student` might contain two fields: `Id` and `Name`.</span></span> <span data-ttu-id="cd6f6-107">Un'altra classe o tabella di database relazionale denominata `Course` potrebbe contenere due campi: `StudentId` e `CourseTitle`.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-107">A second class or relational database table named `Course` might contain two fields: `StudentId` and `CourseTitle`.</span></span> <span data-ttu-id="cd6f6-108">Un join di gruppo di queste due origini dati, basato sulla corrispondenza di `Student.Id` e `Course.StudentId` raggrupperebbe ogni `Student` con una raccolta di oggetti `Course` (che può essere vuota).</span><span class="sxs-lookup"><span data-stu-id="cd6f6-108">A group join of these two data sources, based on matching `Student.Id` and `Course.StudentId`, would group each `Student` with a collection of `Course` objects (which might be empty).</span></span>

> [!NOTE]
> <span data-ttu-id="cd6f6-109">Ogni elemento della prima raccolta viene visualizzato nel set di risultati di un join di gruppo indipendentemente dal fatto che gli elementi correlati vengano trovati nella seconda raccolta.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-109">Each element of the first collection appears in the result set of a group join regardless of whether correlated elements are found in the second collection.</span></span> <span data-ttu-id="cd6f6-110">Nel caso in cui non venga trovato alcun elemento correlato, la sequenza di elementi correlati per l'elemento è vuota.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-110">In the case where no correlated elements are found, the sequence of correlated elements for that element is empty.</span></span> <span data-ttu-id="cd6f6-111">Il selettore del risultato ha pertanto accesso a ogni elemento della prima raccolta.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-111">The result selector therefore has access to every element of the first collection.</span></span> <span data-ttu-id="cd6f6-112">È diverso dal selettore del risultato in un join non di gruppo, che non può accedere a elementi della prima raccolta che non hanno corrispondenza nella seconda raccolta.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-112">This differs from the result selector in a non-group join, which cannot access elements from the first collection that have no match in the second collection.</span></span>

> [!WARNING]
> <span data-ttu-id="cd6f6-113"><xref:System.Linq.Enumerable.GroupJoin%2A?displayProperty=nameWithType>non ha equivalenti diretti in termini di database relazionali tradizionali.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-113"><xref:System.Linq.Enumerable.GroupJoin%2A?displayProperty=nameWithType> has no direct equivalent in traditional relational database terms.</span></span> <span data-ttu-id="cd6f6-114">Tuttavia, questo metodo implementa un superset di Inner join e left outer join.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-114">However, this method does implement a superset of inner joins and left outer joins.</span></span> <span data-ttu-id="cd6f6-115">Entrambe queste operazioni possono essere scritte in base a un join raggruppato.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-115">Both of these operations can be written in terms of a grouped join.</span></span> <span data-ttu-id="cd6f6-116">Per ulteriori informazioni, vedere [operazioni di join](../programming-guide/concepts/linq/join-operations.md) e [Entity Framework Core, GroupJoin](https://docs.microsoft.com/ef/core/querying/complex-query-operators#groupjoin).</span><span class="sxs-lookup"><span data-stu-id="cd6f6-116">For more information, see [Join Operations](../programming-guide/concepts/linq/join-operations.md) and [Entity Framework Core, GroupJoin](https://docs.microsoft.com/ef/core/querying/complex-query-operators#groupjoin).</span></span>

<span data-ttu-id="cd6f6-117">Il primo esempio in questo articolo illustra come eseguire un join di gruppo.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-117">The first example in this article shows you how to perform a group join.</span></span> <span data-ttu-id="cd6f6-118">Il secondo esempio descrive come usare un join di gruppo per creare elementi XML.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-118">The second example shows you how to use a group join to create XML elements.</span></span>

## <a name="example---group-join"></a><span data-ttu-id="cd6f6-119">Esempio - Join di gruppo</span><span class="sxs-lookup"><span data-stu-id="cd6f6-119">Example - Group join</span></span>

<span data-ttu-id="cd6f6-120">L'esempio seguente esegue un join di gruppo di oggetti di tipo `Person` e `Pet` basato su `Person` corrispondente alla proprietà `Pet.Owner`.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-120">The following example performs a group join of objects of type `Person` and `Pet` based on the `Person` matching the `Pet.Owner` property.</span></span> <span data-ttu-id="cd6f6-121">Diversamente da un join non di gruppo che produrrebbe una coppia di elementi per ogni corrispondenza, il join di gruppo produce un solo oggetto risultante per ogni elemento della prima raccolta, che in questo esempio è un oggetto `Person`.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-121">Unlike a non-group join, which would produce a pair of elements for each match, the group join produces only one resulting object for each element of the first collection, which in this example is a `Person` object.</span></span> <span data-ttu-id="cd6f6-122">Gli elementi corrispondenti della seconda raccolta, che in questo esempio sono oggetti `Pet` vengono raggruppati in una raccolta.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-122">The corresponding elements from the second collection, which in this example are `Pet` objects, are grouped into a collection.</span></span> <span data-ttu-id="cd6f6-123">La funzione del selettore del risultato crea infine un tipo anonimo per ogni corrispondenza costituita da `Person.FirstName` e una raccolta di oggetti `Pet`.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-123">Finally, the result selector function creates an anonymous type for each match that consists of `Person.FirstName` and a collection of `Pet` objects.</span></span>

[!code-csharp[CsLINQProgJoining#5](~/samples/snippets/csharp/concepts/linq/how-to-perform-grouped-joins_1.cs)]

## <a name="example---group-join-to-create-xml"></a><span data-ttu-id="cd6f6-124">Esempio - Join di gruppo per la creazione di XML</span><span class="sxs-lookup"><span data-stu-id="cd6f6-124">Example - Group join to create XML</span></span>

<span data-ttu-id="cd6f6-125">I join di gruppo sono ideali per la creazione di XML tramite LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-125">Group joins are ideal for creating XML by using LINQ to XML.</span></span> <span data-ttu-id="cd6f6-126">L'esempio seguente è simile a quello precedente tranne per il fatto che, invece di creare tipi anonimi, la funzione del selettore del risultato crea elementi XML che rappresentano gli oggetti uniti in join.</span><span class="sxs-lookup"><span data-stu-id="cd6f6-126">The following example is similar to the previous example except that instead of creating anonymous types, the result selector function creates XML elements that represent the joined objects.</span></span>

[!code-csharp[CsLINQProgJoining#6](~/samples/snippets/csharp/concepts/linq/how-to-perform-grouped-joins_2.cs)]

## <a name="see-also"></a><span data-ttu-id="cd6f6-127">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="cd6f6-127">See also</span></span>

- <xref:System.Linq.Enumerable.Join%2A>
- <xref:System.Linq.Enumerable.GroupJoin%2A>
- [<span data-ttu-id="cd6f6-128">Eseguire inner join</span><span class="sxs-lookup"><span data-stu-id="cd6f6-128">Perform inner joins</span></span>](perform-inner-joins.md)
- [<span data-ttu-id="cd6f6-129">Eseguire left outer join</span><span class="sxs-lookup"><span data-stu-id="cd6f6-129">Perform left outer joins</span></span>](perform-left-outer-joins.md)
- [<span data-ttu-id="cd6f6-130">Tipi anonimi</span><span class="sxs-lookup"><span data-stu-id="cd6f6-130">Anonymous types</span></span>](../programming-guide/classes-and-structs/anonymous-types.md)
