---
title: Modelli di osservabilità
description: Modelli di osservabilità per le applicazioni native del cloud
ms.date: 05/13/2020
ms.openlocfilehash: db6a56358923025cbcca9478908474227e5da96d
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613811"
---
# <a name="observability-patterns"></a><span data-ttu-id="a836e-103">Modelli di osservabilità</span><span class="sxs-lookup"><span data-stu-id="a836e-103">Observability patterns</span></span>

<span data-ttu-id="a836e-104">Così come i modelli sono stati sviluppati per facilitare il layout del codice nelle applicazioni, esistono modelli per le applicazioni operative in modo affidabile.</span><span class="sxs-lookup"><span data-stu-id="a836e-104">Just as patterns have been developed to aid in the layout of code in applications, there are patterns for operating applications in a reliable way.</span></span> <span data-ttu-id="a836e-105">Sono emersi tre modelli utili per la gestione delle applicazioni: **registrazione**, **monitoraggio**e **avvisi**.</span><span class="sxs-lookup"><span data-stu-id="a836e-105">Three useful patterns in maintaining applications have emerged: **logging**, **monitoring**, and **alerts**.</span></span>

## <a name="when-to-use-logging"></a><span data-ttu-id="a836e-106">Quando usare la registrazione</span><span class="sxs-lookup"><span data-stu-id="a836e-106">When to use logging</span></span>

<span data-ttu-id="a836e-107">Indipendentemente dall'attenzione, le applicazioni si comportano quasi sempre in modi imprevisti nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="a836e-107">No matter how careful we are, applications almost always behave in unexpected ways in production.</span></span> <span data-ttu-id="a836e-108">Quando gli utenti segnalano problemi con un'applicazione, è molto utile essere in grado di vedere cosa stava accadendo con l'app quando si è verificato il problema.</span><span class="sxs-lookup"><span data-stu-id="a836e-108">When users report problems with an application, it's extremely useful to be able to see what was going on with the app when the problem occurred.</span></span> <span data-ttu-id="a836e-109">Uno dei modi più efficaci e reali per acquisire informazioni sulle operazioni eseguite da un'applicazione mentre è in esecuzione è quello di fare in modo che l'applicazione scriva il risultato dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-109">One of the most tried and true ways of capturing information about what an application is doing while it's running is to have the application write down what it's doing.</span></span> <span data-ttu-id="a836e-110">Questo processo è noto come registrazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-110">This process is known as logging.</span></span> <span data-ttu-id="a836e-111">Ogni volta che si verificano errori o problemi in produzione, l'obiettivo è quello di riprodurre le condizioni in cui si sono verificati gli errori in un ambiente non di produzione.</span><span class="sxs-lookup"><span data-stu-id="a836e-111">Any time failures or problems occur in production, the goal should be to reproduce the conditions under which the failures occurred, in a non-production environment.</span></span> <span data-ttu-id="a836e-112">La corretta registrazione offre una guida di orientamento che gli sviluppatori possono seguire per duplicare i problemi in un ambiente che può essere testato e sperimentato.</span><span class="sxs-lookup"><span data-stu-id="a836e-112">Having good logging in place provides a roadmap for developers to follow in order to duplicate problems in an environment that can be tested and experimented with.</span></span>

### <a name="challenges-when-logging-with-cloud-native-applications"></a><span data-ttu-id="a836e-113">Problemi durante la registrazione con applicazioni native del cloud</span><span class="sxs-lookup"><span data-stu-id="a836e-113">Challenges when logging with cloud-native applications</span></span>

<span data-ttu-id="a836e-114">Nelle applicazioni tradizionali, i file di log vengono in genere archiviati nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="a836e-114">In traditional applications, log files are typically stored on the local machine.</span></span> <span data-ttu-id="a836e-115">In realtà, nei sistemi operativi simili a UNIX è definita una struttura di cartelle che contenga tutti i log, in genere in `/var/log` .</span><span class="sxs-lookup"><span data-stu-id="a836e-115">In fact, on Unix-like operating systems, there's a folder structure defined to hold any logs, typically under `/var/log`.</span></span>

<span data-ttu-id="a836e-116">![Registrazione in un file in un'app monolitica. ](./media/single-monolith-logging.png)
 **Figura 7-1**.</span><span class="sxs-lookup"><span data-stu-id="a836e-116">![Logging to a file in a monolithic app.](./media/single-monolith-logging.png)
**Figure 7-1**.</span></span> <span data-ttu-id="a836e-117">Registrazione in un file in un'app monolitica.</span><span class="sxs-lookup"><span data-stu-id="a836e-117">Logging to a file in a monolithic app.</span></span>

<span data-ttu-id="a836e-118">L'utilità di registrazione in un file flat in un singolo computer è notevolmente ridotta in un ambiente cloud.</span><span class="sxs-lookup"><span data-stu-id="a836e-118">The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment.</span></span> <span data-ttu-id="a836e-119">Le applicazioni che producono log potrebbero non avere accesso al disco locale o il disco locale può essere estremamente temporaneo perché i contenitori vengono mescolati intorno ai computer fisici.</span><span class="sxs-lookup"><span data-stu-id="a836e-119">Applications producing logs may not have access to the local disk or the local disk may be highly transient as containers are shuffled around physical machines.</span></span> <span data-ttu-id="a836e-120">Anche una semplice scalabilità verticale di applicazioni monolitiche in più nodi può rendere difficile l'individuazione del file di log appropriato basato su file.</span><span class="sxs-lookup"><span data-stu-id="a836e-120">Even simple scaling up of monolithic applications across multiple nodes can make it challenging to locate the appropriate file-based log file.</span></span>

<span data-ttu-id="a836e-121">![Accesso ai file in un'app monolitica ridimensionata. ](./media/multiple-node-monolith-logging.png)
 **Figura 7-2**.</span><span class="sxs-lookup"><span data-stu-id="a836e-121">![Logging to files in a scaled monolithic app.](./media/multiple-node-monolith-logging.png)
**Figure 7-2**.</span></span> <span data-ttu-id="a836e-122">Accesso ai file in un'app monolitica ridimensionata.</span><span class="sxs-lookup"><span data-stu-id="a836e-122">Logging to files in a scaled monolithic app.</span></span>

<span data-ttu-id="a836e-123">Le applicazioni native del cloud sviluppate usando un'architettura di microservizi presentano anche alcune problemi per i logger basati su file.</span><span class="sxs-lookup"><span data-stu-id="a836e-123">Cloud-native applications developed using a microservices architecture also pose some challenges for file-based loggers.</span></span> <span data-ttu-id="a836e-124">È ora possibile che le richieste utente si estendano su più servizi che vengono eseguiti in computer diversi e possono includere funzioni senza server senza accesso a una file system locale.</span><span class="sxs-lookup"><span data-stu-id="a836e-124">User requests may now span multiple services that are run on different machines and may include serverless functions with no access to a local file system at all.</span></span> <span data-ttu-id="a836e-125">Sarebbe molto difficile correlare i log di un utente o di una sessione tra questi numerosi servizi e computer.</span><span class="sxs-lookup"><span data-stu-id="a836e-125">It would be very challenging to correlate the logs from a user or a session across these many services and machines.</span></span>

<span data-ttu-id="a836e-126">![Registrazione in file locali in un'app di microservizi. ](./media/local-log-file-per-service.png)
 **Figura 7-3**.</span><span class="sxs-lookup"><span data-stu-id="a836e-126">![Logging to local files in a microservices app.](./media/local-log-file-per-service.png)
**Figure 7-3**.</span></span> <span data-ttu-id="a836e-127">Registrazione in file locali in un'app di microservizi.</span><span class="sxs-lookup"><span data-stu-id="a836e-127">Logging to local files in a microservices app.</span></span>

<span data-ttu-id="a836e-128">Infine, il numero di utenti in alcune applicazioni native del cloud è elevato.</span><span class="sxs-lookup"><span data-stu-id="a836e-128">Finally, the number of users in some cloud-native applications is high.</span></span> <span data-ttu-id="a836e-129">Si supponga che ogni utente generi un centinaio di righe di messaggi di log durante l'accesso a un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-129">Imagine that each user generates a hundred lines of log messages when they log into an application.</span></span> <span data-ttu-id="a836e-130">In isolamento, è gestibile, ma si moltiplicano gli utenti di 100.000 e il volume dei log diventa sufficientemente grande che siano necessari strumenti specializzati per supportare l'uso efficace dei log.</span><span class="sxs-lookup"><span data-stu-id="a836e-130">In isolation, that is manageable, but multiply that over 100,000 users and the volume of logs becomes large enough that specialized tools are needed to support effective use of the logs.</span></span>

### <a name="logging-in-cloud-native-applications"></a><span data-ttu-id="a836e-131">Registrazione nelle applicazioni native del cloud</span><span class="sxs-lookup"><span data-stu-id="a836e-131">Logging in cloud-native applications</span></span>

<span data-ttu-id="a836e-132">Ogni linguaggio di programmazione dispone di strumenti che consentono di scrivere log e in genere il sovraccarico per la scrittura di questi log è basso.</span><span class="sxs-lookup"><span data-stu-id="a836e-132">Every programming language has tooling that permits writing logs, and typically the overhead for writing these logs is low.</span></span> <span data-ttu-id="a836e-133">Molte delle librerie di registrazione consentono di registrare diversi tipi di criticità, che possono essere ottimizzate in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a836e-133">Many of the logging libraries provide logging different kinds of criticalities, which can be tuned at run time.</span></span> <span data-ttu-id="a836e-134">Ad esempio, la [libreria Serilog](https://serilog.net/) è una famosa libreria di registrazione strutturata per .NET che fornisce i livelli di registrazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="a836e-134">For instance, the [Serilog library](https://serilog.net/) is a popular structured logging library for .NET that provides the following logging levels:</span></span>

* <span data-ttu-id="a836e-135">Dettagliato</span><span class="sxs-lookup"><span data-stu-id="a836e-135">Verbose</span></span>
* <span data-ttu-id="a836e-136">Debug</span><span class="sxs-lookup"><span data-stu-id="a836e-136">Debug</span></span>
* <span data-ttu-id="a836e-137">Informazioni</span><span class="sxs-lookup"><span data-stu-id="a836e-137">Information</span></span>
* <span data-ttu-id="a836e-138">Avviso</span><span class="sxs-lookup"><span data-stu-id="a836e-138">Warning</span></span>
* <span data-ttu-id="a836e-139">Errore</span><span class="sxs-lookup"><span data-stu-id="a836e-139">Error</span></span>
* <span data-ttu-id="a836e-140">Fatal</span><span class="sxs-lookup"><span data-stu-id="a836e-140">Fatal</span></span>

<span data-ttu-id="a836e-141">Questi livelli di log diversi forniscono la granularità nella registrazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-141">These different log levels provide granularity in logging.</span></span> <span data-ttu-id="a836e-142">Quando l'applicazione funziona correttamente nell'ambiente di produzione, può essere configurata in modo da registrare solo i messaggi importanti.</span><span class="sxs-lookup"><span data-stu-id="a836e-142">When the application is functioning properly in production, it may be configured to only log important messages.</span></span> <span data-ttu-id="a836e-143">Quando l'applicazione si comporta in modo errato, è possibile aumentare il livello di registrazione, in modo che vengano raccolti log più dettagliati.</span><span class="sxs-lookup"><span data-stu-id="a836e-143">When the application is misbehaving, then the log level can be increased so more verbose logs are gathered.</span></span> <span data-ttu-id="a836e-144">Questo bilancia le prestazioni in base alla facilità di debug.</span><span class="sxs-lookup"><span data-stu-id="a836e-144">This balances performance against ease of debugging.</span></span>

<span data-ttu-id="a836e-145">Le prestazioni elevate degli strumenti di registrazione e della tunability del livello di dettaglio devono incoraggiare gli sviluppatori a registrarsi di frequente.</span><span class="sxs-lookup"><span data-stu-id="a836e-145">The high performance of logging tools and the tunability of verbosity should encourage developers to log frequently.</span></span> <span data-ttu-id="a836e-146">Molti prediligono un modello di registrazione della voce e dell'uscita di ogni metodo.</span><span class="sxs-lookup"><span data-stu-id="a836e-146">Many favor a pattern of logging the entry and exit of each method.</span></span> <span data-ttu-id="a836e-147">Questo approccio può sembrare eccessivo, ma non è frequente che gli sviluppatori vogliano una minore registrazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-147">This approach may sound like overkill, but it's infrequent that developers will wish for less logging.</span></span> <span data-ttu-id="a836e-148">In realtà, non è insolito eseguire le distribuzioni per l'unico scopo di aggiungere la registrazione intorno a un metodo problematico.</span><span class="sxs-lookup"><span data-stu-id="a836e-148">In fact, it's not uncommon to perform deployments for the sole purpose of adding logging around a problematic method.</span></span> <span data-ttu-id="a836e-149">Errore sul lato di una registrazione eccessiva e non su un importo troppo basso.</span><span class="sxs-lookup"><span data-stu-id="a836e-149">Err on the side of too much logging and not on too little.</span></span> <span data-ttu-id="a836e-150">È possibile utilizzare alcuni strumenti per fornire automaticamente questo tipo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-150">Some tools can be used to automatically provide this kind of logging.</span></span>

<span data-ttu-id="a836e-151">A causa dei problemi associati all'uso di log basati su file nelle app native del cloud, i log centralizzati sono preferiti.</span><span class="sxs-lookup"><span data-stu-id="a836e-151">Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs are preferred.</span></span> <span data-ttu-id="a836e-152">I log vengono raccolti dalle applicazioni e spediti a un'applicazione di registrazione centrale che indicizza e archivia i log.</span><span class="sxs-lookup"><span data-stu-id="a836e-152">Logs are collected by the applications and shipped to a central logging application which indexes and stores the logs.</span></span> <span data-ttu-id="a836e-153">Questa classe di sistema può inserire decine di gigabyte di log ogni giorno.</span><span class="sxs-lookup"><span data-stu-id="a836e-153">This class of system can ingest tens of gigabytes of logs every day.</span></span>

<span data-ttu-id="a836e-154">È inoltre utile seguire alcune procedure standard per la creazione di registrazioni che si estendono su molti servizi.</span><span class="sxs-lookup"><span data-stu-id="a836e-154">It's also helpful to follow some standard practices when building logging that spans many services.</span></span> <span data-ttu-id="a836e-155">Ad esempio, la generazione di un [ID di correlazione](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) all'inizio di un'interazione lunga e la relativa registrazione in ogni messaggio correlato all'interazione, semplifica la ricerca di tutti i messaggi correlati.</span><span class="sxs-lookup"><span data-stu-id="a836e-155">For instance, generating a [correlation ID](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) at the start of a lengthy interaction, and then logging it in each message that is related to that interaction, makes it easier to search for all related messages.</span></span> <span data-ttu-id="a836e-156">È sufficiente trovare un solo messaggio ed estrarre l'ID di correlazione per trovare tutti i messaggi correlati.</span><span class="sxs-lookup"><span data-stu-id="a836e-156">One need only find a single message and extract the correlation ID to find all the related messages.</span></span> <span data-ttu-id="a836e-157">Un altro esempio è garantire che il formato di log sia lo stesso per ogni servizio, indipendentemente dalla lingua o dalla libreria di registrazione utilizzata.</span><span class="sxs-lookup"><span data-stu-id="a836e-157">Another example is ensuring that the log format is the same for every service, whatever the language or logging library it uses.</span></span> <span data-ttu-id="a836e-158">Questa standardizzazione rende molto più semplice la lettura dei log.</span><span class="sxs-lookup"><span data-stu-id="a836e-158">This standardization makes reading logs much easier.</span></span> <span data-ttu-id="a836e-159">La figura 7-4 illustra il modo in cui un'architettura di microservizi può sfruttare la registrazione centralizzata come parte del proprio flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="a836e-159">Figure 7-4 demonstrates how a microservices architecture can leverage centralized logging as part of its workflow.</span></span>

<span data-ttu-id="a836e-160">![I log da varie origini vengono inseriti in un archivio di log centralizzato. ](./media/centralized-logging.png)
 **Figura 7-4**.</span><span class="sxs-lookup"><span data-stu-id="a836e-160">![Logs from various sources are ingested into a centralized log store.](./media/centralized-logging.png)
**Figure 7-4**.</span></span> <span data-ttu-id="a836e-161">I log da varie origini vengono inseriti in un archivio di log centralizzato.</span><span class="sxs-lookup"><span data-stu-id="a836e-161">Logs from various sources are ingested into a centralized log store.</span></span>

## <a name="challenges-with-detecting-and-responding-to-potential-app-health-issues"></a><span data-ttu-id="a836e-162">Problemi di rilevamento e risposta a potenziali problemi di integrità delle app</span><span class="sxs-lookup"><span data-stu-id="a836e-162">Challenges with detecting and responding to potential app health issues</span></span>

<span data-ttu-id="a836e-163">Alcune applicazioni non sono cruciali.</span><span class="sxs-lookup"><span data-stu-id="a836e-163">Some applications aren't mission critical.</span></span> <span data-ttu-id="a836e-164">È possibile che vengano usati solo internamente e, quando si verifica un problema, l'utente può contattare il team responsabile e l'applicazione può essere riavviata.</span><span class="sxs-lookup"><span data-stu-id="a836e-164">Maybe they're only used internally, and when a problem occurs, the user can contact the team responsible and the application can be restarted.</span></span> <span data-ttu-id="a836e-165">Tuttavia, i clienti hanno spesso aspettative più elevate per le applicazioni che utilizzano.</span><span class="sxs-lookup"><span data-stu-id="a836e-165">However, customers often have higher expectations for the applications they consume.</span></span> <span data-ttu-id="a836e-166">È necessario sapere quando si verificano problemi con l'applicazione *prima* che gli utenti eseguano o prima di inviare una notifica agli utenti.</span><span class="sxs-lookup"><span data-stu-id="a836e-166">You should know when problems occur with your application *before* users do, or before users notify you.</span></span> <span data-ttu-id="a836e-167">In caso contrario, è possibile che si verifichi un problema quando si nota un diluvio indesiderato di post di social media che descrivono l'applicazione o anche la propria organizzazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-167">Otherwise, the first you know about a problem may be when you notice an angry deluge of social media posts deriding your application or even your organization.</span></span>

<span data-ttu-id="a836e-168">Di seguito sono riportati alcuni scenari che può essere necessario considerare:</span><span class="sxs-lookup"><span data-stu-id="a836e-168">Some scenarios you may need to consider include:</span></span>

- <span data-ttu-id="a836e-169">Un servizio nell'applicazione continua a non riuscire e a riavviare, causando risposte lente intermittenti.</span><span class="sxs-lookup"><span data-stu-id="a836e-169">One service in your application keeps failing and restarting, resulting in intermittent slow responses.</span></span>
- <span data-ttu-id="a836e-170">In alcuni momenti della giornata, il tempo di risposta dell'applicazione è lento.</span><span class="sxs-lookup"><span data-stu-id="a836e-170">At some times of the day, your application's response time is slow.</span></span>
- <span data-ttu-id="a836e-171">Dopo una distribuzione recente, il carico sul database è stato triplicato.</span><span class="sxs-lookup"><span data-stu-id="a836e-171">After a recent deployment, load on the database has tripled.</span></span>

<span data-ttu-id="a836e-172">Implementate correttamente, il monitoraggio può consentire di conoscere le condizioni che causano problemi, consentendo di risolvere le condizioni sottostanti prima di ottenere un impatto significativo sugli utenti.</span><span class="sxs-lookup"><span data-stu-id="a836e-172">Implemented properly, monitoring can let you know about conditions that will lead to problems, letting you address underlying conditions before they result in any significant user impact.</span></span>

### <a name="monitoring-cloud-native-apps"></a><span data-ttu-id="a836e-173">Monitoraggio delle app native del cloud</span><span class="sxs-lookup"><span data-stu-id="a836e-173">Monitoring cloud-native apps</span></span>

<span data-ttu-id="a836e-174">Alcuni sistemi di registrazione centralizzati accettano un ruolo aggiuntivo nella raccolta dei dati di telemetria all'esterno dei log puri.</span><span class="sxs-lookup"><span data-stu-id="a836e-174">Some centralized logging systems take on an additional role of collecting telemetry outside of pure logs.</span></span> <span data-ttu-id="a836e-175">Possono raccogliere le metriche, ad esempio il tempo necessario per eseguire una query sul database, il tempo medio di risposta da un server Web e anche le medie di carico della CPU e la quantità di memoria richieste dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a836e-175">They can collect metrics, such as time to run a database query, average response time from a web server, and even CPU load averages and memory pressure as reported by the operating system.</span></span> <span data-ttu-id="a836e-176">Insieme ai log, questi sistemi possono fornire una visualizzazione olistica dell'integrità dei nodi del sistema e dell'applicazione nel suo complesso.</span><span class="sxs-lookup"><span data-stu-id="a836e-176">In conjunction with the logs, these systems can provide a holistic view of the health of nodes in the system and the application as a whole.</span></span>

<span data-ttu-id="a836e-177">Le funzionalità di raccolta delle metriche degli strumenti di monitoraggio possono anche essere trasmesse manualmente dall'interno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-177">The metric-gathering capabilities of the monitoring tools can also be fed manually from within the application.</span></span> <span data-ttu-id="a836e-178">I flussi aziendali con particolare interesse, ad esempio i nuovi utenti che effettuano l'iscrizione o gli ordini, possono essere instrumentati in modo da incrementare un contatore nel sistema di monitoraggio centrale.</span><span class="sxs-lookup"><span data-stu-id="a836e-178">Business flows that are of particular interest such as new users signing up or orders being placed, may be instrumented such that they increment a counter in the central monitoring system.</span></span> <span data-ttu-id="a836e-179">Questa operazione sblocca gli strumenti di monitoraggio in modo da non solo monitorare l'integrità dell'applicazione, ma l'integrità dell'azienda.</span><span class="sxs-lookup"><span data-stu-id="a836e-179">This unlocks the monitoring tools to not only monitor the health of the application but the health of the business.</span></span>

<span data-ttu-id="a836e-180">Le query possono essere create negli strumenti di aggregazione dei log per cercare determinate statistiche o modelli, che possono essere visualizzati in formato grafico, nei dashboard personalizzati.</span><span class="sxs-lookup"><span data-stu-id="a836e-180">Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which can then be displayed in graphical form, on custom dashboards.</span></span> <span data-ttu-id="a836e-181">Spesso, i team investono in schermi di grandi dimensioni e montati in modo che ruotino le statistiche correlate a un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a836e-181">Frequently, teams will invest in large, wall-mounted displays that rotate through the statistics related to an application.</span></span> <span data-ttu-id="a836e-182">In questo modo, è semplice vedere i problemi non appena si verificano.</span><span class="sxs-lookup"><span data-stu-id="a836e-182">This way, it's simple to see the problems as they occur.</span></span>

<span data-ttu-id="a836e-183">Gli strumenti di monitoraggio nativi del cloud forniscono dati di telemetria in tempo reale e informazioni dettagliate sulle app, indipendentemente dal fatto che si tratti di applicazioni monolitiche a processo singolo o architetture di microservizi distribuiti.</span><span class="sxs-lookup"><span data-stu-id="a836e-183">Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether they're single-process monolithic applications or distributed microservice architectures.</span></span> <span data-ttu-id="a836e-184">Sono inclusi gli strumenti che consentono la raccolta di dati dall'app, oltre a strumenti per l'esecuzione di query e la visualizzazione di informazioni sull'integrità dell'app.</span><span class="sxs-lookup"><span data-stu-id="a836e-184">They include tools that allow collection of data from the app as well as tools for querying and displaying information about the app's health.</span></span>

## <a name="challenges-with-reacting-to-critical-problems-in-cloud-native-apps"></a><span data-ttu-id="a836e-185">Problemi con la reazione a problemi critici nelle app native del cloud</span><span class="sxs-lookup"><span data-stu-id="a836e-185">Challenges with reacting to critical problems in cloud-native apps</span></span>

<span data-ttu-id="a836e-186">Se è necessario reagire ai problemi con l'applicazione, è necessario un modo per avvisare il personale appropriato.</span><span class="sxs-lookup"><span data-stu-id="a836e-186">If you need to react to problems with your application, you need some way to alert the right personnel.</span></span> <span data-ttu-id="a836e-187">Si tratta del terzo modello di osservabilità delle applicazioni native del cloud e dipende dalla registrazione e dal monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="a836e-187">This is the third cloud-native application observability pattern and depends on logging and monitoring.</span></span> <span data-ttu-id="a836e-188">È necessario che l'applicazione disponga di una registrazione per consentire la diagnosi dei problemi e, in alcuni casi, per inserire gli strumenti di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="a836e-188">Your application needs to have logging in place to allow problems to be diagnosed, and in some cases to feed into monitoring tools.</span></span> <span data-ttu-id="a836e-189">È necessario il monitoraggio per aggregare le metriche dell'applicazione e i dati di integrità in un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="a836e-189">It needs monitoring to aggregate application metrics and health data in one place.</span></span> <span data-ttu-id="a836e-190">Una volta stabilita questa, è possibile creare regole che attiveranno avvisi quando determinate metriche non rientrano nei livelli accettabili.</span><span class="sxs-lookup"><span data-stu-id="a836e-190">Once this has been established, rules can be created that will trigger alerts when certain metrics fall outside of acceptable levels.</span></span>

<span data-ttu-id="a836e-191">In genere, gli avvisi sono sovrapposti al monitoraggio in modo che determinate condizioni attivino avvisi appropriati per notificare ai membri del team problemi urgenti.</span><span class="sxs-lookup"><span data-stu-id="a836e-191">Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate alerts to notify team members of urgent problems.</span></span> <span data-ttu-id="a836e-192">Di seguito sono riportati alcuni scenari che possono richiedere avvisi:</span><span class="sxs-lookup"><span data-stu-id="a836e-192">Some scenarios that may require alerts include:</span></span>

- <span data-ttu-id="a836e-193">Uno dei servizi dell'applicazione non risponde dopo 1 minuto di tempo di inattività.</span><span class="sxs-lookup"><span data-stu-id="a836e-193">One of your application's services is not responding after 1 minute of downtime.</span></span>
- <span data-ttu-id="a836e-194">L'applicazione sta restituendo risposte HTTP non riuscite a più dell'1% delle richieste.</span><span class="sxs-lookup"><span data-stu-id="a836e-194">Your application is returning unsuccessful HTTP responses to more than 1% of requests.</span></span>
- <span data-ttu-id="a836e-195">Il tempo medio di risposta dell'applicazione per gli endpoint chiave supera 2000 ms.</span><span class="sxs-lookup"><span data-stu-id="a836e-195">Your application's average response time for key endpoints exceeds 2000 ms.</span></span>

### <a name="alerts-in-cloud-native-apps"></a><span data-ttu-id="a836e-196">Avvisi nelle app native del cloud</span><span class="sxs-lookup"><span data-stu-id="a836e-196">Alerts in cloud-native apps</span></span>

<span data-ttu-id="a836e-197">È possibile creare query sugli strumenti di monitoraggio per individuare le condizioni di errore note.</span><span class="sxs-lookup"><span data-stu-id="a836e-197">You can craft queries against the monitoring tools to look for known failure conditions.</span></span> <span data-ttu-id="a836e-198">Ad esempio, le query possono eseguire ricerche nei log in ingresso per indicazioni sul codice di stato HTTP 500, che indica un problema in un server Web.</span><span class="sxs-lookup"><span data-stu-id="a836e-198">For instance, queries could search through the incoming logs for indications of HTTP status code 500, which indicates a problem on a web server.</span></span> <span data-ttu-id="a836e-199">Non appena viene rilevata una di queste, è possibile inviare un messaggio di posta elettronica o un SMS al proprietario del servizio di origine che può iniziare a esaminare.</span><span class="sxs-lookup"><span data-stu-id="a836e-199">As soon as one of these is detected, then an e-mail or an SMS could be sent to the owner of the originating service who can begin to investigate.</span></span>

<span data-ttu-id="a836e-200">In genere, tuttavia, un singolo errore 500 non è sufficiente per determinare se si è verificato un problema.</span><span class="sxs-lookup"><span data-stu-id="a836e-200">Typically, though, a single 500 error isn't enough to determine that a problem has occurred.</span></span> <span data-ttu-id="a836e-201">Potrebbe significare che un utente ha digitato la password in modo errato o ha immesso dati in formato non valido.</span><span class="sxs-lookup"><span data-stu-id="a836e-201">It could mean that a user mistyped their password or entered some malformed data.</span></span> <span data-ttu-id="a836e-202">È possibile creare query di avviso in modo che vengano attivate solo quando vengono rilevati un numero di errori 500 superiore alla media.</span><span class="sxs-lookup"><span data-stu-id="a836e-202">The alert queries can be crafted to only fire when a larger than average number of 500 errors are detected.</span></span>

<span data-ttu-id="a836e-203">Uno dei modelli più dannosi per gli avvisi consiste nel generare un numero eccessivo di avvisi per l'analisi da parte degli utenti.</span><span class="sxs-lookup"><span data-stu-id="a836e-203">One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate.</span></span> <span data-ttu-id="a836e-204">I proprietari del servizio diventeranno rapidamente desensibili agli errori che hanno esaminato in precedenza e che risultano benigni.</span><span class="sxs-lookup"><span data-stu-id="a836e-204">Service owners will rapidly become desensitized to errors that they've previously investigated and found to be benign.</span></span> <span data-ttu-id="a836e-205">Quindi, quando si verificano errori reali, andranno persi nel rumore di centinaia di falsi positivi.</span><span class="sxs-lookup"><span data-stu-id="a836e-205">Then, when true errors occur, they'll be lost in the noise of hundreds of false positives.</span></span> <span data-ttu-id="a836e-206">La parabola del [ragazzo che piangeva Wolf](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) viene spesso rilasciata agli elementi figlio per avvertire questi rischi.</span><span class="sxs-lookup"><span data-stu-id="a836e-206">The parable of the [Boy Who Cried Wolf](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) is frequently told to children to warn them of this very danger.</span></span> <span data-ttu-id="a836e-207">È importante assicurarsi che gli avvisi generati siano indicativi di un problema reale.</span><span class="sxs-lookup"><span data-stu-id="a836e-207">It's important to ensure that the alerts that do fire are indicative of a real problem.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="a836e-208">[Precedente](monitoring-health.md) 
> [Avanti](logging-with-elastic-stack.md)</span><span class="sxs-lookup"><span data-stu-id="a836e-208">[Previous](monitoring-health.md)
[Next](logging-with-elastic-stack.md)</span></span>
