---
title: Uso di funzioni serverless
description: Uso di funzioni senza server e di Azure in applicazioni native del cloud
ms.date: 04/13/2020
ms.openlocfilehash: 176499e3cd0349cd689b9d13d1c237a6343d13f3
ms.sourcegitcommit: 5988e9a29cedb8757320817deda3c08c6f44a6aa
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/28/2020
ms.locfileid: "82199742"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="f370f-103">Uso di funzioni serverless</span><span class="sxs-lookup"><span data-stu-id="f370f-103">Leveraging serverless functions</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="f370f-104">Nell'ambito della gestione dei computer fisici per sfruttare le funzionalità del cloud, le vite senza server sono alla fine estremo.</span><span class="sxs-lookup"><span data-stu-id="f370f-104">In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at the extreme end.</span></span> <span data-ttu-id="f370f-105">L'unica responsabilità è il codice e si paga solo quando viene eseguito il codice.</span><span class="sxs-lookup"><span data-stu-id="f370f-105">Your only responsibility is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="f370f-106">Funzioni di Azure offre un modo per creare funzionalità senza server nelle applicazioni native del cloud.</span><span class="sxs-lookup"><span data-stu-id="f370f-106">Azure Functions provides a way to build serverless capabilities into your cloud-native applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="f370f-107">Cosa significa "senza server"?</span><span class="sxs-lookup"><span data-stu-id="f370f-107">What is serverless?</span></span>

<span data-ttu-id="f370f-108">Senza server è un modello di servizio relativamente nuovo cloud computing.</span><span class="sxs-lookup"><span data-stu-id="f370f-108">Serverless is a relatively new service model of cloud computing.</span></span> <span data-ttu-id="f370f-109">Non significa che i server sono facoltativi. il codice viene comunque eseguito in un server in un punto qualsiasi.</span><span class="sxs-lookup"><span data-stu-id="f370f-109">It doesn't mean that servers are optional - your code still runs on a server somewhere.</span></span> <span data-ttu-id="f370f-110">La differenza è che il team di applicazioni non è più in grado di gestire l'infrastruttura server.</span><span class="sxs-lookup"><span data-stu-id="f370f-110">The distinction is that the application team no longer concerns itself with managing server infrastructure.</span></span> <span data-ttu-id="f370f-111">Al contrario, il fornitore del cloud è proprietario di questa responsabilità.</span><span class="sxs-lookup"><span data-stu-id="f370f-111">Instead, the cloud vendor own this responsibility.</span></span> <span data-ttu-id="f370f-112">Il team di sviluppo aumenta la produttività grazie a soluzioni aziendali per i clienti, senza plumbing.</span><span class="sxs-lookup"><span data-stu-id="f370f-112">The development team increases its productivity by delivering business solutions to customers, not plumbing.</span></span>

<span data-ttu-id="f370f-113">L'elaborazione senza server USA contenitori senza stato attivati dagli eventi per ospitare i servizi.</span><span class="sxs-lookup"><span data-stu-id="f370f-113">Serverless computing uses event-triggered stateless containers to host your services.</span></span> <span data-ttu-id="f370f-114">È possibile scalare in orizzontale e in per soddisfare la domanda in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="f370f-114">They can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="f370f-115">Le piattaforme senza server come funzioni di Azure hanno una stretta integrazione con altri servizi di Azure, come code, eventi e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f370f-115">Serverless platforms like Azure Functions have tight integration with other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="f370f-116">Quali problemi vengono risolti da server?</span><span class="sxs-lookup"><span data-stu-id="f370f-116">What challenges are solved by serverless?</span></span>

<span data-ttu-id="f370f-117">Le piattaforme senza server risolvono molti problemi costosi e dispendiosi in termini di tempo:</span><span class="sxs-lookup"><span data-stu-id="f370f-117">Serverless platforms address many time-consuming and expensive concerns:</span></span>

- <span data-ttu-id="f370f-118">Acquisto di computer e licenze software</span><span class="sxs-lookup"><span data-stu-id="f370f-118">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="f370f-119">Housing, protezione, configurazione e manutenzione dei computer e dei requisiti di rete, alimentazione e A/C</span><span class="sxs-lookup"><span data-stu-id="f370f-119">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="f370f-120">Applicazione di patch e aggiornamento dei sistemi operativi e del software</span><span class="sxs-lookup"><span data-stu-id="f370f-120">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="f370f-121">Configurazione di server Web o servizi computer per ospitare il software dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="f370f-121">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="f370f-122">Configurazione del software dell'applicazione all'interno della piattaforma</span><span class="sxs-lookup"><span data-stu-id="f370f-122">Configuring application software within its platform</span></span>

<span data-ttu-id="f370f-123">Molte aziende allocano budget di grandi dimensioni per supportare le problematiche dell'infrastruttura hardware.</span><span class="sxs-lookup"><span data-stu-id="f370f-123">Many companies allocate large budgets to support hardware infrastructure concerns.</span></span> <span data-ttu-id="f370f-124">Il passaggio al cloud può contribuire a ridurre i costi. lo spostamento di applicazioni in server senza server può essere utile per eliminarli.</span><span class="sxs-lookup"><span data-stu-id="f370f-124">Moving to the cloud can help reduce these costs; shifting applications to serverless can help eliminate them.</span></span>

## <a name="what-is-the-difference-between-a-microservice-and-a-serverless-function"></a><span data-ttu-id="f370f-125">Qual è la differenza tra un microservizio e una funzione senza server?</span><span class="sxs-lookup"><span data-stu-id="f370f-125">What is the difference between a microservice and a serverless function?</span></span>

<span data-ttu-id="f370f-126">In genere, un microservizio incapsula una funzionalità aziendale, ad esempio un carrello acquisti per un sito di eCommerce online.</span><span class="sxs-lookup"><span data-stu-id="f370f-126">Typically, a microservice encapsulates a business capability, such as a shopping cart for an online eCommerce site.</span></span> <span data-ttu-id="f370f-127">Espone più operazioni che consentono a un utente di gestire l'esperienza di acquisto.</span><span class="sxs-lookup"><span data-stu-id="f370f-127">It exposes multiple operations that enable a user to manage their shopping experience.</span></span> <span data-ttu-id="f370f-128">Una funzione, tuttavia, è un piccolo blocco di codice leggero che esegue un'operazione a scopo singolo in risposta a un evento.</span><span class="sxs-lookup"><span data-stu-id="f370f-128">A function, however, is a small, lightweight block of code that executes a single-purpose operation in response to an event.</span></span>
<span data-ttu-id="f370f-129">I microservizi vengono in genere costruiti per rispondere alle richieste, spesso da un'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="f370f-129">Microservices are typically constructed to respond to requests, often from an interface.</span></span> <span data-ttu-id="f370f-130">Le richieste possono essere basate su HTTP REST o gRPC.</span><span class="sxs-lookup"><span data-stu-id="f370f-130">Requests can be HTTP Rest- or gRPC-based.</span></span> <span data-ttu-id="f370f-131">I servizi senza server rispondono agli eventi.</span><span class="sxs-lookup"><span data-stu-id="f370f-131">Serverless services respond to events.</span></span> <span data-ttu-id="f370f-132">L'architettura basata su eventi è ideale per l'elaborazione di attività in background di breve durata.</span><span class="sxs-lookup"><span data-stu-id="f370f-132">Its event-driven architecture is ideal for processing short-running, background tasks.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="f370f-133">Quali scenari sono appropriati per i server?</span><span class="sxs-lookup"><span data-stu-id="f370f-133">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="f370f-134">Senza server espone singole funzioni a esecuzione breve richiamate in risposta a un trigger.</span><span class="sxs-lookup"><span data-stu-id="f370f-134">Serverless exposes individual short-running functions that are invoked in response to a trigger.</span></span> <span data-ttu-id="f370f-135">Che li rende ideali per l'elaborazione di attività in background.</span><span class="sxs-lookup"><span data-stu-id="f370f-135">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="f370f-136">Un'applicazione potrebbe dover inviare un messaggio di posta elettronica come passaggio di un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f370f-136">An application might need to send an email as a step in a workflow.</span></span> <span data-ttu-id="f370f-137">Anziché inviare la notifica come parte di una richiesta di microservizio, inserire i dettagli del messaggio in una coda.</span><span class="sxs-lookup"><span data-stu-id="f370f-137">Instead of sending the notification as part of a microservice request, place the message details onto a queue.</span></span> <span data-ttu-id="f370f-138">Una funzione di Azure può rimuovere dalla coda il messaggio e inviare il messaggio di posta elettronica in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="f370f-138">An Azure Function can dequeue the message and asynchronously send the email.</span></span> <span data-ttu-id="f370f-139">Questa operazione può migliorare le prestazioni e la scalabilità del microservizio.</span><span class="sxs-lookup"><span data-stu-id="f370f-139">Doing so could improve the performance and scalability of the microservice.</span></span> <span data-ttu-id="f370f-140">È possibile implementare il [livellamento del carico basato sulle code](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) per evitare colli di bottiglia correlati all'invio dei messaggi di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="f370f-140">[Queue-based load leveling](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) can be implemented to avoid bottlenecks related to sending the emails.</span></span> <span data-ttu-id="f370f-141">Questo servizio autonomo, inoltre, può essere riutilizzato come utilità in molte applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="f370f-141">Additionally, this stand-alone service could be reused as a utility across many different applications.</span></span>

<span data-ttu-id="f370f-142">La messaggistica asincrona da code e argomenti è un modello comune per l'attivazione di funzioni senza server.</span><span class="sxs-lookup"><span data-stu-id="f370f-142">Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions.</span></span> <span data-ttu-id="f370f-143">Tuttavia, funzioni di Azure può essere attivato da altri eventi, ad esempio modifiche all'archivio BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="f370f-143">However, Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="f370f-144">Un servizio che supporta il caricamento di immagini potrebbe avere una funzione di Azure responsabile dell'ottimizzazione delle dimensioni dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="f370f-144">A service that supports image uploads could have an Azure Function responsible for optimizing the image size.</span></span> <span data-ttu-id="f370f-145">La funzione può essere attivata direttamente da inserimenti nell'archivio BLOB di Azure, mantenendo la complessità delle operazioni di microservizio.</span><span class="sxs-lookup"><span data-stu-id="f370f-145">The function could be triggered directly by inserts into Azure Blob Storage, keeping complexity out of the microservice operations.</span></span>

<span data-ttu-id="f370f-146">Molti servizi hanno processi a esecuzione prolungata come parte dei propri flussi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="f370f-146">Many services have long-running processes as part of their workflows.</span></span> <span data-ttu-id="f370f-147">Queste attività vengono spesso eseguite come parte dell'interazione dell'utente con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f370f-147">Often these tasks are done as part of the user's interaction with the application.</span></span> <span data-ttu-id="f370f-148">Queste attività possono forzare l'attesa dell'utente, con un impatto negativo sulla propria esperienza.</span><span class="sxs-lookup"><span data-stu-id="f370f-148">These tasks can force the user to wait, negatively impacting their experience.</span></span> <span data-ttu-id="f370f-149">L'elaborazione senza server offre un ottimo modo per spostare attività più lente all'esterno del ciclo interazione utente.</span><span class="sxs-lookup"><span data-stu-id="f370f-149">Serverless computing provides a great way to move slower tasks outside of the user interaction loop.</span></span> <span data-ttu-id="f370f-150">Queste attività possono essere ridimensionate con la richiesta senza richiedere la scalabilità dell'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="f370f-150">These tasks can scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="f370f-151">Quando è consigliabile evitare senza server?</span><span class="sxs-lookup"><span data-stu-id="f370f-151">When should you avoid serverless?</span></span>

<span data-ttu-id="f370f-152">Le soluzioni senza server eseguono il provisioning e la scalabilità su richiesta.</span><span class="sxs-lookup"><span data-stu-id="f370f-152">Serverless solutions provision and scale on demand.</span></span> <span data-ttu-id="f370f-153">Quando viene richiamata una nuova istanza, l'avvio a freddo rappresenta un problema comune.</span><span class="sxs-lookup"><span data-stu-id="f370f-153">When a new instance is invoked, cold starts are a common issue.</span></span> <span data-ttu-id="f370f-154">Un inizio a freddo indica il periodo di tempo necessario per il provisioning di questa istanza.</span><span class="sxs-lookup"><span data-stu-id="f370f-154">A cold start is the period of time it takes to provision this instance.</span></span> <span data-ttu-id="f370f-155">In genere, questo ritardo può essere di pochi secondi, ma può essere più lungo a seconda di diversi fattori.</span><span class="sxs-lookup"><span data-stu-id="f370f-155">Normally, this delay might be a few seconds, but can be longer depending on various factors.</span></span> <span data-ttu-id="f370f-156">Una volta eseguito il provisioning, una singola istanza viene mantenuta attiva fino a quando riceve richieste periodiche.</span><span class="sxs-lookup"><span data-stu-id="f370f-156">Once provisioned, a single instance is kept alive as long as it receives periodic requests.</span></span> <span data-ttu-id="f370f-157">Tuttavia, se un servizio viene chiamato con minore frequenza, Azure può rimuoverlo dalla memoria e richiedere un avvio a freddo quando viene richiamato.</span><span class="sxs-lookup"><span data-stu-id="f370f-157">But, if a service is called less frequently, Azure may remove it from memory and require a cold start when reinvoked.</span></span> <span data-ttu-id="f370f-158">Le partenze a freddo sono necessarie anche quando una funzione viene scalata in uscita in una nuova istanza.</span><span class="sxs-lookup"><span data-stu-id="f370f-158">Cold starts are also required when a function scales out to a new instance.</span></span>

<span data-ttu-id="f370f-159">La figura 3-10 Mostra un modello di avvio a freddo.</span><span class="sxs-lookup"><span data-stu-id="f370f-159">Figure 3-10 shows a cold-start pattern.</span></span> <span data-ttu-id="f370f-160">Si notino i passaggi aggiuntivi necessari quando l'app è a freddo.</span><span class="sxs-lookup"><span data-stu-id="f370f-160">Note the extra steps required when the app is cold.</span></span>

<span data-ttu-id="f370f-161">![](./media/cold-start-warm-start.png)
**Figura 3-10**di avvio a freddo e a caldo.</span><span class="sxs-lookup"><span data-stu-id="f370f-161">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="f370f-162">Avvio a freddo rispetto all'avvio a caldo.</span><span class="sxs-lookup"><span data-stu-id="f370f-162">Cold start versus warm start.</span></span>

<span data-ttu-id="f370f-163">Per evitare che si avvii a freddo, è possibile passare da un [piano a consumo a un piano dedicato](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span><span class="sxs-lookup"><span data-stu-id="f370f-163">To avoid cold starts entirely, you might switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="f370f-164">È anche possibile configurare una o più [istanze pre-surriscaldate](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) con l'aggiornamento del piano Premium.</span><span class="sxs-lookup"><span data-stu-id="f370f-164">You can also configure one or more [pre-warmed instances](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan upgrade.</span></span> <span data-ttu-id="f370f-165">In questi casi, quando è necessario aggiungere un'altra istanza, è già attivo e pronto per l'uso.</span><span class="sxs-lookup"><span data-stu-id="f370f-165">In these cases, when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="f370f-166">Queste opzioni consentono di attenuare il problema di avvio a freddo associato all'elaborazione senza server.</span><span class="sxs-lookup"><span data-stu-id="f370f-166">These options can help mitigate the cold start issue associated with serverless computing.</span></span>

<span data-ttu-id="f370f-167">I provider di servizi cloud fatturano per server in base al tempo di esecuzione di calcolo e alla memoria utilizzata.</span><span class="sxs-lookup"><span data-stu-id="f370f-167">Cloud providers bill for serverless based on compute execution time and consumed memory.</span></span> <span data-ttu-id="f370f-168">Le operazioni a esecuzione prolungata o i carichi di lavoro con utilizzo elevato di memoria non sono sempre i migliori candidati per senza server.</span><span class="sxs-lookup"><span data-stu-id="f370f-168">Long running operations or high memory consumption workloads aren't always the best candidates for serverless.</span></span> <span data-ttu-id="f370f-169">Le funzioni senza server favoriscono piccoli blocchi di lavoro che possono essere completati rapidamente.</span><span class="sxs-lookup"><span data-stu-id="f370f-169">Serverless functions favor small chunks of work that can complete quickly.</span></span> <span data-ttu-id="f370f-170">La maggior parte delle piattaforme senza server richiede il completamento delle singole funzioni entro pochi minuti.</span><span class="sxs-lookup"><span data-stu-id="f370f-170">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="f370f-171">Per impostazione predefinita, funzioni di Azure è una durata di timeout di 5 minuti, che può essere configurata fino a 10 minuti.</span><span class="sxs-lookup"><span data-stu-id="f370f-171">Azure Functions defaults to a 5-minute time-out duration, which can be configured up to 10 minutes.</span></span> <span data-ttu-id="f370f-172">Il piano Premium di funzioni di Azure può attenuare questo problema, impostando i timeout predefiniti su 30 minuti con un limite superiore illimitato che può essere configurato.</span><span class="sxs-lookup"><span data-stu-id="f370f-172">The Azure Functions premium plan can mitigate this issue as well, defaulting time-outs to 30 minutes with an unbounded higher limit that can be configured.</span></span> <span data-ttu-id="f370f-173">Il tempo di calcolo non è una data di calendario.</span><span class="sxs-lookup"><span data-stu-id="f370f-173">Compute time isn't calendar time.</span></span> <span data-ttu-id="f370f-174">Funzioni più avanzate con il [Framework di Durable Functions di Azure](https://docs.microsoft.com/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) possono sospendere l'esecuzione in un corso di alcuni giorni.</span><span class="sxs-lookup"><span data-stu-id="f370f-174">More advanced functions using the [Azure Durable Functions framework](https://docs.microsoft.com/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) may pause execution over a course of several days.</span></span> <span data-ttu-id="f370f-175">La fatturazione è basata sul tempo di esecuzione effettivo, quando la funzione viene riattivata e riprende l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="f370f-175">The billing is based on actual execution time - when the function wakes up and resumes processing.</span></span>

<span data-ttu-id="f370f-176">Infine, l'uso di funzioni di Azure per le attività dell'applicazione aggiunge complessità.</span><span class="sxs-lookup"><span data-stu-id="f370f-176">Finally, leveraging Azure Functions for application tasks adds complexity.</span></span> <span data-ttu-id="f370f-177">Per prima cosa è consigliabile progettare l'applicazione con un progetto modulare, a regime di controllo libero.</span><span class="sxs-lookup"><span data-stu-id="f370f-177">It's wise to first architect your application with a modular, loosely coupled design.</span></span> <span data-ttu-id="f370f-178">Quindi, identificare se i vantaggi offerti da server non sono disponibili per giustificare la complessità aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="f370f-178">Then, identify if there are benefits serverless would offer that justify the additional complexity.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="f370f-179">[Precedente](leverage-containers-orchestrators.md)
>[successivo](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="f370f-179">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
