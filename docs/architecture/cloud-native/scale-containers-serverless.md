---
title: Ridimensionamento di applicazioni in contenitori e serverless
description: Ridimensionamento di applicazioni native del cloud con il servizio Azure Kubernetes per soddisfare le richieste degli utenti.
ms.date: 04/13/2020
ms.openlocfilehash: b4580e6994611ad394bbaa2d5bb07f64c2798569
ms.sourcegitcommit: 5988e9a29cedb8757320817deda3c08c6f44a6aa
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/28/2020
ms.locfileid: "82199924"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="56e7b-103">Ridimensionamento di applicazioni in contenitori e serverless</span><span class="sxs-lookup"><span data-stu-id="56e7b-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="56e7b-104">Esistono due modi per ridimensionare un'applicazione: up o out. Il primo si riferisce all'aggiunta di capacità a una singola risorsa, mentre quest'ultimo si riferisce all'aggiunta di altre risorse per aumentare la capacità.</span><span class="sxs-lookup"><span data-stu-id="56e7b-104">There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="56e7b-105">Soluzione semplice: scalabilità verticale</span><span class="sxs-lookup"><span data-stu-id="56e7b-105">The simple solution: scaling up</span></span>

<span data-ttu-id="56e7b-106">L'aggiornamento di un server host esistente con CPU, memoria, velocità di I/O del disco e velocità di I/O di rete maggiori è noto come *scalabilità verticale*.</span><span class="sxs-lookup"><span data-stu-id="56e7b-106">Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as *scaling up*.</span></span> <span data-ttu-id="56e7b-107">La scalabilità verticale di un'applicazione nativa del cloud prevede la scelta di risorse più idonee per il fornitore del cloud.</span><span class="sxs-lookup"><span data-stu-id="56e7b-107">Scaling up a cloud-native application involves choosing more capable resources from the cloud vendor.</span></span> <span data-ttu-id="56e7b-108">Ad esempio, è possibile un nuovo pool di nodi con macchine virtuali di dimensioni maggiori nel cluster Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="56e7b-108">For example, you can a new node pool with larger VMs in your Kubernetes cluster.</span></span> <span data-ttu-id="56e7b-109">Eseguire quindi la migrazione dei servizi in contenitori al nuovo pool.</span><span class="sxs-lookup"><span data-stu-id="56e7b-109">Then, migrate your containerized services to the new pool.</span></span>

<span data-ttu-id="56e7b-110">Per le app senza server è necessario scegliere il [piano di funzioni Premium](https://docs.microsoft.com/azure/azure-functions/functions-scale) o le dimensioni delle istanze Premium da un piano di servizio App dedicato.</span><span class="sxs-lookup"><span data-stu-id="56e7b-110">Serverless apps scale up by choosing the [premium Functions plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) or premium instance sizes from a dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="56e7b-111">Scalabilità orizzontale delle app native del cloud</span><span class="sxs-lookup"><span data-stu-id="56e7b-111">Scaling out cloud-native apps</span></span>

<span data-ttu-id="56e7b-112">Le applicazioni native del cloud spesso presentano fluttuazioni di grandi dimensioni e richiedono la scalabilità in un momento di preavviso.</span><span class="sxs-lookup"><span data-stu-id="56e7b-112">Cloud-native applications often experience large fluctuations in demand and require scale on a moment's notice.</span></span> <span data-ttu-id="56e7b-113">Si favoriscono la scalabilità orizzontale. La scalabilità orizzontale viene eseguita orizzontalmente aggiungendo altri computer (detti nodi) o istanze dell'applicazione a un cluster esistente.</span><span class="sxs-lookup"><span data-stu-id="56e7b-113">They favor scaling out. Scaling out is done horizontally by adding additional machines (called nodes) or application instances to an existing cluster.</span></span> <span data-ttu-id="56e7b-114">In Kubernetes è possibile ridimensionare manualmente le impostazioni di configurazione per l'app (ad esempio, il [ridimensionamento di un pool di nodi](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) o la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="56e7b-114">In Kubernetes, you can scale manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through autoscaling.</span></span>

<span data-ttu-id="56e7b-115">I cluster AKS possono essere ridimensionati automaticamente in uno dei due modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="56e7b-115">AKS clusters can autoscale in one of two ways:</span></span>

<span data-ttu-id="56e7b-116">In primo luogo, la [scalabilità automatica del Pod orizzontale](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) monitora la richiesta di risorse e ridimensiona automaticamente le repliche pod per soddisfarle.</span><span class="sxs-lookup"><span data-stu-id="56e7b-116">First, the [Horizontal Pod Autoscaler](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) monitors resource demand and automatically scales your POD replicas to meet it.</span></span> <span data-ttu-id="56e7b-117">Quando il traffico aumenta, viene effettuato automaticamente il provisioning di altre repliche per la scalabilità orizzontale dei servizi.</span><span class="sxs-lookup"><span data-stu-id="56e7b-117">When traffic increases, additional replicas are automatically provisioned to scale out your services.</span></span> <span data-ttu-id="56e7b-118">Allo stesso modo, quando la richiesta diminuisce, vengono rimossi per la scalabilità dei servizi.</span><span class="sxs-lookup"><span data-stu-id="56e7b-118">Likewise, when demand decreases, they're removed to scale-in your services.</span></span> <span data-ttu-id="56e7b-119">Si definisce la metrica su cui applicare la scalabilità, ad esempio l'utilizzo della CPU.</span><span class="sxs-lookup"><span data-stu-id="56e7b-119">You define the metric on which to scale, for example, CPU usage.</span></span> <span data-ttu-id="56e7b-120">È anche possibile specificare il numero minimo e massimo di repliche da eseguire.</span><span class="sxs-lookup"><span data-stu-id="56e7b-120">You can also specify the minimum and maximum number of replicas to run.</span></span> <span data-ttu-id="56e7b-121">AKS monitora tale metrica e scala di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="56e7b-121">AKS monitors that metric and scales accordingly.</span></span>

<span data-ttu-id="56e7b-122">La funzionalità di [scalabilità automatica del cluster AKS](https://docs.microsoft.com/azure/aks/cluster-autoscaler) consente quindi di ridimensionare automaticamente i nodi di calcolo in un cluster Kubernetes per soddisfare la domanda.</span><span class="sxs-lookup"><span data-stu-id="56e7b-122">Next, the [AKS Cluster Autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) feature enables you to automatically scale compute nodes across a Kubernetes cluster to meet demand.</span></span> <span data-ttu-id="56e7b-123">Con esso, è possibile aggiungere automaticamente nuove macchine virtuali al set di scalabilità di macchine virtuali di Azure sottostanti ogni volta che è necessaria una maggiore capacità di calcolo.</span><span class="sxs-lookup"><span data-stu-id="56e7b-123">With it, you can automatically add new VMs to the underlying Azure Virtual Machine Scale Set whenever more compute capacity of is required.</span></span> <span data-ttu-id="56e7b-124">Rimuove inoltre i nodi quando non sono più necessari.</span><span class="sxs-lookup"><span data-stu-id="56e7b-124">It also removes nodes when no longer required.</span></span>

<span data-ttu-id="56e7b-125">La figura 3-13 Mostra la relazione tra questi due servizi di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="56e7b-125">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Scalabilità orizzontale di un piano di servizio app.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="56e7b-127">**Figura 3-13**.</span><span class="sxs-lookup"><span data-stu-id="56e7b-127">**Figure 3-13**.</span></span> <span data-ttu-id="56e7b-128">Scalabilità orizzontale di un piano di servizio app.</span><span class="sxs-lookup"><span data-stu-id="56e7b-128">Scaling out an App Service plan.</span></span>

<span data-ttu-id="56e7b-129">Interagiscono, entrambi garantiscono un numero ottimale di istanze di contenitore e nodi di calcolo per supportare la domanda fluttuante.</span><span class="sxs-lookup"><span data-stu-id="56e7b-129">Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand.</span></span> <span data-ttu-id="56e7b-130">Il ridimensionamento automatico del Pod orizzontale ottimizza il numero di Pod necessari.</span><span class="sxs-lookup"><span data-stu-id="56e7b-130">The horizontal pod autoscaler optimizes the number of pods required.</span></span> <span data-ttu-id="56e7b-131">Il servizio di scalabilità automatica del cluster ottimizza il numero di nodi necessari.</span><span class="sxs-lookup"><span data-stu-id="56e7b-131">The cluster autoscaler optimizes the number of nodes required.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="56e7b-132">Ridimensionamento di Funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="56e7b-132">Scaling Azure Functions</span></span>

<span data-ttu-id="56e7b-133">Funzioni di Azure viene scalato automaticamente su richiesta.</span><span class="sxs-lookup"><span data-stu-id="56e7b-133">Azure Functions automatically scale out upon demand.</span></span> <span data-ttu-id="56e7b-134">Le risorse del server vengono allocate e rimosse in modo dinamico in base al numero di eventi attivati.</span><span class="sxs-lookup"><span data-stu-id="56e7b-134">Server resources are dynamically allocated and removed based on the number of triggered events.</span></span> <span data-ttu-id="56e7b-135">Vengono addebitate solo le risorse di calcolo utilizzate durante l'esecuzione delle funzioni.</span><span class="sxs-lookup"><span data-stu-id="56e7b-135">You're only charged for compute resources consumed when your functions run.</span></span> <span data-ttu-id="56e7b-136">La fatturazione è basata sul numero di esecuzioni, sul tempo di esecuzione e sulla memoria usata.</span><span class="sxs-lookup"><span data-stu-id="56e7b-136">Billing is based upon the number of executions, execution time, and memory used.</span></span>

<span data-ttu-id="56e7b-137">Sebbene il piano a consumo predefinito fornisca una soluzione economica e scalabile per la maggior parte delle app, l'opzione Premium consente agli sviluppatori di flessibilità per i requisiti personalizzati di funzioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="56e7b-137">While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span> <span data-ttu-id="56e7b-138">L'aggiornamento al piano Premium consente di controllare le dimensioni delle istanze, le istanze pre-surriscaldate (per evitare ritardi di avvio a freddo) e le macchine virtuali dedicate.</span><span class="sxs-lookup"><span data-stu-id="56e7b-138">Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="56e7b-139">[Precedente](deploy-containers-azure.md)
>[successivo](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="56e7b-139">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
