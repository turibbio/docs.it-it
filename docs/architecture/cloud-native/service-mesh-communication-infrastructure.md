---
title: Infrastruttura di comunicazione con mesh di servizi
description: Informazioni su come le tecnologie di servizi Mesh semplificano la comunicazione di microservizi nativa del cloud
author: robvet
ms.date: 05/13/2020
ms.openlocfilehash: 1b11024cd029433c756812850e2665b7836a13d3
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613687"
---
# <a name="service-mesh-communication-infrastructure"></a><span data-ttu-id="7e7a8-103">Infrastruttura di comunicazione con mesh di servizi</span><span class="sxs-lookup"><span data-stu-id="7e7a8-103">Service Mesh communication infrastructure</span></span>

<span data-ttu-id="7e7a8-104">In questo capitolo sono state esaminate le esigenze della comunicazione di microservizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-104">Throughout this chapter, we've explored the challenges of microservice communication.</span></span> <span data-ttu-id="7e7a8-105">Abbiamo detto che i team di sviluppo devono essere sensibili al modo in cui i servizi back-end comunicano tra loro.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-105">We said that development teams need to be sensitive to how back-end services communicate with each other.</span></span> <span data-ttu-id="7e7a8-106">Idealmente, migliore è la comunicazione tra i servizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-106">Ideally, the less inter-service communication, the better.</span></span> <span data-ttu-id="7e7a8-107">Tuttavia, l'elusione non è sempre possibile perché i servizi back-end si basano spesso su un altro per completare le operazioni.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-107">However, avoidance isn't always possible as back-end services often rely on one another to complete operations.</span></span>

<span data-ttu-id="7e7a8-108">Sono stati esaminati diversi approcci per l'implementazione della comunicazione HTTP sincrona e della messaggistica asincrona.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-108">We explored different approaches for implementing synchronous HTTP communication and asynchronous messaging.</span></span> <span data-ttu-id="7e7a8-109">In ognuno dei casi, lo sviluppatore è sovraccarico nell'implementazione del codice di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-109">In each of the cases, the developer is burdened with implementing communication code.</span></span> <span data-ttu-id="7e7a8-110">Il codice di comunicazione è complesso e a elevato utilizzo di tempo.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-110">Communication code is complex and time intensive.</span></span> <span data-ttu-id="7e7a8-111">Decisioni non corrette possono causare gravi problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-111">Incorrect decisions can lead to significant performance issues.</span></span>

<span data-ttu-id="7e7a8-112">Un approccio più moderno ai centri di comunicazione del microservizio intorno a una tecnologia nuova e in rapida evoluzione intitolata *Service mesh*.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-112">A more modern approach to microservice communication centers around a new and rapidly evolving technology entitled *Service Mesh*.</span></span> <span data-ttu-id="7e7a8-113">Una [rete mesh di servizi](https://www.nginx.com/blog/what-is-a-service-mesh/) è un livello di infrastruttura configurabile con funzionalità predefinite per gestire la comunicazione da servizio a servizio, la resilienza e molte problematiche trasversali.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-113">A [service mesh](https://www.nginx.com/blog/what-is-a-service-mesh/) is a configurable infrastructure layer with built-in capabilities to handle service-to-service communication, resiliency, and many cross-cutting concerns.</span></span> <span data-ttu-id="7e7a8-114">Viene spostata la responsabilità di questi problemi tra i microservizi e il livello mesh del servizio.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-114">It moves the responsibility for these concerns out of the microservices and into service mesh layer.</span></span> <span data-ttu-id="7e7a8-115">La comunicazione viene sottratta dai microservizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-115">Communication is abstracted away from your microservices.</span></span>

<span data-ttu-id="7e7a8-116">Un componente chiave di una rete mesh di servizi è un proxy.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-116">A key component of a service mesh is a proxy.</span></span> <span data-ttu-id="7e7a8-117">In un'applicazione nativa del cloud, un'istanza di un proxy si trova in genere in un percorso condiviso con ogni microservizio.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-117">In a cloud-native application, an instance of a proxy is typically colocated with each microservice.</span></span> <span data-ttu-id="7e7a8-118">Mentre vengono eseguiti in processi distinti, i due elementi sono strettamente collegati e condividono lo stesso ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-118">While they execute in separate processes, the two are closely linked and share the same lifecycle.</span></span> <span data-ttu-id="7e7a8-119">Questo modello, noto come [modello sidecar](https://docs.microsoft.com/azure/architecture/patterns/sidecar), è illustrato nella figura 4-24.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-119">This pattern, known as the [Sidecar pattern](https://docs.microsoft.com/azure/architecture/patterns/sidecar), and is shown in Figure 4-24.</span></span>

![Rete di servizi con un'auto laterale](./media/service-mesh-with-side-car.png)

<span data-ttu-id="7e7a8-121">**Figura 4-24**.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-121">**Figure 4-24**.</span></span> <span data-ttu-id="7e7a8-122">Rete di servizi con un'auto laterale</span><span class="sxs-lookup"><span data-stu-id="7e7a8-122">Service mesh with a side car</span></span>

<span data-ttu-id="7e7a8-123">Si noti che nella figura precedente il modo in cui i messaggi vengono intercettati da un proxy eseguito insieme a ogni microservizio.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-123">Note in the previous figure how messages are intercepted by a proxy that runs alongside each microservice.</span></span> <span data-ttu-id="7e7a8-124">Ogni proxy può essere configurato con regole di traffico specifiche del microservizio.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-124">Each proxy can be configured with traffic rules specific to the microservice.</span></span> <span data-ttu-id="7e7a8-125">Riconosce i messaggi ed è in grado di instradarli tra i servizi e il mondo esterno.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-125">It understands messages and can route them across your services and the outside world.</span></span>

<span data-ttu-id="7e7a8-126">Oltre alla gestione della comunicazione da servizio a servizio, la rete mesh del servizio fornisce supporto per l'individuazione dei servizi e il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-126">Along with managing service-to-service communication, the Service Mesh provides support for service discovery and load balancing.</span></span>

<span data-ttu-id="7e7a8-127">Una volta configurata, una mesh del servizio è altamente funzionante.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-127">Once configured, a service mesh is highly functional.</span></span> <span data-ttu-id="7e7a8-128">Il mesh recupera un pool di istanze corrispondente da un endpoint di individuazione del servizio.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-128">The mesh retrieves a corresponding pool of instances from a service discovery endpoint.</span></span> <span data-ttu-id="7e7a8-129">Invia una richiesta a un'istanza del servizio specifica, registrando la latenza e il tipo di risposta del risultato.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-129">It sends a request to a specific service instance, recording the latency and response type of the result.</span></span> <span data-ttu-id="7e7a8-130">Consente di scegliere l'istanza con maggiore probabilità di restituire una risposta rapida in base a fattori diversi, inclusa la latenza osservata per le richieste recenti.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-130">It chooses the instance most likely to return a fast response based on different factors, including the observed latency for recent requests.</span></span>

<span data-ttu-id="7e7a8-131">Una rete mesh di servizi gestisce problemi di traffico, comunicazione e rete a livello di applicazione.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-131">A service mesh manages traffic, communication, and networking concerns at the application level.</span></span> <span data-ttu-id="7e7a8-132">Riconosce messaggi e richieste.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-132">It understands messages and requests.</span></span> <span data-ttu-id="7e7a8-133">Una mesh di servizi si integra in genere con un agente di orchestrazione del contenitore.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-133">A service mesh typically integrates with a container orchestrator.</span></span> <span data-ttu-id="7e7a8-134">Kubernetes supporta un'architettura estendibile in cui è possibile aggiungere una mesh di servizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-134">Kubernetes supports an extensible architecture in which a service mesh can be added.</span></span>

<span data-ttu-id="7e7a8-135">Nel capitolo 6 vengono approfondite le tecnologie di rete di servizi, inclusa una discussione sulla sua architettura e sulle implementazioni open source disponibili.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-135">In chapter 6, we deep-dive into Service Mesh technologies including a discussion on its architecture and available open-source implementations.</span></span>

## <a name="summary"></a><span data-ttu-id="7e7a8-136">Summary</span><span class="sxs-lookup"><span data-stu-id="7e7a8-136">Summary</span></span>

<span data-ttu-id="7e7a8-137">In questo capitolo sono stati illustrati i modelli di comunicazione nativi del cloud.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-137">In this chapter, we discussed cloud-native communication patterns.</span></span> <span data-ttu-id="7e7a8-138">Abbiamo iniziato esaminando il modo in cui i client front-end comunicano con microservizi back-end.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-138">We started by examining how front-end clients communicate with back-end microservices.</span></span> <span data-ttu-id="7e7a8-139">Abbiamo parlato delle piattaforme del gateway API e della comunicazione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-139">Along the way, we talked about API Gateway platforms and real-time communication.</span></span> <span data-ttu-id="7e7a8-140">È stato quindi esaminato il modo in cui i microservizi comunicano con altri servizi back-end.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-140">We then looked at how microservices communicate with other back-end services.</span></span> <span data-ttu-id="7e7a8-141">Sono state esaminate sia la comunicazione HTTP sincrona che la messaggistica asincrona tra i servizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-141">We looked at both synchronous HTTP communication and asynchronous messaging across services.</span></span> <span data-ttu-id="7e7a8-142">Abbiamo trattato gRPC, una tecnologia imminente nel mondo nativo del cloud.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-142">We covered gRPC, an upcoming technology in the cloud-native world.</span></span> <span data-ttu-id="7e7a8-143">È stata infine introdotta una tecnologia nuova e in rapida evoluzione denominata mesh di servizi in grado di semplificare la comunicazione di microservizi.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-143">Finally, we introduced a new and rapidly evolving technology entitled Service Mesh that can streamline microservice communication.</span></span>

<span data-ttu-id="7e7a8-144">Particolare enfasi sui servizi di Azure gestiti che consentono di implementare la comunicazione nei sistemi nativi del cloud:</span><span class="sxs-lookup"><span data-stu-id="7e7a8-144">Special emphasis was on managed Azure services that can help implement communication in cloud-native systems:</span></span>

- [<span data-ttu-id="7e7a8-145">Gateway applicazione Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-145">Azure Application Gateway</span></span>](https://docs.microsoft.com/azure/application-gateway/overview)
- [<span data-ttu-id="7e7a8-146">Gestione API di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-146">Azure API Management</span></span>](https://azure.microsoft.com/services/api-management/)
- [<span data-ttu-id="7e7a8-147">Servizio Azure SignalR</span><span class="sxs-lookup"><span data-stu-id="7e7a8-147">Azure SignalR Service</span></span>](https://azure.microsoft.com/services/signalr-service/)
- [<span data-ttu-id="7e7a8-148">Code di Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-148">Azure Storage Queues</span></span>](https://docs.microsoft.com/azure/storage/queues/storage-queues-introduction)
- [<span data-ttu-id="7e7a8-149">Bus di servizio di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-149">Azure Service Bus</span></span>](https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview)
- [<span data-ttu-id="7e7a8-150">Griglia di eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-150">Azure Event Grid</span></span>](https://docs.microsoft.com/azure/event-grid/overview)
- [<span data-ttu-id="7e7a8-151">Hub eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-151">Azure Event Hub</span></span>](https://azure.microsoft.com/services/event-hubs/)

<span data-ttu-id="7e7a8-152">Si passa quindi ai dati distribuiti nei sistemi nativi del cloud e ai vantaggi e alle esigenze che presenta.</span><span class="sxs-lookup"><span data-stu-id="7e7a8-152">We next move to distributed data in cloud-native systems and the benefits and challenges that it presents.</span></span>

### <a name="references"></a><span data-ttu-id="7e7a8-153">Riferimenti</span><span class="sxs-lookup"><span data-stu-id="7e7a8-153">References</span></span>

- [<span data-ttu-id="7e7a8-154">Microservizi .NET: architettura per le applicazioni .NET in contenitori</span><span class="sxs-lookup"><span data-stu-id="7e7a8-154">.NET Microservices: Architecture for Containerized .NET applications</span></span>](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook)

- [<span data-ttu-id="7e7a8-155">Progettazione della comunicazione tra servizi per i microservizi</span><span class="sxs-lookup"><span data-stu-id="7e7a8-155">Designing Interservice Communication for Microservices</span></span>](https://docs.microsoft.com/azure/architecture/microservices/design/interservice-communication)

- [<span data-ttu-id="7e7a8-156">Servizio Azure SignalR, un servizio completamente gestito per l'aggiunta di funzionalità in tempo reale</span><span class="sxs-lookup"><span data-stu-id="7e7a8-156">Azure SignalR Service, a fully managed service to add real-time functionality</span></span>](https://azure.microsoft.com/blog/azure-signalr-service-a-fully-managed-service-to-add-real-time-functionality/)

- [<span data-ttu-id="7e7a8-157">Controller di ingresso del gateway API di Azure</span><span class="sxs-lookup"><span data-stu-id="7e7a8-157">Azure API Gateway Ingress Controller</span></span>](https://azure.github.io/application-gateway-kubernetes-ingress/)

- [<span data-ttu-id="7e7a8-158">Informazioni sul traffico in ingresso in Azure Kubernetes Service (AKS)</span><span class="sxs-lookup"><span data-stu-id="7e7a8-158">About Ingress in Azure Kubernetes Service (AKS)</span></span>](https://vincentlauzon.com/2018/10/10/about-ingress-in-azure-kubernetes-service-aks/)

- [<span data-ttu-id="7e7a8-159">Documentazione di gRPC</span><span class="sxs-lookup"><span data-stu-id="7e7a8-159">gRPC Documentation</span></span>](https://grpc.io/docs/guides/)

- [<span data-ttu-id="7e7a8-160">gRPC per sviluppatori WCF</span><span class="sxs-lookup"><span data-stu-id="7e7a8-160">gRPC for WCF Developers</span></span>](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/)

- [<span data-ttu-id="7e7a8-161">Confronto tra i servizi gRPC e le API HTTP</span><span class="sxs-lookup"><span data-stu-id="7e7a8-161">Comparing gRPC Services with HTTP APIs</span></span>](https://docs.microsoft.com/aspnet/core/grpc/comparison?view=aspnetcore-3.0)

- [<span data-ttu-id="7e7a8-162">Video sulla creazione di servizi gRPC con .NET</span><span class="sxs-lookup"><span data-stu-id="7e7a8-162">Building gRPC Services with .NET video</span></span>](https://channel9.msdn.com/Shows/The-Cloud-Native-Show/Building-Microservices-with-gRPC-and-NET)

>[!div class="step-by-step"]
><span data-ttu-id="7e7a8-163">[Precedente](grpc.md) 
> [Avanti](distributed-data.md)</span><span class="sxs-lookup"><span data-stu-id="7e7a8-163">[Previous](grpc.md)
[Next](distributed-data.md)</span></span>
